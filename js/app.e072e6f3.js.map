{"version":3,"file":"js/app.e072e6f3.js","mappings":"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","sources":["webpack://vue-project/./src/event.ts","webpack://vue-project/./src/game.ts","webpack://vue-project/./src/llm.ts","webpack://vue-project/./src/text.ts","webpack://vue-project/./src/components/CanvasUser.vue?4afb","webpack://vue-project/./src/components/CanvasUser.vue","webpack://vue-project/./src/components/CanvasUser.vue?7b96","webpack://vue-project/./src/components/GameCanvas.vue","webpack://vue-project/./src/components/GameCanvas.vue?d007","webpack://vue-project/./src/components/GameCanvas.vue?cf9f","webpack://vue-project/./src/components/MessageCard.vue?0f40","webpack://vue-project/./src/components/MessageCard.vue","webpack://vue-project/./src/components/MessageCard.vue?3d29","webpack://vue-project/./src/components/MessageList.vue?13dd","webpack://vue-project/./src/components/MessageList.vue","webpack://vue-project/./src/components/MessageList.vue?2e85","webpack://vue-project/./src/App.vue?2a5e","webpack://vue-project/./src/App.vue","webpack://vue-project/./src/App.vue?7ccd","webpack://vue-project/./src/main.ts","webpack://vue-project/webpack/bootstrap","webpack://vue-project/webpack/runtime/chunk loaded","webpack://vue-project/webpack/runtime/compat get default export","webpack://vue-project/webpack/runtime/define property getters","webpack://vue-project/webpack/runtime/global","webpack://vue-project/webpack/runtime/hasOwnProperty shorthand","webpack://vue-project/webpack/runtime/jsonp chunk loading","webpack://vue-project/webpack/startup"],"sourcesContent":["const events:Record<string, Record<string, (...params:any[])=>void>> = {}\nexport function subscribe(event:string, action:(...params:any[])=>void):number\n{\n    if (!(event in events))\n    {\n        events[event] = {}\n    }\n    const key = Object.keys(events[event]).length-1;\n    events[event][key] = action;\n    return key;\n}\nexport function desubscribe(event:string, key:number):void\n{\n    if (event in events)\n    {\n        delete events[event][key];\n    }\n}\nexport function emit(event:string, ...args:any[]):void\n{\n    if (event in events)\n    {\n        Object.values(events[event]).forEach(action => {\n            action(...args);\n        });\n    }\n}","import { emit } from \"./event\";\n\nexport interface Message {id:number, i:number, j:number, v:number, t:number}\n\nexport interface Progress{\n  userGraph: Record<string, number>;\n  userSize: Record<number, number>;\n  userMemory: Record<number, Array<number>>;\n  messages: Array<Message>;\n  userCount: number;\n  time: number;\n}\n\nexport let progress:Progress = {\n    userGraph: {},\n    userSize: {},\n    userMemory: {},\n    messages: [],\n    userCount: 0,\n    time: 0\n}\n\nexport function setProgress(newProgress:Progress)\n{\n  emit(\"resetProgress\");\n  progress = newProgress;\n  for(let i=0;i<progress.userCount;i++)\n  {\n    emit(\"createdUser\",i);\n  }\n  progress.messages.forEach(msg => {\n    emit('addedMessage', msg);\n  });\n}\n\nexport function rGet(a:number,b:number)\n{\n  if(a>b){\n    return rGet(b,a);\n  }\n  const k = a.toString(32)+'_'+b.toString(32);\n  if (!(k in progress.userGraph)) {\n    return 0;\n  }\n  return progress.userGraph[k];\n}\n\nexport function rSet(a:number,b:number,v:number)\n{\n  if(a>b) {\n    rSet(b,a,v);\n    return;\n  }\n  const k = a.toString(32)+'_'+b.toString(32);\n  progress.userGraph[k] = v;\n}\n\nfunction balance(po:number, px:number, ox:number):{newPx:number, newPo:number}\n{\n  // const newPx = (Math.abs(px) + ox * Math.abs(po)) / (Math.abs(px) + Math.abs(po));\n  // return {\n  //   newPx: newPx,\n  //   newPo: ox * newPx\n  // }\n  let newPx = px;\n  let newPo = po;\n  if (po!=0&&ox!=0) newPx = 1/po/ox;\n  if (px!=0&&ox!=0) newPo = 1/px/ox;\n  return {newPx, newPo};\n}\n\nfunction changeAttitude(user:number, target:number, value:number):number\n{\n  const d = value - rGet(user, target);\n  rSet(user, target, value);\n  return d;\n}\n\nexport function processPushTask(task:Record<number,Array<number>>)\n{\n  for(const user in task){\n    const userId = parseInt(user);\n    const diffrence:Record<number, number>={};\n    for(const msgId in task[user])\n    {\n      const msg = progress.messages[msgId];\n      const {dpx, dpo} = pushMsgToUser(msg, userId);\n      diffrence[msg.i]=dpo;\n      diffrence[msg.j]=dpx;\n    }\n    for(const other in diffrence)\n    {\n      if (other == user) continue;\n      const diff = diffrence[other];\n      if (Math.abs(diff) >= 0.5) createMessage(userId, parseInt(other), diff);\n    }\n  }\n}\n\nexport function createMessage(i:number, j:number, v:number)\n{\n  const msg = {id:progress.messages.length,i,j,v,t:progress.time};\n  progress.messages.push(msg);\n  emit('addedMessage', msg);\n}\n\nexport function pushMsgToUser(msg:Message, user:number):{dpx:number,dpo:number}\n{\n  if(!(user in progress.userMemory))\n  {\n    progress.userMemory[user] = [];\n  }\n  progress.userMemory[user].push(msg.id);\n  console.log(progress.userMemory);\n  const {newPx, newPo} = balance(rGet(user, msg.i), rGet(user, msg.j), msg.v);\n  return {\n    dpx:changeAttitude(user, msg.j, newPx),\n    dpo:changeAttitude(user, msg.i, newPo)\n  };\n}\n\nexport function getRepulsion(i:number, j:number):boolean\n{\n    const rij=(a:number,b:number)=>Math.abs(rGet(a,b))<0.5;\n    let repulsion = rij(i,j);\n    if (!repulsion)\n    {\n        let innerRepulsion = false;\n        for(let d=1;d<j-i&&!innerRepulsion;d++)\n        {\n            innerRepulsion = !rij(i,i+d)&&!rij(i+d,j);\n        }\n        let outterRepulsion = false;\n        for(let d=1;d<i-j+progress.userCount&&!outterRepulsion;d++)\n        {\n            let o = j+d;\n            if (o >= progress.userCount)\n            {\n                o -= progress.userCount;\n            }\n            outterRepulsion = !rij(o,i)&&!rij(j,o);\n        }\n        repulsion = innerRepulsion && outterRepulsion;\n    }\n    return repulsion;\n}\n\nexport function createUser()\n{\n    const id = progress.userCount;\n    progress.userCount += 1;\n    emit(\"createdUser\",id);\n}\n\nexport default {}","import OpenAI from \"openai\"\n\nconst client = new OpenAI({\n    apiKey: \"sk-uFDUPAriuBg6l84rhrFxcRect2V0gpH59KVXj8dxG6wblr5p\",\n    baseURL: \"http://localhost:8080/llmapi\",\n    dangerouslyAllowBrowser: true\n})\n\nfunction delay(ms:number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport async function chat(msg:string)\n{\n    // await delay(100);\n    // return msg;\n    for (let attempt = 1; attempt <= 2; attempt++) {\n        try {\n            const completion = await client.chat.completions.create({\n                model: \"kimi-k2-turbo-preview\",\n                messages: [\n                    {\"role\": \"system\", \"content\": msg},\n                ],\n                temperature: 0.6,\n            })\n            return completion.choices[0].message.content??\"\";\n        }\n        catch (e)\n        {\n            await delay(5000);\n            console.error(e);\n        }\n    }\n    return \"\";\n}","import { ref, Ref } from \"vue\"\nimport { emit } from \"./event\"\nimport { Message, progress } from \"./game\"\nimport { chat } from \"./llm\"\n\nexport interface UserText {\n    name:string,\n    prompt:string\n}\nexport interface MessageText {\n    title: string,\n    content: string,\n    minimumVersion: string\n}\n\nexport let text:{\n    userTexts:Array<UserText>\n    messageTexts:Array<MessageText>\n}={\n    userTexts: [],\n    messageTexts: []\n}\n\nconst textSource = localStorage.getItem('text');\nif (textSource != null)\n{\n    text = JSON.parse(textSource);\n}\n\nfunction getUserText(id:number):UserText\n{\n    if (id >= 0 && id < text.userTexts.length) return text.userTexts[id];\n    return {\n        name: '',\n        prompt: ''\n    }\n}\n\nexport function getUserName(id:number):string\n{\n    if (id<0 || id>=text.userTexts.length) return id.toString();\n    return text.userTexts[id].name\n}\n\nfunction getFullUserPrompt(id:number)\n{\n    // const basicPrompt = getUserText(id).prompt;\n    let historyContainer = \"\";\n    if (id in progress.userMemory && progress.userMemory[id].length>0)\n    {\n        historyContainer = `你需要参考的信息：[${progress.userMemory[id].filter(m=>m<text.messageTexts.length).map(m=>text.messageTexts[m].minimumVersion).join()}]。`;\n    }\n    return `${historyContainer}`;\n}\n\nconst traits:Array<string> = [\"神经质\",\"幽默\",\"严肃\"];\n\nfunction randomPick(arr:Array<string>):string\n{\n    return arr[Math.floor(Math.random()*traits.length)];\n}\n\nfunction getRelationshipDiffDescribe(relationship:number,other:string):string\n{\n    if (relationship > 0.5) return `对${other}的认同`;\n    if (relationship < 0.5) return `反对${other}`;\n    return `对社交媒体平台推送机制的反感`;\n}\nfunction getRelationshipDescribe(relationship:number):string\n{\n    if (relationship > 0.5) return \"认同\";\n    if (relationship < 0.5) return \"排斥\";\n    return \"不感兴趣\";\n}\n\nfunction getMessageContentPrompt(msg:Message):string\n{\n    return `扮演一名社交媒体用户虚构贴文。你的个性：${randomPick(traits)}。${getFullUserPrompt(msg.i)}要求1：长度1句话。要求2：站在${getUserText(msg.i).prompt}的视角表达你${getRelationshipDiffDescribe(msg.v,getUserText(msg.j).prompt)}。`;\n}\n\nfunction getMessageTitlePrompt(content:string):string\n{\n    return `[${content}]扮演作者，选择1个短语作为标题，不要出现任何标点符号。`;\n}\nfunction getMessageMinimumVersionPrompt(content:string):string\n{\n    return `[${content}]一句话总结这篇社媒博文。`;\n}\n\nconst generateQueue:Array<Message> = []\n\nlet generating = false;\n\nexport async function processGenerateQueue()\n{\n    if (generating || generateQueue.length==0) return;\n    console.log(\"生成新消息\");\n    generating = true;\n    const msg = generateQueue[0];\n    if (text.messageTexts.length - 1 < msg.id)\n    {\n        text.messageTexts.push({\n            title: \"\",\n            content: \"\",\n            minimumVersion: \"\"\n        });\n    }\n    const content = await chat(getMessageContentPrompt(msg));\n    const title = await chat(getMessageTitlePrompt(content));\n    const minimumVersion = await chat(getMessageMinimumVersionPrompt(content));\n    text.messageTexts[msg.id] = {title, content, minimumVersion}\n    localStorage.setItem('text', JSON.stringify(text));\n    emit(\"generatedMessage\", msg.id, title, content);\n    generateQueue.shift();\n    generating = false;\n    console.log(\"消息生成完毕\");\n}\n\nexport async function startGenerateMessage(msg:Message)\n{\n    if (msg.id>=text.messageTexts.length || text.messageTexts[msg.id].title == '')\n    {\n        generateQueue.push(msg);\n    }\n}\n\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { emit } from '@/event';\n\nimport { NBadge } from 'naive-ui';\nimport { getUserName } from '@/text';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'CanvasUser',\n  props: {\n    id: {},\n    x: {},\n    y: {},\n    selected: { type: Boolean },\n    focused: { type: Boolean },\n    px: {},\n    py: {},\n    ps: {},\n    badgeDefault: {},\n    badgeInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\nfunction onClick()\n{\n  emit('userPressed', props.id);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"canvas-user\",\n    style: _normalizeStyle({left: (__props.px + __props.x) * __props.ps - 20 + 'px', top: (__props.py + __props.y) * __props.ps - 20 + 'px', outline: (__props.selected?'2px':'1px') + ' solid '+ (__props.focused?'#ff0':'#000')}),\n    onClick: onClick\n  }, [\n    _createVNode(_unref(NBadge), {\n      value: __props.badgeDefault,\n      offset: [10,-5]\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NBadge), {\n          value: __props.badgeInfo,\n          type: 'info',\n          offset: [10,30]\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", null, _toDisplayString(_unref(getUserName)(__props.id)), 1)\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _: 1\n    }, 8, [\"value\"])\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"canvas-user\" :style=\"{left: (px + x) * ps - 20 + 'px', top: (py + y) * ps - 20 + 'px', outline: (selected?'2px':'1px') + ' solid '+ (focused?'#ff0':'#000')}\"\n  @click=\"onClick\"\n  >\n    <n-badge :value=\"badgeDefault\" :offset=\"[10,-5]\">\n    <n-badge :value=\"badgeInfo\" :type=\"'info'\" :offset=\"[10,30]\">\n    <div>{{ getUserName(id) }}</div>\n    </n-badge>\n    </n-badge>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { emit } from '@/event';\nimport { defineProps } from 'vue'\nimport { NBadge } from 'naive-ui';\nimport { getUserName } from '@/text';\nconst props = defineProps<{\n  id: number,\n  x: number,\n  y: number,\n  selected: boolean,\n  focused: boolean,\n  px: number,\n  py: number,\n  ps: number,\n  badgeDefault: number,\n  badgeInfo: number\n}>();\nfunction onClick()\n{\n  emit('userPressed', props.id);\n}\n</script>\n\n<style scoped>\n.canvas-user\n{\n  position: absolute;\n  border-radius: 100%;\n  outline: 1px solid #000;\n  background: #fff;\n  color: #000;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  -webkit-user-drag: none;\n  cursor: pointer;\n}\n</style>","import script from \"./CanvasUser.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CanvasUser.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CanvasUser.vue?vue&type=style&index=0&id=83950c74&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-83950c74\"]])\n\nexport default __exports__","<template>\n<div class=\"canvas\"\n:style=\"{'background-size': 20*s+'px '+20*s+'px', 'background-position': x*s+'px '+y*s+'px'}\">\n    <div class=\"mouse-input-handler\" @mousedown=\"onMousedown\" @mouseup=\"onMouseup\" @mousemove=\"onMousemove\" @wheel=\"onWheel\"></div>\n    <CanvasUser v-for=\"user in state.users\" :key=\"user.id\"\n    :id=\"user.id\" :x=\"user.x\" :y=\"user.y\" :px=\"x\" :py=\"y\" :ps=\"s\" :selected=\"state.selectedUsers.includes(user.id)\" :focused=\"state.focusedUser==user.id\"\n    :badge-default=\"(user.id in appState.uncollectedMessages)?appState.uncollectedMessages[user.id].length:0\"\n    :badge-info=\"(user.id in appState.readyToPushMessages)?appState.readyToPushMessages[user.id].length:0\"\n    />\n    <canvas id=\"lines\"/>\n</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { getRepulsion, progress, rGet, rSet } from '../game'\nimport { defineProps, onMounted, Ref, ref } from 'vue'\nimport CanvasUser from './CanvasUser.vue'\nimport { subscribe } from '../event'\nimport { AppState } from '@/App.vue';\ntype User = {\n    id: number;\n    x: number;\n    y: number;\n    vx: number;\n    vy: number;\n};\nconst state:Ref<{\n    users: Array<User>,\n    selectedUsers: Array<number>\n    focusedUser: number\n}> = ref({\n  users: [],\n  selectedUsers: [],\n  focusedUser: -1\n})\n\nconst props = defineProps<{appState:AppState}>();\n\nconst x = ref(0);\nconst y = ref(0);\nconst s = ref(1);\nsubscribe('userPressed', (id)=>\n{\n    if (props.appState.mode == 'user-edit') return;\n    let selectedUsers = state.value.selectedUsers;\n    if (selectedUsers.includes(id))\n    {\n        if (state.value.focusedUser != id)\n        {\n            state.value.focusedUser = id;\n        }\n        else\n        {\n            state.value.selectedUsers = selectedUsers.filter(i=>i!=id);\n            state.value.focusedUser = -1;\n        }\n    }\n    else{\n        state.value.focusedUser = id;\n        selectedUsers.push(id);\n    }\n})\n\nlet multiSelecting = false;\nlet multiSelectStartX = 0;\nlet multiSelectStartY = 0;\nlet mouseX = 0;\nlet mouseY = 0;\n\nfunction onMousemove(e: MouseEvent)\n{\n    if (e.buttons==4) {\n        x.value += e.movementX / s.value;\n        y.value += e.movementY / s.value;\n    }\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n    multiSelecting = e.buttons==1;\n}\n\nfunction onMousedown(e: MouseEvent)\n{\n    if (e.buttons==1)\n    {\n        multiSelecting = true;\n        multiSelectStartX=e.clientX;\n        multiSelectStartY=e.clientY;\n    }\n    bgDownButtons = e.buttons;\n}\n\nlet bgDownButtons = 0;\n\n\nfunction onMouseup(e: MouseEvent)\n{\n    if (bgDownButtons == 1)\n    {\n        state.value.selectedUsers = [];\n        state.value.focusedUser = -1;\n    }\n    if (multiSelecting && Math.abs(mouseX - multiSelectStartX) > 10 && Math.abs(mouseY - multiSelectStartY) > 10)\n    {\n        state.value.selectedUsers = state.value.users.filter(user=>\n        {\n            const ux = (user.x + x.value) * s.value;\n            const uy = (user.y + y.value) * s.value;\n            let newSelecteState = e.shiftKey?state.value.selectedUsers.includes(user.id):false;\n            if (((ux > multiSelectStartX && ux < mouseX) || (ux > mouseX && ux < multiSelectStartX))\n            && ((uy > multiSelectStartY && uy < mouseY) || (uy > mouseY && uy < multiSelectStartY)))\n            {\n                newSelecteState = true;\n            }\n            return newSelecteState;\n        }).map(user=>user.id);\n    }\n    multiSelecting = false;\n}\n\nfunction changeScale(mx:number, my:number, delta:number)\n{\n\n    let s1 = s.value;\n    let mx1 = mx / s1 - x.value;\n    let my1 = my / s1 - y.value;\n    s.value *= delta;\n    let s2 = s.value;\n    let mx2 = mx / s2 - x.value;\n    let my2 = my / s2 - y.value;\n    x.value += mx2 - mx1;\n    y.value += my2 - my1;\n}\n\nfunction onWheel(e:any)\n{\n    let delta = e.wheelDelta * 0.01;\n    if (delta < 0)\n    {\n        delta += 2.0;\n    }\n    if (delta < 0 || delta > 2.0) return;\n    changeScale(e.clientX, e.clientY, delta);\n}\n\nlet linesCanvas:any;\nlet linesCtx:any;\n\nconst idealDist = 150;\nconst delta = 1/60;\nconst stepLength = 100;\nconst d = delta * stepLength;\n\nfunction getForce(ax:number, ay:number, bx:number, by:number, repulsion:boolean, idealDistScale:number, strengthScale:number) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ls = dx * dx + dy * dy;\n    const l = Math.sqrt(ls);\n    const tl = idealDist * idealDistScale;\n    const s = 15 * strengthScale;\n    let f = s * (l - tl) / ls * d;\n    if (repulsion && l >= tl)\n    {\n        f = 0;\n    }\n    return {\n        x: dx * f,\n        y: dy * f\n    }\n}\n\nonMounted(()=>{\n    linesCanvas = document.getElementById('lines');\n    linesCtx = linesCanvas.getContext(\"2d\");\n    setInterval(physicsProcess,delta*1000);\n    document.addEventListener('keydown', (e)=>{\n        const focusedUser = state.value.focusedUser;\n        if(e.key=='a' && e.ctrlKey && focusedUser>=0)\n        {\n            state.value.selectedUsers.forEach(user=>{\n                if (user==focusedUser) return;\n                rSet(user, focusedUser, 1);\n            })\n        }\n        else if(e.key=='c' && e.ctrlKey && focusedUser>=0)\n        {\n            state.value.selectedUsers.forEach(user=>{\n                if (user==focusedUser) return;\n                rSet(user, focusedUser, 0);\n            })\n        }\n        else if (e.key=='Escape')\n        {\n            state.value.selectedUsers = [];\n            state.value.focusedUser = -1;\n        }\n    });\n    subscribe(\"createdUser\", (id:number)=>{\n        state.value.users.push({\n            id: id,\n            x: (id % 2) * 100,\n            y: Math.floor(id / 2) * 100,\n            vx: 0,\n            vy: 0\n        });\n    });\n});\n\nfunction physicsProcess()\n{\n    const users = state.value.users;\n    for (let i = 0; i < progress.userCount-1; i++) {\n        const a = users[i];\n        for (let j = i + 1; j < progress.userCount; j++) {\n            const b = users[j];\n            const repulsion = getRepulsion(i,j);\n            let f = getForce(a.x, a.y, b.x, b.y, repulsion, repulsion?1:0.5, repulsion?0.5:0.5);\n            a.vx += f.x;\n            a.vy += f.y;\n            b.vx -= f.x;\n            b.vy -= f.y;\n        }\n    }\n    Object.values(state.value.users).forEach(user=>\n        {\n            user.vx *= 1 - (0.2 * d);\n            user.vy *= 1 - (0.2 * d);\n            user.vx -= user.x * 0.01 * d;\n            user.vy -= user.y * 0.01 * d;\n            user.x += user.vx * d;\n            user.y += user.vy * d;\n        }\n    )\n    redraw();\n}\n\nfunction redraw()\n{\n    linesCanvas.width = window.innerWidth;\n    linesCanvas.height = window.innerHeight;\n    Object.entries(progress.userGraph).forEach(([k,v])=>\n    {\n        const splited = k.split('_');\n        const fromId = parseInt(splited[0],32);\n        const toId = parseInt(splited[1],32);\n        const from = state.value.users[fromId];\n        const to = state.value.users[toId];\n        const r = rGet(fromId, toId);\n        let a = Math.abs(r);\n        if (a < 0) return;\n        const style = `#${(r<0)?'ff':'00'}00${(r>=0)?'ff':'00'}${Math.floor(a*255).toString(16).padStart(2,'0')}`;\n        // const style = `#000`;\n        linesCtx.strokeStyle = style;\n        linesCtx.beginPath();\n        linesCtx.moveTo((from.x+x.value)*s.value, (from.y+y.value)*s.value);\n        linesCtx.lineTo((to.x+x.value)*s.value, (to.y+y.value)*s.value);\n        linesCtx.stroke();\n    });\n    // for(let i=0;i<progress.userCount;i++)\n    // {\n    //     for(let j=i+1;j<progress.userCount;j++)\n    //     {\n    //         const from = state.value.users[i];\n    //         const to = state.value.users[j];\n    //         const repulsion = getRepulsion(i,j);\n    //         const style = `#00ff00${(!repulsion)?'ff':'00'}`;\n    //         linesCtx.strokeStyle = style;\n    //         linesCtx.beginPath();\n    //         linesCtx.moveTo((from.x+x.value)*s.value, (from.y+y.value)*s.value);\n    //         linesCtx.lineTo((to.x+x.value)*s.value, (to.y+y.value)*s.value);\n    //         linesCtx.stroke();\n    //     }\n    // }\n    const w = mouseX-multiSelectStartX;\n    const h = mouseY-multiSelectStartY;\n    if (multiSelecting && Math.abs(w) > 10 && Math.abs(h) > 10)\n    {\n        linesCtx.rect(multiSelectStartX, multiSelectStartY, w, h);\n        linesCtx.fillStyle = '#00000033';\n        linesCtx.fill();\n    }\n}\n\n</script>\n\n<style scoped>\n.canvas\n{\n    position: absolute;\n    width: 100vw;\n    height: 100vh;\n    scroll-behavior:unset;\n    background-image:\n    linear-gradient(to right, gainsboro 1px, transparent 1px),\n    linear-gradient(to bottom, gainsboro 1px, transparent 1px);\n}\n.bg\n{\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n.mouse-input-handler\n{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n</style>","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle } from \"vue\"\n\nimport { getRepulsion, progress, rGet, rSet } from '../game'\nimport { onMounted, Ref, ref } from 'vue'\nimport CanvasUser from './CanvasUser.vue'\nimport { subscribe } from '../event'\nimport { AppState } from '@/App.vue';\ntype User = {\n    id: number;\n    x: number;\n    y: number;\n    vx: number;\n    vy: number;\n};\nconst idealDist = 150;\nconst delta = 1/60;\nconst stepLength = 100;\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'GameCanvas',\n  props: {\n    appState: {}\n  },\n  setup(__props: any) {\n\nconst state:Ref<{\n    users: Array<User>,\n    selectedUsers: Array<number>\n    focusedUser: number\n}> = ref({\n  users: [],\n  selectedUsers: [],\n  focusedUser: -1\n})\n\nconst props = __props;\n\nconst x = ref(0);\nconst y = ref(0);\nconst s = ref(1);\nsubscribe('userPressed', (id)=>\n{\n    if (props.appState.mode == 'user-edit') return;\n    let selectedUsers = state.value.selectedUsers;\n    if (selectedUsers.includes(id))\n    {\n        if (state.value.focusedUser != id)\n        {\n            state.value.focusedUser = id;\n        }\n        else\n        {\n            state.value.selectedUsers = selectedUsers.filter(i=>i!=id);\n            state.value.focusedUser = -1;\n        }\n    }\n    else{\n        state.value.focusedUser = id;\n        selectedUsers.push(id);\n    }\n})\n\nlet multiSelecting = false;\nlet multiSelectStartX = 0;\nlet multiSelectStartY = 0;\nlet mouseX = 0;\nlet mouseY = 0;\n\nfunction onMousemove(e: MouseEvent)\n{\n    if (e.buttons==4) {\n        x.value += e.movementX / s.value;\n        y.value += e.movementY / s.value;\n    }\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n    multiSelecting = e.buttons==1;\n}\n\nfunction onMousedown(e: MouseEvent)\n{\n    if (e.buttons==1)\n    {\n        multiSelecting = true;\n        multiSelectStartX=e.clientX;\n        multiSelectStartY=e.clientY;\n    }\n    bgDownButtons = e.buttons;\n}\n\nlet bgDownButtons = 0;\n\n\nfunction onMouseup(e: MouseEvent)\n{\n    if (bgDownButtons == 1)\n    {\n        state.value.selectedUsers = [];\n        state.value.focusedUser = -1;\n    }\n    if (multiSelecting && Math.abs(mouseX - multiSelectStartX) > 10 && Math.abs(mouseY - multiSelectStartY) > 10)\n    {\n        state.value.selectedUsers = state.value.users.filter(user=>\n        {\n            const ux = (user.x + x.value) * s.value;\n            const uy = (user.y + y.value) * s.value;\n            let newSelecteState = e.shiftKey?state.value.selectedUsers.includes(user.id):false;\n            if (((ux > multiSelectStartX && ux < mouseX) || (ux > mouseX && ux < multiSelectStartX))\n            && ((uy > multiSelectStartY && uy < mouseY) || (uy > mouseY && uy < multiSelectStartY)))\n            {\n                newSelecteState = true;\n            }\n            return newSelecteState;\n        }).map(user=>user.id);\n    }\n    multiSelecting = false;\n}\n\nfunction changeScale(mx:number, my:number, delta:number)\n{\n\n    let s1 = s.value;\n    let mx1 = mx / s1 - x.value;\n    let my1 = my / s1 - y.value;\n    s.value *= delta;\n    let s2 = s.value;\n    let mx2 = mx / s2 - x.value;\n    let my2 = my / s2 - y.value;\n    x.value += mx2 - mx1;\n    y.value += my2 - my1;\n}\n\nfunction onWheel(e:any)\n{\n    let delta = e.wheelDelta * 0.01;\n    if (delta < 0)\n    {\n        delta += 2.0;\n    }\n    if (delta < 0 || delta > 2.0) return;\n    changeScale(e.clientX, e.clientY, delta);\n}\n\nlet linesCanvas:any;\nlet linesCtx:any;\n\nconst d = delta * stepLength;\n\nfunction getForce(ax:number, ay:number, bx:number, by:number, repulsion:boolean, idealDistScale:number, strengthScale:number) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ls = dx * dx + dy * dy;\n    const l = Math.sqrt(ls);\n    const tl = idealDist * idealDistScale;\n    const s = 15 * strengthScale;\n    let f = s * (l - tl) / ls * d;\n    if (repulsion && l >= tl)\n    {\n        f = 0;\n    }\n    return {\n        x: dx * f,\n        y: dy * f\n    }\n}\n\nonMounted(()=>{\n    linesCanvas = document.getElementById('lines');\n    linesCtx = linesCanvas.getContext(\"2d\");\n    setInterval(physicsProcess,delta*1000);\n    document.addEventListener('keydown', (e)=>{\n        const focusedUser = state.value.focusedUser;\n        if(e.key=='a' && e.ctrlKey && focusedUser>=0)\n        {\n            state.value.selectedUsers.forEach(user=>{\n                if (user==focusedUser) return;\n                rSet(user, focusedUser, 1);\n            })\n        }\n        else if(e.key=='c' && e.ctrlKey && focusedUser>=0)\n        {\n            state.value.selectedUsers.forEach(user=>{\n                if (user==focusedUser) return;\n                rSet(user, focusedUser, 0);\n            })\n        }\n        else if (e.key=='Escape')\n        {\n            state.value.selectedUsers = [];\n            state.value.focusedUser = -1;\n        }\n    });\n    subscribe(\"createdUser\", (id:number)=>{\n        state.value.users.push({\n            id: id,\n            x: (id % 2) * 100,\n            y: Math.floor(id / 2) * 100,\n            vx: 0,\n            vy: 0\n        });\n    });\n});\n\nfunction physicsProcess()\n{\n    const users = state.value.users;\n    for (let i = 0; i < progress.userCount-1; i++) {\n        const a = users[i];\n        for (let j = i + 1; j < progress.userCount; j++) {\n            const b = users[j];\n            const repulsion = getRepulsion(i,j);\n            let f = getForce(a.x, a.y, b.x, b.y, repulsion, repulsion?1:0.5, repulsion?0.5:0.5);\n            a.vx += f.x;\n            a.vy += f.y;\n            b.vx -= f.x;\n            b.vy -= f.y;\n        }\n    }\n    Object.values(state.value.users).forEach(user=>\n        {\n            user.vx *= 1 - (0.2 * d);\n            user.vy *= 1 - (0.2 * d);\n            user.vx -= user.x * 0.01 * d;\n            user.vy -= user.y * 0.01 * d;\n            user.x += user.vx * d;\n            user.y += user.vy * d;\n        }\n    )\n    redraw();\n}\n\nfunction redraw()\n{\n    linesCanvas.width = window.innerWidth;\n    linesCanvas.height = window.innerHeight;\n    Object.entries(progress.userGraph).forEach(([k,v])=>\n    {\n        const splited = k.split('_');\n        const fromId = parseInt(splited[0],32);\n        const toId = parseInt(splited[1],32);\n        const from = state.value.users[fromId];\n        const to = state.value.users[toId];\n        const r = rGet(fromId, toId);\n        let a = Math.abs(r);\n        if (a < 0) return;\n        const style = `#${(r<0)?'ff':'00'}00${(r>=0)?'ff':'00'}${Math.floor(a*255).toString(16).padStart(2,'0')}`;\n        // const style = `#000`;\n        linesCtx.strokeStyle = style;\n        linesCtx.beginPath();\n        linesCtx.moveTo((from.x+x.value)*s.value, (from.y+y.value)*s.value);\n        linesCtx.lineTo((to.x+x.value)*s.value, (to.y+y.value)*s.value);\n        linesCtx.stroke();\n    });\n    // for(let i=0;i<progress.userCount;i++)\n    // {\n    //     for(let j=i+1;j<progress.userCount;j++)\n    //     {\n    //         const from = state.value.users[i];\n    //         const to = state.value.users[j];\n    //         const repulsion = getRepulsion(i,j);\n    //         const style = `#00ff00${(!repulsion)?'ff':'00'}`;\n    //         linesCtx.strokeStyle = style;\n    //         linesCtx.beginPath();\n    //         linesCtx.moveTo((from.x+x.value)*s.value, (from.y+y.value)*s.value);\n    //         linesCtx.lineTo((to.x+x.value)*s.value, (to.y+y.value)*s.value);\n    //         linesCtx.stroke();\n    //     }\n    // }\n    const w = mouseX-multiSelectStartX;\n    const h = mouseY-multiSelectStartY;\n    if (multiSelecting && Math.abs(w) > 10 && Math.abs(h) > 10)\n    {\n        linesCtx.rect(multiSelectStartX, multiSelectStartY, w, h);\n        linesCtx.fillStyle = '#00000033';\n        linesCtx.fill();\n    }\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"canvas\",\n    style: _normalizeStyle({'background-size': 20*s.value+'px '+20*s.value+'px', 'background-position': x.value*s.value+'px '+y.value*s.value+'px'})\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"mouse-input-handler\",\n      onMousedown: onMousedown,\n      onMouseup: onMouseup,\n      onMousemove: onMousemove,\n      onWheel: onWheel\n    }, null, 32),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(state.value.users, (user) => {\n      return (_openBlock(), _createBlock(CanvasUser, {\n        key: user.id,\n        id: user.id,\n        x: user.x,\n        y: user.y,\n        px: x.value,\n        py: y.value,\n        ps: s.value,\n        selected: state.value.selectedUsers.includes(user.id),\n        focused: state.value.focusedUser==user.id,\n        \"badge-default\": (user.id in __props.appState.uncollectedMessages)?__props.appState.uncollectedMessages[user.id].length:0,\n        \"badge-info\": (user.id in __props.appState.readyToPushMessages)?__props.appState.readyToPushMessages[user.id].length:0\n      }, null, 8, [\"id\", \"x\", \"y\", \"px\", \"py\", \"ps\", \"selected\", \"focused\", \"badge-default\", \"badge-info\"]))\n    }), 128)),\n    _cache[0] || (_cache[0] = _createElementVNode(\"canvas\", { id: \"lines\" }, null, -1))\n  ], 4))\n}\n}\n\n})","import script from \"./GameCanvas.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GameCanvas.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GameCanvas.vue?vue&type=style&index=0&id=f40eb24c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f40eb24c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, renderSlot as _renderSlot, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = { key: 1 }\n\nimport { Message } from '@/game';\nimport { ref } from 'vue';\nimport { NCard, NSkeleton } from 'naive-ui';\nimport { text } from '@/text';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'MessageCard',\n  props: {\n    msg: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\nlet title = ref(\"\");\nlet content = ref(\"\");\nconst intervalId = setInterval(()=>{\n    const messageText = text.messageTexts[props.msg.id];\n    if (typeof(messageText)!=\"undefined\" && messageText.title != '')\n    {\n        title.value = messageText.title;\n        content.value = messageText.content;\n        clearInterval(intervalId);\n    }\n}, 100);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NCard), {\n    class: \"message-card\",\n    hoverable: \"\"\n  }, {\n    header: _withCtx(() => [\n      (_unref(title)=='')\n        ? (_openBlock(), _createBlock(_unref(NSkeleton), {\n            key: 0,\n            width: 100,\n            round: \"\"\n          }))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"h3\", null, _toDisplayString(_unref(title)), 1)\n          ]))\n    ]),\n    action: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"action\")\n    ]),\n    default: _withCtx(() => [\n      (_unref(content)=='')\n        ? (_openBlock(), _createBlock(_unref(NSkeleton), {\n            key: 0,\n            text: \"\",\n            repeat: 2\n          }))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n            _createTextVNode(\" 时间:\" + _toDisplayString(__props.msg.t), 1),\n            _cache[0] || (_cache[0] = _createElementVNode(\"br\", null, null, -1)),\n            _createTextVNode(_toDisplayString(_unref(content)), 1)\n          ]))\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","<template>\n<n-card class=\"message-card\" hoverable>\n    <template #header>\n        <n-skeleton v-if=\"title==''\" :width=\"100\" round />\n        <div v-else>\n            <h3>{{ title }}</h3>\n        </div>\n    </template>\n    <n-skeleton v-if=\"content==''\" text :repeat=\"2\"/>\n    <div v-else>\n        时间:{{msg.t}}<br/>{{ content }}\n    </div>\n    <template #action>\n        <slot name=\"action\"></slot>\n    </template>\n</n-card>\n</template>\n\n<script setup lang=\"ts\">\nimport { Message } from '@/game';\nimport { defineProps, ref } from 'vue';\nimport { NCard, NSkeleton } from 'naive-ui';\nimport { text } from '@/text';\nconst props = defineProps<{msg:Message}>();\n\nlet title = ref(\"\");\nlet content = ref(\"\");\nconst intervalId = setInterval(()=>{\n    const messageText = text.messageTexts[props.msg.id];\n    if (typeof(messageText)!=\"undefined\" && messageText.title != '')\n    {\n        title.value = messageText.title;\n        content.value = messageText.content;\n        clearInterval(intervalId);\n    }\n}, 100);\n</script>\n\n<style scoped>\n.message-card\n{\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 20px;\n    padding: 10px;\n}\n</style>","import script from \"./MessageCard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MessageCard.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MessageCard.vue?vue&type=style&index=0&id=47d0fbc7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47d0fbc7\"]])\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { Message } from '@/game';\nimport { DataTableColumns } from 'naive-ui';\n\nimport { NDataTable } from 'naive-ui';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'MessageList',\n  props: /*@__PURE__*/_mergeModels({\n    source: {},\n    select: { type: Boolean }\n  }, {\n    \"modelValue\": {},\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst props = __props;\n\nconst checkedRowKeys=_useModel<Array<number>>(__props, \"modelValue\");\n\nfunction createColumns(): DataTableColumns<Message> {\n  return [\n    {\n      title: '创作群体',\n      key: 'i'\n    },\n    {\n      title: '时间',\n      key: 't'\n    },\n    {\n      title: '涉及群体',\n      key: 'j'\n    },\n    {\n      title: '态度',\n      key: 'v'\n    }\n  ]\n}\n\nlet columns=createColumns();\n\nif (props.select)\n{\n  columns = [{\n    type: 'selection',\n    multiple: true\n  }, ...columns]\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NDataTable), {\n    \"checked-row-keys\": checkedRowKeys.value,\n    \"onUpdate:checkedRowKeys\": _cache[0] || (_cache[0] = ($event: any) => ((checkedRowKeys).value = $event)),\n    columns: _unref(columns),\n    data: __props.source,\n    pagination: false,\n    bordered: false,\n    \"row-key\": (msg)=>msg.id,\n    striped: \"\"\n  }, null, 8, [\"checked-row-keys\", \"columns\", \"data\", \"row-key\"]))\n}\n}\n\n})","<template>\n<n-data-table\n    v-model:checked-row-keys=\"checkedRowKeys\"\n    :columns=\"columns\"\n    :data=\"source\"\n    :pagination=\"false\"\n    :bordered=\"false\"\n    :row-key=\"(msg:Message)=>msg.id\"\nstriped />\n</template>\n\n<script setup lang=\"ts\">\nimport { Message } from '@/game';\nimport { DataTableColumns } from 'naive-ui';\nimport { defineProps, defineModel } from 'vue';\nimport { NDataTable } from 'naive-ui';\nconst props = defineProps<{source:Array<Message>,select:boolean}>();\n\nconst checkedRowKeys=defineModel<Array<number>>();\n\nfunction createColumns(): DataTableColumns<Message> {\n  return [\n    {\n      title: '创作群体',\n      key: 'i'\n    },\n    {\n      title: '时间',\n      key: 't'\n    },\n    {\n      title: '涉及群体',\n      key: 'j'\n    },\n    {\n      title: '态度',\n      key: 'v'\n    }\n  ]\n}\n\nlet columns=createColumns();\n\nif (props.select)\n{\n  columns = [{\n    type: 'selection',\n    multiple: true\n  }, ...columns]\n}\n\n</script>\n\n<style scoped>\n\n</style>","import script from \"./MessageList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MessageList.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"app\" }\nconst _hoisted_2 = { class: \"corner-buttons\" }\n\nimport { onBeforeUnmount, onMounted, Ref, ref } from 'vue';\nimport GameCanvas from './components/GameCanvas.vue';\nimport MessageCard from './components/MessageCard.vue';\nimport MessageList from './components/MessageList.vue';\nimport { rSet, createUser, Message, progress, createMessage, processPushTask, setProgress } from './game';\nimport { subscribe } from './event';\nimport { NPageHeader, NTabs, NTabPane, NDrawer, NDrawerContent, NButton, NModal, NCard, NFlex } from 'naive-ui';\nimport { getUserName, processGenerateQueue } from './text';\nimport { startGenerateMessage } from './text';\n\nexport interface AppState {\n        mode: \"user-edit\" | \"broadcast\";\n        editingUser: number;\n        uncollectedMessages: Record<number,Array<number>>;\n        collectedMessages: Array<number>;\n        readyToPushMessages: Record<number,Array<number>>;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nonMounted(()=>{\n    const appstateSource = localStorage.getItem('appstate');\n    if (appstateSource != null)\n    {\n        appState.value = JSON.parse(appstateSource);\n    }\n    const progressSource = localStorage.getItem('progress');\n    if (progressSource != null)\n    {\n        setProgress(JSON.parse(progressSource));\n    }\n    else\n    {\n        for(let i=0;i<10;i++)\n        {\n            createUser();\n            for(let j=0;j<i;j++){\n                const v = Math.floor(Math.random()*3)-1;\n                rSet(i,j,v);\n                if (Math.abs(v)>0.5)\n                {\n                    if (Math.random()>0.5)\n                    {\n                        createMessage(i,j,v);\n                    }\n                    else\n                    {\n                        createMessage(j,i,v);\n                    }\n                }\n            }\n        }\n    }\n    window.addEventListener('beforeunload', ()=>{\n        localStorage.setItem('appstate', JSON.stringify(appState.value))\n        localStorage.setItem('progress', JSON.stringify(progress));\n    });\n});\n\nconst appState:Ref<AppState> = ref({\n    mode:'user-edit',\n    editingUser:-1,\n    uncollectedMessages:{},\n    collectedMessages:[],\n    readyToPushMessages:{}\n});\n\nconst showUserEditor = ref(false);\nconst collectedMessagesModal = ref(false);\n\nconst messages = ref(progress.messages);\nfunction getUserMessages(author:number)\n{\n    return messages.value.filter(m=>m.i==author);\n}\nfunction getUserPushableMessages(user:number)\n{\n    return appState.value.collectedMessages.map(mid=>progress.messages[mid]).filter(m=>m.i!=user&&(progress.userMemory[user]==undefined||progress.userMemory[user].includes(m.id)))\n}\n\nsubscribe('userPressed', (id)=>\n{\n    if (appState.value.mode==\"user-edit\")\n    {\n        if (!(id in appState.value.readyToPushMessages)) {appState.value.readyToPushMessages[id] = []}\n        showUserEditor.value = true;\n        appState.value.editingUser = id;\n    }\n})\n\nsubscribe('addedMessage', (msg:Message)=>{\n    if (!(msg.i in appState.value.uncollectedMessages))\n    {\n        appState.value.uncollectedMessages[msg.i] = [];\n    }\n    appState.value.uncollectedMessages[msg.i].push(msg.id);\n});\n\nfunction forgetMsg(msg:Message)\n{\n    appState.value.uncollectedMessages[msg.i] = appState.value.uncollectedMessages[msg.i].filter(m=>m!=msg.id);\n}\nfunction collectMsg(msg:Message)\n{\n    forgetMsg(msg);\n    appState.value.collectedMessages.push(msg.id);\n}\nfunction finishRound()\n{\n    progress.time += 1;\n    // appState.value.uncollectedMessages = {};\n    // appState.value.collectedMessages = appState.value.collectedMessages.filter(msg=>progress.time-msg.t<=1);\n    processPushTask(appState.value.readyToPushMessages);\n    appState.value.readyToPushMessages = {};\n}\nsubscribe('addedMessage', (msg:Message)=>startGenerateMessage(msg));\nsetInterval(() => {\n    processGenerateQueue();\n}, 1000);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(GameCanvas, {\n      \"app-state\": appState.value,\n      ref: \"canvas\"\n    }, null, 8, [\"app-state\"]),\n    _createVNode(_unref(NDrawer), {\n      show: showUserEditor.value,\n      \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => ((showUserEditor).value = $event)),\n      width: 600\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NDrawerContent), { \"native-scrollbar\": false }, {\n          header: _withCtx(() => [\n            _createVNode(_unref(NPageHeader), {\n              subtitle: \"用户分析\",\n              onBack: _cache[0] || (_cache[0] = ($event: any) => {appState.value.editingUser=-1;showUserEditor.value=false})\n            }),\n            _createElementVNode(\"h1\", null, \"#\" + _toDisplayString(_unref(getUserName)(appState.value.editingUser)), 1)\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(NTabs), {\n              class: \"user-editor\",\n              type: \"segment\",\n              animated: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NTabPane), {\n                  name: \"new\",\n                  tab: \"最新发言\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList((appState.value.uncollectedMessages[appState.value.editingUser]), (msgId) => {\n                      return (_openBlock(), _createBlock(MessageCard, {\n                        msg: _unref(progress).messages[msgId],\n                        key: msgId\n                      }, {\n                        action: _withCtx(() => [\n                          _createVNode(_unref(NFlex), { justify: \"space-between\" }, {\n                            default: _withCtx(() => [\n                              _createVNode(_unref(NButton), {\n                                onClick: ($event: any) => (collectMsg(_unref(progress).messages[msgId]))\n                              }, {\n                                default: _withCtx(() => [...(_cache[5] || (_cache[5] = [\n                                  _createTextVNode(\"收集\", -1)\n                                ]))]),\n                                _: 1\n                              }, 8, [\"onClick\"]),\n                              _createVNode(_unref(NButton), {\n                                onClick: ($event: any) => (forgetMsg(_unref(progress).messages[msgId]))\n                              }, {\n                                default: _withCtx(() => [...(_cache[6] || (_cache[6] = [\n                                  _createTextVNode(\"忽略\", -1)\n                                ]))]),\n                                _: 1\n                              }, 8, [\"onClick\"])\n                            ]),\n                            _: 2\n                          }, 1024)\n                        ]),\n                        _: 2\n                      }, 1032, [\"msg\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NTabPane), {\n                  name: \"history\",\n                  tab: \"历史发言\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(MessageList, {\n                      source: getUserMessages(appState.value.editingUser),\n                      select: false\n                    }, null, 8, [\"source\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NTabPane), {\n                  name: \"push-list\",\n                  tab: \"本次推送\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(MessageList, {\n                      source: getUserPushableMessages(appState.value.editingUser),\n                      select: true,\n                      modelValue: appState.value.readyToPushMessages[appState.value.editingUser],\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((appState.value.readyToPushMessages[appState.value.editingUser]) = $event))\n                    }, null, 8, [\"source\", \"modelValue\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_unref(NButton), {\n        round: \"\",\n        type: \"primary\",\n        size: \"large\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (collectedMessagesModal.value=true))\n      }, {\n        default: _withCtx(() => [...(_cache[7] || (_cache[7] = [\n          _createTextVNode(\"已收集消息\", -1)\n        ]))]),\n        _: 1\n      }),\n      _createVNode(_unref(NButton), {\n        round: \"\",\n        type: \"primary\",\n        size: \"large\",\n        onClick: finishRound\n      }, {\n        default: _withCtx(() => [...(_cache[8] || (_cache[8] = [\n          _createTextVNode(\"结束回合\", -1)\n        ]))]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(NModal), {\n      show: collectedMessagesModal.value,\n      \"onUpdate:show\": _cache[4] || (_cache[4] = ($event: any) => ((collectedMessagesModal).value = $event))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NCard), {\n          style: {\"width\":\"600px\"},\n          title: \"已收集消息\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(MessageList, {\n              source: appState.value.collectedMessages.map(mid=>_unref(progress).messages[mid]),\n              select: false\n            }, null, 8, [\"source\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { onBeforeUnmount, onMounted, Ref, ref } from 'vue';\nimport GameCanvas from './components/GameCanvas.vue';\nimport MessageCard from './components/MessageCard.vue';\nimport MessageList from './components/MessageList.vue';\nimport { rSet, createUser, Message, progress, createMessage, processPushTask, setProgress } from './game';\nimport { subscribe } from './event';\nimport { NPageHeader, NTabs, NTabPane, NDrawer, NDrawerContent, NButton, NModal, NCard, NFlex } from 'naive-ui';\nimport { getUserName, processGenerateQueue } from './text';\nimport { startGenerateMessage } from './text';\n\nonMounted(()=>{\n    const appstateSource = localStorage.getItem('appstate');\n    if (appstateSource != null)\n    {\n        appState.value = JSON.parse(appstateSource);\n    }\n    const progressSource = localStorage.getItem('progress');\n    if (progressSource != null)\n    {\n        setProgress(JSON.parse(progressSource));\n    }\n    else\n    {\n        for(let i=0;i<10;i++)\n        {\n            createUser();\n            for(let j=0;j<i;j++){\n                const v = Math.floor(Math.random()*3)-1;\n                rSet(i,j,v);\n                if (Math.abs(v)>0.5)\n                {\n                    if (Math.random()>0.5)\n                    {\n                        createMessage(i,j,v);\n                    }\n                    else\n                    {\n                        createMessage(j,i,v);\n                    }\n                }\n            }\n        }\n    }\n    window.addEventListener('beforeunload', ()=>{\n        localStorage.setItem('appstate', JSON.stringify(appState.value))\n        localStorage.setItem('progress', JSON.stringify(progress));\n    });\n});\n\nexport interface AppState {\n        mode: \"user-edit\" | \"broadcast\";\n        editingUser: number;\n        uncollectedMessages: Record<number,Array<number>>;\n        collectedMessages: Array<number>;\n        readyToPushMessages: Record<number,Array<number>>;\n}\n\nconst appState:Ref<AppState> = ref({\n    mode:'user-edit',\n    editingUser:-1,\n    uncollectedMessages:{},\n    collectedMessages:[],\n    readyToPushMessages:{}\n});\n\nconst showUserEditor = ref(false);\nconst collectedMessagesModal = ref(false);\n\nconst messages = ref(progress.messages);\nfunction getUserMessages(author:number)\n{\n    return messages.value.filter(m=>m.i==author);\n}\nfunction getUserPushableMessages(user:number)\n{\n    return appState.value.collectedMessages.map(mid=>progress.messages[mid]).filter(m=>m.i!=user&&(progress.userMemory[user]==undefined||progress.userMemory[user].includes(m.id)))\n}\n\nsubscribe('userPressed', (id)=>\n{\n    if (appState.value.mode==\"user-edit\")\n    {\n        if (!(id in appState.value.readyToPushMessages)) {appState.value.readyToPushMessages[id] = []}\n        showUserEditor.value = true;\n        appState.value.editingUser = id;\n    }\n})\n\nsubscribe('addedMessage', (msg:Message)=>{\n    if (!(msg.i in appState.value.uncollectedMessages))\n    {\n        appState.value.uncollectedMessages[msg.i] = [];\n    }\n    appState.value.uncollectedMessages[msg.i].push(msg.id);\n});\n\nfunction forgetMsg(msg:Message)\n{\n    appState.value.uncollectedMessages[msg.i] = appState.value.uncollectedMessages[msg.i].filter(m=>m!=msg.id);\n}\nfunction collectMsg(msg:Message)\n{\n    forgetMsg(msg);\n    appState.value.collectedMessages.push(msg.id);\n}\nfunction finishRound()\n{\n    progress.time += 1;\n    // appState.value.uncollectedMessages = {};\n    // appState.value.collectedMessages = appState.value.collectedMessages.filter(msg=>progress.time-msg.t<=1);\n    processPushTask(appState.value.readyToPushMessages);\n    appState.value.readyToPushMessages = {};\n}\nsubscribe('addedMessage', (msg:Message)=>startGenerateMessage(msg));\nsetInterval(() => {\n    processGenerateQueue();\n}, 1000);\n</script>\n\n<template>\n<div class=\"app\">\n    <GameCanvas :app-state=\"appState\" ref=\"canvas\"/>\n    <n-drawer v-model:show=\"showUserEditor\" :width=\"600\">\n        <n-drawer-content :native-scrollbar=\"false\">\n            <template #header>\n                <NPageHeader subtitle=\"用户分析\" @back=\"appState.editingUser=-1;showUserEditor=false\"></NPageHeader>\n                <h1>#{{ getUserName(appState.editingUser) }}</h1>\n            </template>\n            <n-tabs class=\"user-editor\" type=\"segment\" animated>\n                <n-tab-pane name=\"new\" tab=\"最新发言\">\n                    <MessageCard :msg=\"progress.messages[msgId]\" v-for=\"msgId in (appState.uncollectedMessages[appState.editingUser])\" :key=\"msgId\">\n                        <template #action>\n                            <n-flex justify=\"space-between\">\n                                <n-button @click=\"collectMsg(progress.messages[msgId])\">收集</n-button>\n                                <n-button @click=\"forgetMsg(progress.messages[msgId])\">忽略</n-button>\n                            </n-flex>\n                        </template>\n                    </MessageCard>\n                </n-tab-pane>\n                <n-tab-pane name=\"history\" tab=\"历史发言\">\n                    <MessageList :source=\"getUserMessages(appState.editingUser)\" :select=\"false\"/>\n                </n-tab-pane>\n                <n-tab-pane name=\"push-list\" tab=\"本次推送\">\n                    <!-- <n-flex justify=\"center\">\n                        <n-button @click=\"selectMessageModal=true\" :disabled=\"getUserPushableMessages(appState.editingUser).length==0\">修改</n-button>\n                    </n-flex>\n                    <MessageCard :msg=\"progress.messages[msgId]\" v-for=\"msgId in (appState.readyToPushMessages[appState.editingUser])\" :key=\"msgId\"/> -->\n                    <MessageList :source=\"getUserPushableMessages(appState.editingUser)\" :select=\"true\" v-model=\"appState.readyToPushMessages[appState.editingUser]\"/>\n                </n-tab-pane>\n            </n-tabs>\n        </n-drawer-content>\n    </n-drawer>\n    <div class=\"corner-buttons\">\n        <n-button round type=\"primary\" size=\"large\" @click=\"collectedMessagesModal=true\">已收集消息</n-button>\n        <n-button round type=\"primary\" size=\"large\" @click=\"finishRound\">结束回合</n-button>\n    </div>\n    <n-modal v-model:show=\"collectedMessagesModal\">\n    <n-card style=\"width: 600px\" title=\"已收集消息\">\n    <MessageList :source=\"appState.collectedMessages.map(mid=>progress.messages[mid])\" :select=\"false\"/>\n    </n-card>\n    </n-modal>\n</div>\n</template>\n\n<style>\nbody\n{\n    margin: 0;\n    overflow: hidden;\n}\n\n.app\n{\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n}\n.corner-buttons\n{\n    position: absolute;\n    right: 20px;\n    bottom: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5ff6eaea&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_project\"] = self[\"webpackChunkvue_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4071); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["events","subscribe","event","action","key","Object","keys","length","emit","args","values","forEach","progress","userGraph","userSize","userMemory","messages","userCount","time","setProgress","newProgress","i","msg","rGet","a","b","k","toString","rSet","v","balance","po","px","ox","newPx","newPo","changeAttitude","user","target","value","d","processPushTask","task","userId","parseInt","diffrence","msgId","dpx","dpo","pushMsgToUser","j","other","diff","Math","abs","createMessage","id","t","push","console","log","getRepulsion","rij","repulsion","innerRepulsion","outterRepulsion","o","createUser","client","OpenAI","apiKey","baseURL","dangerouslyAllowBrowser","delay","ms","Promise","resolve","setTimeout","async","chat","attempt","completion","completions","create","model","temperature","choices","message","content","e","error","text","userTexts","messageTexts","textSource","localStorage","getItem","getUserText","name","prompt","getUserName","getFullUserPrompt","historyContainer","filter","m","map","minimumVersion","join","JSON","parse","traits","randomPick","arr","floor","random","getRelationshipDiffDescribe","relationship","getMessageContentPrompt","getMessageTitlePrompt","getMessageMinimumVersionPrompt","generateQueue","generating","processGenerateQueue","title","setItem","stringify","shift","startGenerateMessage","_defineComponent","__name","props","x","y","selected","type","Boolean","focused","py","ps","badgeDefault","badgeInfo","setup","__props","onClick","_ctx","_cache","_openBlock","_createElementBlock","class","style","_normalizeStyle","left","top","outline","_createVNode","_unref","NBadge","offset","default","_withCtx","_createElementVNode","_toDisplayString","_","__exports__","idealDist","delta","stepLength","appState","state","ref","users","selectedUsers","focusedUser","s","mode","includes","multiSelecting","multiSelectStartX","multiSelectStartY","mouseX","mouseY","onMousemove","buttons","movementX","movementY","clientX","clientY","onMousedown","bgDownButtons","linesCanvas","linesCtx","onMouseup","ux","uy","newSelecteState","shiftKey","changeScale","mx","my","s1","mx1","my1","s2","mx2","my2","onWheel","wheelDelta","getForce","ax","ay","bx","by","idealDistScale","strengthScale","dx","dy","ls","l","sqrt","tl","f","physicsProcess","vx","vy","redraw","width","window","innerWidth","height","innerHeight","entries","splited","split","fromId","toId","from","to","r","padStart","strokeStyle","beginPath","moveTo","lineTo","stroke","w","h","rect","fillStyle","fill","onMounted","document","getElementById","getContext","setInterval","addEventListener","ctrlKey","_Fragment","_renderList","_createBlock","CanvasUser","uncollectedMessages","readyToPushMessages","_hoisted_1","_hoisted_2","intervalId","messageText","clearInterval","NCard","hoverable","header","NSkeleton","round","_renderSlot","$slots","repeat","_createTextVNode","_mergeModels","source","select","emits","checkedRowKeys","_useModel","createColumns","columns","multiple","NDataTable","$event","data","pagination","bordered","striped","appstateSource","progressSource","editingUser","collectedMessages","showUserEditor","collectedMessagesModal","getUserMessages","author","getUserPushableMessages","mid","undefined","forgetMsg","collectMsg","finishRound","GameCanvas","NDrawer","show","NDrawerContent","NPageHeader","subtitle","onBack","NTabs","animated","NTabPane","tab","MessageCard","NFlex","justify","NButton","MessageList","modelValue","size","NModal","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","n","getter","__esModule","definition","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}