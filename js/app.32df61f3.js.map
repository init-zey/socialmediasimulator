{"version":3,"file":"js/app.32df61f3.js","mappings":"0JAAA,MAAMA,EAAiE,CAAC,EAClE,SAAUC,EAAUC,EAAcC,GAE9BD,KAASF,IAEXA,EAAOE,GAAS,CAAC,GAErB,MAAME,EAAMC,OAAOC,KAAKN,EAAOE,IAAQK,OAAO,EAE9C,OADAP,EAAOE,GAAOE,GAAOD,EACdC,CACX,CACM,SAAUI,EAAYN,EAAcE,GAElCF,KAASF,UAEFA,EAAOE,GAAOE,EAE7B,CACM,SAAUK,EAAKP,KAAiBQ,GAE9BR,KAASF,GAETK,OAAOM,OAAOX,EAAOE,IAAQU,QAAQT,IACjCA,KAAUO,IAGtB,C,cCxBe,IAAIG,EAAAA,GAAO,CACtBC,OAAQ,sDACRC,QAAS,+BACTC,yBAAyB,IAStBC,eAAeC,EAAKC,GAGvB,OAAOA,CAmBX,CCpCA,OACI,WACA,YACA,mBACA,SACA,aACA,WACA,OACA,SACA,cACA,QACA,aACA,SACA,cACA,QACA,SACA,QACA,QACA,UACA,SACA,QACA,MACA,YACA,SACA,mBACA,eACA,SACA,aACA,mBACA,QACA,WACA,YACA,aACA,aACA,QACA,WACA,SACA,UACA,gBACA,eACA,cACA,aACA,gBACA,aACA,WACA,gBACA,cACA,WACA,YACA,UACA,YACA,MACA,eACA,eACA,SACA,WACA,aACA,cACA,qBACA,oBACA,aACA,WACA,iBACA,WACA,kBACA,cACA,SACA,gBACA,UACA,eACA,QACA,WACA,kBACA,QACA,YACA,SACA,YACA,iBACA,SACA,WACA,YACA,cACA,gBACA,QACA,mBACA,WACA,YACA,cACA,eACA,YACA,gBACA,WACA,oBACA,gBACA,SACA,WACA,aACA,WACA,UACA,SACA,QACA,eACA,eACA,WACA,YACA,eACA,YACA,WACA,YACA,WACA,QACA,gBACA,SACA,YACA,kBACA,UACA,aACA,SACA,SACA,iBACA,QACA,UACA,WACA,UACA,kBACA,QACA,cACA,UACA,qBACA,YACA,UACA,aACA,eACA,mBACA,SACA,gBACA,cACA,gBACA,eACA,YACA,aACA,UACA,SACA,YACA,kBACA,gBACA,eACA,SACA,eACA,aACA,gBACA,WACA,QACA,eACA,eACA,OACA,cACA,QACA,YACA,qBACA,QACA,SACA,iBACA,QACA,aACA,kBACA,cACA,OACA,YACA,cACA,aACA,WACA,WACA,WACA,gBACA,WACA,aACA,SACA,cACA,aACA,SACA,qBACA,iBACA,aACA,YACA,YACA,WACA,mBACA,oBACA,UACA,cACA,gBACA,WACA,WACA,SACA,YACA,YACA,QACA,QACA,aACA,UACA,WACA,aACA,WACA,SACA,gBACA,iBACA,UACA,WACA,UACA,QACA,UACA,aACA,SACA,SACA,iBACA,gBACA,cACA,QACA,WACA,WACA,gBACA,QACA,eACA,WACA,UACA,eACA,QACA,WACA,aACA,kBACA,SACA,WACA,eACA,eACA,eACA,aACA,UACA,WACA,cACA,aACA,aACA,cACA,aACA,WACA,UACA,YACA,SACA,YACA,UACA,UACA,SACA,SACA,SACA,gBACA,WACA,eACA,WACA,aACA,YACA,YACA,WACA,UACA,SACA,iBACA,cACA,YACA,gBACA,gBACA,eACA,cACA,cACA,aACA,YACA,eACA,aACA,UACA,YACA,eACA,eACA,QACA,SACA,kBACA,SACA,sBACA,aACA,cACA,SACA,UACA,gBACA,YACA,SACA,OACA,eACA,UACA,QACA,gBACA,gBACA,SACA,SACA,OACA,eACA,WACA,eACA,SACA,SACA,aACA,WACA,OACA,iBACA,aACA,UACA,gBACA,UACA,eACA,iBACA,YACA,UACA,aACA,uBACA,WACA,YACA,eACA,SACA,cACA,UACA,OACA,UACA,QACA,kBACA,cACA,cACA,WACA,oBACA,WACA,aACA,YACA,OACA,eACA,cACA,QACA,cACA,YACA,WACA,cACA,UACA,SACA,aACA,kBACA,YACA,WACA,WACA,iBACA,WACA,SACA,iBACA,YACA,gBACA,eACA,SACA,WACA,cACA,UACA,SACA,cACA,WACA,aACA,UACA,MACA,SACA,cACA,SACA,iBACA,qBACA,sBACA,YACA,YACA,WACA,cACA,QACA,aACA,aACA,YACA,iBACA,cACA,SACA,aACA,cACA,iBACA,gBACA,UACA,gBACA,WACA,cACA,cACA,cACA,eACA,UACA,WACA,QACA,YACA,QACA,cACA,iBACA,iBACA,WACA,YACA,QACA,eACA,UACA,SACA,SACA,YACA,WACA,YACA,YACA,cACA,cACA,UACA,cACA,QACA,YACA,WACA,cACA,WACA,WACA,YACA,QACA,cACA,aACA,gBACA,cACA,UACA,eACA,eACA,WACA,UACA,eACA,YACA,WACA,eACA,cACA,cACA,cACA,WACA,cACA,aACA,eACA,YACA,YACA,eACA,WACA,WACA,SACA,WACA,iBACA,WACA,UACA,kBACA,YACA,UACA,OACA,gBACA,WACA,QACA,qBACA,WACA,QACA,iBACA,aACA,UACA,iBACA,eACA,SACA,YACA,WACA,gBACA,YACA,YACA,SACA,QACA,aACA,iBACA,aACA,SACA,WACA,QACA,eACA,YACA,eACA,SACA,QACA,WACA,aACA,SACA,gBACA,iBACA,OACA,YACA,gBACA,WACA,WACA,iBACA,eACA,gBACA,SACA,cACA,iBACA,kBACA,gBACA,aACA,eACA,SACA,SACA,UACA,gBACA,sBACA,QACA,SACA,aACA,OACA,WACA,OACA,UACA,mBACA,mBACA,WACA,SACA,SACA,QACA,gBACA,QACA,UACA,UACA,cACA,gBACA,gBACA,YACA,cACA,cACA,cACA,aACA,QACA,aACA,YACA,eACA,eACA,YACA,gBACA,eACA,WACA,WACA,QACA,YACA,QACA,cACA,WACA,YACA,MACA,UACA,WACA,aACA,WACA,aACA,SACA,iBACA,UACA,WACA,SACA,gBACA,cACA,aACA,cACA,iBACA,OACA,WACA,WACA,QACA,iBACA,cACA,WACA,SACA,eACA,aACA,YACA,UACA,SACA,eACA,UACA,UACA,aACA,YACA,cACA,SACA,YACA,WACA,QACA,YACA,SACA,SACA,WACA,cACA,aACA,aACA,YACA,QACA,SACA,gBACA,eACA,YACA,WACA,iBACA,WACA,OACA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","sources":["webpack://social-media-sim/./src/event.ts","webpack://social-media-sim/./src/llm.ts","webpack://social-media-sim/./src/userNames.ts","webpack://social-media-sim/./src/text.ts","webpack://social-media-sim/./src/game.ts","webpack://social-media-sim/./src/components/CanvasUser.vue?4afb","webpack://social-media-sim/./src/components/CanvasUser.vue","webpack://social-media-sim/./src/components/CanvasUser.vue?7b96","webpack://social-media-sim/./src/components/GameCanvas.vue","webpack://social-media-sim/./src/components/GameCanvas.vue?d007","webpack://social-media-sim/./src/components/GameCanvas.vue?cf9f","webpack://social-media-sim/./src/components/MessageCard.vue?0f40","webpack://social-media-sim/./src/components/MessageCard.vue","webpack://social-media-sim/./src/components/MessageCard.vue?3d29","webpack://social-media-sim/./src/components/StatusBar.vue?3dbb","webpack://social-media-sim/./src/components/StatusBar.vue","webpack://social-media-sim/./src/components/StatusBar.vue?0a9a","webpack://social-media-sim/./src/mission.ts","webpack://social-media-sim/./src/App.vue?2a5e","webpack://social-media-sim/./src/App.vue","webpack://social-media-sim/./src/App.vue?7ccd","webpack://social-media-sim/./src/AppContainer.vue","webpack://social-media-sim/./src/AppContainer.vue?759d","webpack://social-media-sim/./src/main.ts","webpack://social-media-sim/webpack/bootstrap","webpack://social-media-sim/webpack/runtime/chunk loaded","webpack://social-media-sim/webpack/runtime/compat get default export","webpack://social-media-sim/webpack/runtime/define property getters","webpack://social-media-sim/webpack/runtime/global","webpack://social-media-sim/webpack/runtime/hasOwnProperty shorthand","webpack://social-media-sim/webpack/runtime/jsonp chunk loading","webpack://social-media-sim/webpack/startup"],"sourcesContent":["const events:Record<string, Record<string, (...params:any[])=>void>> = {}\nexport function subscribe(event:string, action:(...params:any[])=>void):number\n{\n    if (!(event in events))\n    {\n        events[event] = {}\n    }\n    const key = Object.keys(events[event]).length-1;\n    events[event][key] = action;\n    return key;\n}\nexport function desubscribe(event:string, key:number):void\n{\n    if (event in events)\n    {\n        delete events[event][key];\n    }\n}\nexport function emit(event:string, ...args:any[]):void\n{\n    if (event in events)\n    {\n        Object.values(events[event]).forEach(action => {\n            action(...args);\n        });\n    }\n}","import OpenAI from \"openai\"\n\nconst client = new OpenAI({\n    apiKey: \"sk-uFDUPAriuBg6l84rhrFxcRect2V0gpH59KVXj8dxG6wblr5p\",\n    baseURL: \"http://localhost:8080/llmapi\",\n    dangerouslyAllowBrowser: true\n})\n\nfunction delay(ms:number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport async function chat(msg:string)\n{\n    // await delay(100);\n    return msg;\n    for (let attempt = 1; attempt <= 2; attempt++) {\n        try {\n            const completion = await client.chat.completions.create({\n                model: \"kimi-k2-turbo-preview\",\n                messages: [\n                    {\"role\": \"system\", \"content\": msg},\n                ],\n                temperature: 0.6,\n            })\n            return completion.choices[0].message.content??\"\";\n        }\n        catch (e)\n        {\n            await delay(5000);\n            console.error(e);\n        }\n    }\n    return \"\";\n}","export default [\n    \"Dr_Gears\",\n    \"Lee_Byron\",\n    \"Kain_Pathos_Crow\",\n    \"Kraito\",\n    \"Lt_Masipag\",\n    \"cyrus013\",\n    \"far2\",\n    \"HK-016\",\n    \"FritzWillie\",\n    \"Jagyr\",\n    \"GeoMandell\",\n    \"Bijhan\",\n    \"A_Fat_Ghost\",\n    \"CR056\",\n    \"Arcibi\",\n    \"Askew\",\n    \"Dilzo\",\n    \"regedit\",\n    \"Volpes\",\n    \"Binks\",\n    \"K25\",\n    \"The_Raven\",\n    \"Moto42\",\n    \"DisgruntledGrunt\",\n    \"Rossalcopter\",\n    \"no_one\",\n    \"Re_Watcher\",\n    \"Dr_Denizen_Nomad\",\n    \"axlan\",\n    \"Van_Dorn\",\n    \"jezebella\",\n    \"RoboCicero\",\n    \"R4-J-Admin\",\n    \"Slate\",\n    \"Richmond\",\n    \"Godwin\",\n    \"Albireo\",\n    \"Doctor_Device\",\n    \"scratskinner\",\n    \"M_Gargantua\",\n    \"Daydreamin\",\n    \"Pair_Of_Ducks\",\n    \"Lawyer_Dog\",\n    \"Fallen_W\",\n    \"Tapioca_Shine\",\n    \"DrakeRunner\",\n    \"soul1382\",\n    \"WillDreil\",\n    \"FaeDine\",\n    \"gscshoyru\",\n    \"Eth\",\n    \"Guildenstern\",\n    \"AsmodeusDark\",\n    \"Raaxis\",\n    \"Bigsquid\",\n    \"Katokijime\",\n    \"Professor_Q\",\n    \"Overstuffed_Dragon\",\n    \"NamelessPersonnel\",\n    \"Isaac_Roth\",\n    \"Gulliver\",\n    \"Keith_Essorexx\",\n    \"Dr_Xodar\",\n    \"RiotGearEpsilon\",\n    \"Cthulhu1138\",\n    \"DrClef\",\n    \"geistdeskrieg\",\n    \"ITHIDET\",\n    \"Moose_Fisher\",\n    \"Choel\",\n    \"Dr_Teeth\",\n    \"Callis_Carnival\",\n    \"Kulzn\",\n    \"Eberstrom\",\n    \"Eremus\",\n    \"Iceberg_7\",\n    \"Dr_Waldo_Flagg\",\n    \"Sc0tch\",\n    \"Palhinuk\",\n    \"snorlison\",\n    \"Dr_Kondraki\",\n    \"Ramming_Stone\",\n    \"Khama\",\n    \"ReasearcherWeiss\",\n    \"mwknight\",\n    \"Captain_A\",\n    \"sirbestdone\",\n    \"BlastYoBoots\",\n    \"Dr_Gerald\",\n    \"Hugh_the_Hand\",\n    \"Dr_Wacey\",\n    \"PennywiseTheClown\",\n    \"LordAndromeda\",\n    \"Loomer\",\n    \"Overseer\",\n    \"judgedeadd\",\n    \"Dr_Ouros\",\n    \"elauzel\",\n    \"qsmike\",\n    \"theta\",\n    \"Seth_Beasley\",\n    \"Agent_Kramer\",\n    \"Redacted\",\n    \"Agent-Red\",\n    \"agatharights\",\n    \"Garenator\",\n    \"Mr_Burke\",\n    \"Dave_Rapp\",\n    \"oxygen83\",\n    \"Devas\",\n    \"SinisdarToste\",\n    \"JonnyD\",\n    \"super_man\",\n    \"Agent_Wolfcreed\",\n    \"Sokolov\",\n    \"apocalemur\",\n    \"Diarca\",\n    \"Reagle\",\n    \"unconscionable\",\n    \"Wheen\",\n    \"Qliphah\",\n    \"Dascoyne\",\n    \"krathar\",\n    \"nuravenightmare\",\n    \"Mezzo\",\n    \"Leyendecker\",\n    \"Axicore\",\n    \"V_the_Happy_Lurker\",\n    \"Haaaaaach\",\n    \"08-MD3P\",\n    \"Issac_Roth\",\n    \"JoystickHero\",\n    \"Agent_Thornsmith\",\n    \"Zemyla\",\n    \"MidnightMiono\",\n    \"NightroadAX\",\n    \"Kilgore_Trout\",\n    \"Treadedwater\",\n    \"fenderson\",\n    \"Maledictis\",\n    \"theburp\",\n    \"Dr_NPC\",\n    \"Urashiman\",\n    \"AntagonistNo666\",\n    \"Mistermonster\",\n    \"BananaSpider\",\n    \"Butler\",\n    \"Kenny_Strife\",\n    \"Ross_Smith\",\n    \"SingleEyebrow\",\n    \"Catdrake\",\n    \"Hinoa\",\n    \"ManualSearch\",\n    \"Kaos_Machina\",\n    \"Trid\",\n    \"Yubi_Shines\",\n    \"Nifar\",\n    \"WillBlack\",\n    \"NineAndNinetyHours\",\n    \"Picto\",\n    \"RazDaz\",\n    \"Alwayswatching\",\n    \"Kunou\",\n    \"lentilstew\",\n    \"GleefulNihilism\",\n    \"sloppyjoes7\",\n    \"Kasu\",\n    \"Dr_Ballou\",\n    \"Dr_Gloaming\",\n    \"CptBellman\",\n    \"mack2028\",\n    \"LordHaHa\",\n    \"Infynite\",\n    \"Agent_Circeus\",\n    \"Sethanda\",\n    \"dougpphbos\",\n    \"Haseri\",\n    \"weavermount\",\n    \"esmerelder\",\n    \"Xamnam\",\n    \"ModernMajorGeneral\",\n    \"TiberiusThyben\",\n    \"twelvevoid\",\n    \"NerfJihad\",\n    \"listmaker\",\n    \"nkhorlin\",\n    \"Ekzentric_Lohner\",\n    \"Unlucky_Scarecrow\",\n    \"M_Faust\",\n    \"SpoonOfEvil\",\n    \"Phantasmgoria\",\n    \"Buburubu\",\n    \"Krisnack\",\n    \"Shinyo\",\n    \"Dr_Mentha\",\n    \"NekoChris\",\n    \"Xeans\",\n    \"meh64\",\n    \"Kilo_Bravo\",\n    \"Xewleer\",\n    \"Marathon\",\n    \"Mr_Huggles\",\n    \"Devilock\",\n    \"Glaive\",\n    \"Peri_McGovern\",\n    \"dreamandwonder\",\n    \"Dr_Voss\",\n    \"yirimyah\",\n    \"Dr_Rath\",\n    \"Sobaa\",\n    \"Melfice\",\n    \"Ech0Sierra\",\n    \"Wolfun\",\n    \"Futhum\",\n    \"Dragon_of_Life\",\n    \"MattyWilliams\",\n    \"APaddedCell\",\n    \"Selph\",\n    \"GG_Crono\",\n    \"DrTVague\",\n    \"David_B_Brown\",\n    \"MrAnt\",\n    \"Pig_catapult\",\n    \"Gowlling\",\n    \"Lacynth\",\n    \"DrPaladynian\",\n    \"DrBar\",\n    \"DrBanner\",\n    \"Alan_Raven\",\n    \"Skali_Sharpnose\",\n    \"cotfi2\",\n    \"IT_Spook\",\n    \"DoctorPoivre\",\n    \"Hans_Ziegler\",\n    \"Shatterfront\",\n    \"Mikeavelli\",\n    \"Thisfox\",\n    \"Mulciber\",\n    \"RhettSarlin\",\n    \"Dr_English\",\n    \"Dr_Atticus\",\n    \"MountainMan\",\n    \"Dabo_Jones\",\n    \"Imerican\",\n    \"Felgraf\",\n    \"Dr_Gemini\",\n    \"Aero17\",\n    \"Dr_Fuller\",\n    \"Guthlaf\",\n    \"bryantv\",\n    \"Bouncl\",\n    \"Amarth\",\n    \"host13\",\n    \"PacifistDalek\",\n    \"Flatscam\",\n    \"Elvis_Christ\",\n    \"Raphomet\",\n    \"SugarDonut\",\n    \"Lycanious\",\n    \"Dr_deCuir\",\n    \"Drewbear\",\n    \"DrRoger\",\n    \"DrKens\",\n    \"DoctorPhaustus\",\n    \"Duntada_Man\",\n    \"Dr_Sutler\",\n    \"Dante_Connors\",\n    \"ZKZombiekitty\",\n    \"TyranaRaptor\",\n    \"thefifthman\",\n    \"Anna_Graham\",\n    \"MrUnimport\",\n    \"Spaztique\",\n    \"darkrequiem0\",\n    \"Dr_Gilmore\",\n    \"DelLeon\",\n    \"Dr_Lennon\",\n    \"WhereDidItGo\",\n    \"Sophia_Light\",\n    \"Moley\",\n    \"Oksbad\",\n    \"Lance_Silverman\",\n    \"Zenner\",\n    \"ClockworkIndustries\",\n    \"Dr_Frohman\",\n    \"aaronkalmon\",\n    \"JimmyD\",\n    \"poiuppx\",\n    \"AllanMarshall\",\n    \"SO_Gideon\",\n    \"Heiden\",\n    \"Deva\",\n    \"sonicjoeplus\",\n    \"Rolaran\",\n    \"aikoe\",\n    \"Lucian_Ostrum\",\n    \"ClockworkMage\",\n    \"Camwyn\",\n    \"Arovet\",\n    \"DanP\",\n    \"Dr_Stevenson\",\n    \"seisatsu\",\n    \"Seventh_Soul\",\n    \"Sisial\",\n    \"Ph4yt3\",\n    \"Whitewings\",\n    \"Lat_Ware\",\n    \"Flux\",\n    \"Matilde_Beiton\",\n    \"Autonomous\",\n    \"Azeltir\",\n    \"Zeon_Twilight\",\n    \"jhubert\",\n    \"TheArchivist\",\n    \"Frank_Horrigan\",\n    \"XStickman\",\n    \"jesdynf\",\n    \"Negativity\",\n    \"EmancipatedEmptiness\",\n    \"nyxetera\",\n    \"Dr_Cooper\",\n    \"SamResuAjnin\",\n    \"OddOne\",\n    \"Jack_Denton\",\n    \"MelWong\",\n    \"Waxx\",\n    \"FMRadio\",\n    \"Brucy\",\n    \"flowstoneknight\",\n    \"Aposiopesis\",\n    \"Nicolas_Rei\",\n    \"ginkitsu\",\n    \"Benjiman_Slivkoff\",\n    \"TrueSnow\",\n    \"rippen2020\",\n    \"Skinavish\",\n    \"Sonn\",\n    \"Rick_Revelry\",\n    \"Dr_Rundfunk\",\n    \"Sorts\",\n    \"Old_Charlie\",\n    \"Legendary\",\n    \"Arcalane\",\n    \"icarussmith\",\n    \"Utanith\",\n    \"Dumori\",\n    \"Hobelhouse\",\n    \"BlackMetalVenom\",\n    \"Mr_Citric\",\n    \"GreenJay\",\n    \"Samosael\",\n    \"UtterlyUseless\",\n    \"Luxtizer\",\n    \"Domura\",\n    \"Nicholas_Logan\",\n    \"Longsight\",\n    \"DrEverettMann\",\n    \"Agent_Peters\",\n    \"BeeDee\",\n    \"kai_hawk\",\n    \"Koryu_Ninja\",\n    \"Timpani\",\n    \"JSoban\",\n    \"SophosBlitz\",\n    \"Mordecai\",\n    \"Clipperton\",\n    \"Dr_Love\",\n    \"Iax\",\n    \"mrbill\",\n    \"AgentSchism\",\n    \"Mexora\",\n    \"Doctor_Lehrkin\",\n    \"Meister_Chancellor\",\n    \"Agent_Agetn_Chalice\",\n    \"DrInferno\",\n    \"Dr_Rhaomi\",\n    \"Sillyman\",\n    \"Dr_Geogaddi\",\n    \"Wires\",\n    \"Quikngruvn\",\n    \"Partileman\",\n    \"AgentGray\",\n    \"logansorenssen\",\n    \"underthered\",\n    \"ledtim\",\n    \"apocryphal\",\n    \"Mathias1356\",\n    \"Citizen_Erased\",\n    \"Servitor_2152\",\n    \"Dr_Demo\",\n    \"sightlesseyes\",\n    \"Eyclonus\",\n    \"KnightofNEE\",\n    \"CheesyJelly\",\n    \"Penguinizer\",\n    \"TheCustodian\",\n    \"finnguy\",\n    \"lynx2210\",\n    \"sulfa\",\n    \"metalshop\",\n    \"P_aul\",\n    \"Donny_Marko\",\n    \"carriontrooper\",\n    \"Sensei_Le_Roof\",\n    \"EjoThims\",\n    \"Dr_Hyrule\",\n    \"HawkW\",\n    \"Omar_Karindu\",\n    \"DrMocha\",\n    \"Room21\",\n    \"Ryusui\",\n    \"Noaqiyeum\",\n    \"Aibaleet\",\n    \"Khisareth\",\n    \"Fates_End\",\n    \"Homnibombus\",\n    \"Moonsquares\",\n    \"klaw646\",\n    \"Avery_Cates\",\n    \"Dhaos\",\n    \"Tabbyclaw\",\n    \"Dr_Anadi\",\n    \"Dr_Schubert\",\n    \"Dr_Sharp\",\n    \"hellbore\",\n    \"DocTrilby\",\n    \"Shewp\",\n    \"BoxShrinker\",\n    \"blakyoshi7\",\n    \"Ellen_Traytin\",\n    \"Chatni_Aeon\",\n    \"phlip45\",\n    \"Agent_Wilkes\",\n    \"Agent_Barnes\",\n    \"BrickBat\",\n    \"Dr_West\",\n    \"Dr_Edelstein\",\n    \"Dr_Motive\",\n    \"drweaver\",\n    \"LobstahBisck\",\n    \"BonSequitur\",\n    \"Matt_Dalton\",\n    \"Janus_Sunaj\",\n    \"Aurailen\",\n    \"katiekawaii\",\n    \"noogenesis\",\n    \"Pale_Chapter\",\n    \"Wolfwoods\",\n    \"Dr_Talson\",\n    \"quantumshard\",\n    \"Erulogos\",\n    \"CEMartin\",\n    \"Gnosis\",\n    \"Sofaspud\",\n    \"Qarim_Trablusi\",\n    \"Cowardly\",\n    \"DrBlaze\",\n    \"RenwickCustomer\",\n    \"alchahest\",\n    \"Rastair\",\n    \"Rael\",\n    \"Frank_Wheeler\",\n    \"Archelon\",\n    \"Lacer\",\n    \"Radioactive_Zombie\",\n    \"jo_black\",\n    \"Xphex\",\n    \"thattallfellow\",\n    \"Gnostalgia\",\n    \"Alephra\",\n    \"Shadow_Panther\",\n    \"Cornbread_TP\",\n    \"Grooth\",\n    \"Helcaraxe\",\n    \"Maniette\",\n    \"Chromapolitan\",\n    \"HaudNomen\",\n    \"CTHalwell\",\n    \"Dakkan\",\n    \"Nioki\",\n    \"BrentOGara\",\n    \"Photosynthetic\",\n    \"RavenGrave\",\n    \"Smapti\",\n    \"Soulbane\",\n    \"Izixs\",\n    \"Kylen_Phylar\",\n    \"Mayu_Zane\",\n    \"EllisLarrimi\",\n    \"wallyc\",\n    \"Mount\",\n    \"Don_Andy\",\n    \"Chevallier\",\n    \"Slight\",\n    \"IronSyndicate\",\n    \"Mutilated_Face\",\n    \"Kyte\",\n    \"AcidDrops\",\n    \"Atrum_Faustus\",\n    \"Valandar\",\n    \"Ariamaki\",\n    \"AaronKeskitalo\",\n    \"limited_moon\",\n    \"DoktorRamhbel\",\n    \"Edcrab\",\n    \"kendrakirai\",\n    \"Finn_Mackenzie\",\n    \"wanabeswordsman\",\n    \"Peter_Ibrahim\",\n    \"CForrester\",\n    \"Doctor_Rasis\",\n    \"Aespir\",\n    \"fgsfds\",\n    \"Daetrin\",\n    \"TheAristocrat\",\n    \"tunedtoadeadchannel\",\n    \"hylli\",\n    \"Shaviv\",\n    \"Phenominon\",\n    \"Pons\",\n    \"Vangelis\",\n    \"Sgeo\",\n    \"Irrisia\",\n    \"Captain_Lhurgoyf\",\n    \"AmbiguousPronoun\",\n    \"Schaufus\",\n    \"Dialed\",\n    \"thekit\",\n    \"Sidle\",\n    \"cky_throwaway\",\n    \"Grent\",\n    \"duali7y\",\n    \"mwchase\",\n    \"doubleblaze\",\n    \"Jack_Clarkson\",\n    \"SimpleCadence\",\n    \"Quixotess\",\n    \"RetsofNoraa\",\n    \"wjmacguffin\",\n    \"potatoman73\",\n    \"ProfSnider\",\n    \"G_Fox\",\n    \"Blade_bane\",\n    \"Ralphomon\",\n    \"tomatogoatee\",\n    \"retrocombine\",\n    \"Dr_Sigurd\",\n    \"Firock_Finion\",\n    \"symetrichaos\",\n    \"DrStokes\",\n    \"Kab_#224\",\n    \"JKyle\",\n    \"Jetman123\",\n    \"xoder\",\n    \"TheGunheart\",\n    \"auraseer\",\n    \"Pieguy259\",\n    \"PTL\",\n    \"Devilot\",\n    \"Virgo666\",\n    \"Josef_Kald\",\n    \"Tom90deg\",\n    \"OgremanSam\",\n    \"DMPath\",\n    \"Falcon_Tasangi\",\n    \"Ignifer\",\n    \"Magnight\",\n    \"Alazar\",\n    \"Draconis-Wyrm\",\n    \"Texanhick20\",\n    \"Warp_Eater\",\n    \"rootbeer277\",\n    \"Lugh_Lamhfhada\",\n    \"FPST\",\n    \"Zartosht\",\n    \"agent893\",\n    \"Jorum\",\n    \"Spenser_Babyak\",\n    \"Lopsidation\",\n    \"Dr_Aries\",\n    \"Laudre\",\n    \"Shadowreaver\",\n    \"zaratustra\",\n    \"Xelkelvos\",\n    \"Mahmoth\",\n    \"Slicer\",\n    \"Major_Harker\",\n    \"Genobee\",\n    \"FatherG\",\n    \"Mr_LeBlanc\",\n    \"Jack_Neil\",\n    \"CensorFairy\",\n    \"Zaeyde\",\n    \"BeamBrain\",\n    \"Letaluss\",\n    \"Kitsy\",\n    \"Leicontis\",\n    \"MrXeZe\",\n    \"Izzhov\",\n    \"tombones\",\n    \"Drakeblood4\",\n    \"Kingreaper\",\n    \"Schumacher\",\n    \"Thelogman\",\n    \"Wildt\",\n    \"Lowell\",\n    \"Agent_Godless\",\n    \"Spartan_0214\",\n    \"Axiotheie\",\n    \"Espinoza\",\n    \"Kimura_Okagawa\",\n    \"Dr_Adams\",\n    \"Tabi\",\n    \"saevitia\",\n    \"Eikouta\",\n    \"Hollowing\",\n    \"MorkaisChosen\",\n    \"Jack_Rankin\",\n    \"SirZerous\",\n    \"blackmage\",\n    \"Chungy_McBungy\",\n    \"Neohumanoid\",\n    \"The_Stray\",\n    \"Andreas128\",\n    \"Riser\",\n    \"Arugula\",\n    \"Dreamaniac\",\n    \"mosquit0\",\n    \"bleggs\",\n    \"Trevkor\",\n    \"Ortin\",\n    \"Preachieved\",\n    \"karajade\",\n    \"saultydog\",\n    \"Dr_Alpha\",\n    \"Doctor_Ninja\",\n    \"doink67isaac\",\n    \"Aryn\",\n    \"Data_Corrupted\",\n    \"Joshua_Leon\",\n    \"Caliban1972\",\n    \"Michael_Hurd\",\n    \"FillerB\",\n    \"norms29\",\n    \"Tyenkrovy\",\n    \"Misplaced_Memory\",\n    \"Mr_Acis\",\n    \"Lecturn\",\n    \"Chameleon_X\",\n    \"cyber95\",\n    \"Alex_January\",\n    \"kaitwospirit\",\n    \"lab7\",\n    \"Aeish\",\n    \"InnocentBystander\",\n    \"Kaiser_Mortuus\",\n    \"DrSaurus\",\n    \"Dr_Wolf\",\n    \"julie_profumo\",\n    \"wormyguy\",\n    \"iamtycho\",\n    \"Freeze_Rabbit\",\n    \"Agent_Kelka\",\n    \"HumbertHumbert\",\n    \"DisasterGrind\",\n    \"LaranosTZ\",\n    \"Ian_Maxwell\",\n    \"Quillpaw\",\n    \"Soviet_Jesus\",\n    \"FullHazard\",\n    \"Light_Guardian\",\n    \"The_Blank\",\n    \"Dakka\",\n    \"GundarkEars\",\n    \"GolemServant\",\n    \"Descendant_X\",\n    \"Alex_Allen\",\n    \"bogleech\",\n    \"Jarmatus\",\n    \"Evilkritter\",\n    \"Odolowa\",\n    \"RichardJ28\",\n    \"Metaphorphosis\",\n    \"nutsrice\",\n    \"Iron_Wolf\",\n    \"Jonathon_Redley\",\n    \"Rexina_Idiotarum\",\n    \"Di_Terra\",\n    \"Liaoken\",\n    \"Tholral\",\n    \"SoManyPants\",\n    \"Calabast\",\n    \"Sir_Mize\",\n    \"Doctor_Manhattan\",\n    \"coolerkid\",\n    \"Daili_Lama\",\n    \"Imp_Gnome\",\n    \"Mul\",\n    \"Hidenozuke\",\n    \"Dr_Schroeder\",\n]","import { emit } from \"./event\"\nimport { Message, progress, rGet } from \"./game\"\nimport { chat } from \"./llm\"\nimport userNames from \"./userNames\"\n\nexport interface UserText {\n    name:string,\n    prompt:string\n}\nexport interface MessageText {\n    content: string,\n    time: string,\n    minimumVersion: string\n}\n\nexport const topicNames = [\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"VOCALOID\",\"\",\"\",\"\"]\n\nexport let text:{\n    userTexts:Array<UserText>,\n    messageTexts:Array<MessageText>,\n    generateQueue:Array<number>,\n    flowLabel:Array<string>\n}={\n    userTexts: [],\n    messageTexts: [],\n    generateQueue: [],\n    flowLabel: ['']\n}\n\nexport function loadText()\n{\n    const textSource = localStorage.getItem('text');\n    if (textSource != null)\n    {\n        text = JSON.parse(textSource);\n    }\n}\n\nexport function resetText()\n{\n    text = {\n        userTexts: [],\n        messageTexts: [],\n        generateQueue: [],\n        flowLabel: ['']\n    }\n}\n\nfunction getUserText(id:number):UserText\n{\n    if (id >= 0 && id < text.userTexts.length) return text.userTexts[id];\n    return {\n        name: '',\n        prompt: ''\n    }\n}\n\nexport function getUserName(id:number):string\n{\n    if (id<0 || id>=text.userTexts.length) return userNames[id%userNames.length];\n    const name = text.userTexts[id].name;\n    if (progress.userType[id]!=0) return '#'+name;\n    return name;\n}\n\nfunction getFullUserPrompt(id:number)\n{\n    const basicPrompt = getUserText(id).prompt;\n    return basicPrompt;\n    // let historyContainer = \"\";\n    // if (id in progress.userMemory)\n    // {\n    //     historyContainer = `[${progress.userMemory[id].filter(m=>m<text.messageTexts.length).map(m=>text.messageTexts[m].minimumVersion).join()}]`;\n    // }\n    // return `${historyContainer}`;\n}\n\nconst traits:Array<string> = [\"\",\"\",\"\"];\n\nfunction randomPick(arr:Array<string>):string\n{\n    return arr[Math.floor(Math.random()*traits.length)];\n}\n\nfunction getRelationshipDiffDescribe(relationship:number,other:string):string\n{\n    if (relationship > 0.5) return `${other}`;\n    if (relationship < 0.5) return `${other}`;\n    return ``;\n}\nfunction getRelationshipDescribe(relationship:number):string\n{\n    if (relationship > 0.5) return \"\";\n    if (relationship < 0.5) return \"\";\n    return \"\";\n}\n\nfunction getMessageContentPrompt(msg:Message):string\n{\n    return `${randomPick(traits)}${getFullUserPrompt(msg.i)}112${getUserText(msg.i).prompt}${getRelationshipDiffDescribe(msg.v,getUserText(msg.j).prompt)}`;\n}\nfunction getMessageMinimumVersionPrompt(content:string):string\n{\n    return `[${content}]`;\n}\n\nlet generating = false;\n\nexport async function processGenerateQueue()\n{\n    if (generating || text.generateQueue == undefined || text.generateQueue.length==0) return;\n    const msg = text.generateQueue[0];\n    if (msg==undefined) return;\n    console.log(\"\");\n    generating = true;\n    if (text.messageTexts.length - 1 < msg)\n    {\n        text.messageTexts.push({\n            content: \"\",\n            minimumVersion: \"\",\n            time:\"\"\n        });\n    }\n    // const content = await chat(getMessageContentPrompt(progress.messages[msg]));\n    // const title = await chat(getMessageTitlePrompt(content));\n    const msgObj = progress.messages[msg];\n    if(msgObj!=undefined)\n    {\n        let content = randomPick(['OTHER']);\n        if (msgObj.v>0.5) content=randomPick(['OTHER','OTHER','@OTHER','@OTHER']);\n        if (msgObj.v<-0.5) content=randomPick(['@OTHER ','OTHER','OTHER','OTHER']);\n        content = content.replace('OTHER', getUserName(msgObj.j));\n        const minimumVersion = await chat(getMessageMinimumVersionPrompt(content));\n        text.messageTexts[msg] = {content, minimumVersion, time:getTimeText(msgObj.t)}\n        emit(\"generatedMessage\", msg, content);\n        text.generateQueue.shift();\n    }\n    generating = false;\n    console.log(\"\");\n}\n\nexport async function startGenerateMessage(msg:Message)\n{\n    if (text.generateQueue != undefined && (msg.id>=text.messageTexts.length || text.messageTexts[msg.id].content == ''))\n    {\n        text.generateQueue.push(msg.id);\n    }\n}\n\nconst weekdays = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];\n\nexport function getTimeText(time:number)\n{\n    const day = time + 100;\n    const year = ((day / 365) + 22).toFixed();\n    const month = (day % 365 / 12).toFixed();\n    const weekday = day % 7;\n    return (Math.random()*12).toFixed()+':'+(Math.random()*60).toFixed()+' '+(Math.random()>0.5?'P':'A')+'M'+'  '+`${weekdays[weekday]} ${month}, ${year}`\n}\n\nexport function getResponse(user:number, msg:Message, dInstability:number)\n{\n    const d = -dInstability;\n    if (d>0.5)\n    {\n        return \"\";\n    }\n    else if (d<-0.5)\n    {\n        return \"\";\n    }\n    else\n    {\n        return \"\";\n    }\n}\n\nexport function getBubbleText(user:number,target:number,newValue:number,oldValue:number)\n{\n    if (user == target)\n    {\n        if (newValue>=0.5&&oldValue<0.5)\n        {\n            return \"\";\n        }\n        else if (newValue<=0.5&&oldValue>0.5)\n        {\n            return \"\";\n        }\n        else if (newValue>=-0.5&&oldValue<-0.5)\n        {\n            return \"\";\n        }\n        else if (newValue<=-0.5&&oldValue>-0.5)\n        {\n            return \"\";\n        }\n    }\n    if (newValue>=0.5&&oldValue<0.5)\n    {\n        return \"OTHER\";\n    }\n    else if (newValue<=0.5&&oldValue>0.5)\n    {\n        return \"OTHER\";\n    }\n    else if (newValue>=-0.5&&oldValue<-0.5)\n    {\n        return \"OTHER\";\n    }\n    else if (newValue<=-0.5&&oldValue>-0.5)\n    {\n        return \"OTHER\";\n    }\n    return '';\n}","import { ref } from \"vue\";\nimport { emit } from \"./event\";\nimport { getBubbleText, getResponse, getUserName, text, topicNames } from \"./text\";\nimport userNames from \"./userNames\";\n\nexport interface Message {id:number, a:number, i:number, j:number, v:number, t:number}\n\nexport interface Progress{\n  userMemory: Record<number, number>;\n  userGraph: Record<string, number>;\n  messages: Array<Message>;\n  userCount: number;\n  userType: Array<number>;\n  userLife: Array<number>;\n  userFlowTags: Array<Array<number>>;\n}\n\nexport let debugMode = false;\n\nexport let progress:Progress = {\n  userMemory: {},\n  userGraph: {},\n  messages: [],\n  userType: [],\n  userLife: [],\n  userCount: 0,\n  userFlowTags: []\n}\nexport const time= ref(0);\nexport const score= ref(100);\n\nexport function resetProgress()\n{\n  progress = {\n    userMemory: {},\n    userGraph: {},\n    messages: [],\n    userType: [],\n    userLife: [],\n    userCount: 0,\n    userFlowTags: []\n  };\n  time.value = 0;\n  score.value = 100;\n  emit(\"resetProgress\");\n}\n\nexport function loadProgress()\n{\n  resetProgress();\n  const progressSource = localStorage.getItem('progress');\n  if (progressSource != null)\n  {\n    setProgress(JSON.parse(progressSource));\n  }\n  time.value = parseInt(localStorage.getItem(\"time\")??\"0\");\n  score.value = parseInt(localStorage.getItem(\"score\")??\"0\");\n}\n\nexport function saveProgress()\n{\n  localStorage.setItem('progress', JSON.stringify(progress));\n  localStorage.setItem('time', time.value.toString());\n  localStorage.setItem('score', score.value.toString());\n}\n\nfunction setProgress(newProgress:Progress)\n{\n  resetProgress();\n  progress = newProgress;\n  for(let i=0;i<progress.userCount;i++)\n  {\n    emit(\"createdUser\",i);\n  }\n  progress.messages.forEach(msg => {\n    emit('addedMessage', msg);\n  });\n}\n\nexport function rGet(a:number,b:number):number\n{\n  return rGetIn(a,b,progress.userGraph);\n}\nfunction rGetIn(a:number,b:number,G:Record<string,number>):number\n{\n  if (a>b) return rGetIn(b,a,G);\n  const k = a.toString(32)+'_'+b.toString(32);\n  if (!(k in G)) {\n    return 0;\n  }\n  return G[k];\n}\n\nexport function rSet(a:number,b:number,v:number)\n{\n  rSetIn(a,b,v,progress.userGraph);\n}\nfunction rSetIn(a:number,b:number,v:number,G:Record<string,number>)\n{\n  if (a>b)\n  {\n    rSetIn(b,a,v,G);\n    return;\n  }\n  const k = a.toString(32)+'_'+b.toString(32);\n  G[k] = v;\n}\n\nexport function createMessage(a:number, i:number, j:number, v:number)\n{\n  const msg = {id:progress.messages.length,a,i,j,v,t:time.value};\n  progress.messages.push(msg);\n  emit('addedMessage', msg);\n  return msg;\n}\n\nfunction changeAttitude(a:number, b:number, d:number):number\n{\n  const oldValue=rGet(a,b);\n  const newValue=oldValue+d;\n  rSet(a,b,newValue);\n  const i = a;\n  const j = b;\n  if (progress.userType[i]==0 && progress.userType[j]==0)\n  {\n    const bubbleText = getBubbleText(i,j,newValue,oldValue);\n    if (bubbleText != '')\n    {\n      emit('userBubbleText',i,bubbleText.replace('OTHER',getUserName(j)));\n      emit('userBubbleText',j,bubbleText.replace('OTHER',getUserName(i)));\n    }\n  }\n  return d;\n}\n\nconst threshold = 0;\n\nexport function instability(p:number,log:boolean=false)\n{\n  let s = 0;\n  const Gpp = rGet(p,p);\n  for(let x=0;x<progress.userCount;x++)\n  {\n    if (!userAvaliable(x)) continue;\n    const Gpx = rGet(p,x);\n    for(let o=x;o<progress.userCount;o++)\n    {\n      if (!userAvaliable(o)) continue;\n      const Gpo = rGet(p,o);\n      const Gox = rGet(o,x);\n      // const i = Gpx*Gpo*Gox-Gpp;\n      const i = Gpx*Gpo*Gox-threshold;\n      if(log)\n      {\n        console.log(`Gpo=${Gpo}`)\n        console.log(`Gox=${Gox}`)\n        console.log(`Gpx=${Gpx}`)\n        console.log(`i(p=${p},o=${o},x=${x})=${i}`)\n      }\n      s-=Math.min(i,0);\n    }\n  }\n  return s;\n}\n\n// function instabilityPartialD(p:number,o:number)\n// {\n//   const dGpo = 0.01;\n//   const pdir = instabilitydGpo(p,o,dGpo);\n//   const ndir = instabilitydGpo(p,o,-dGpo);\n//   return (pdir + ndir) * 0.5;\n// }\n\nfunction instabilityPartialD(p:number,o:number)\n{\n  let d = 0;\n  // const Gpp = rGet(p,p);\n  const Gpo = rGet(p,o);\n  for(let x=0;x<progress.userCount;x++)\n  {\n    if (!userAvaliable(x)) continue;\n    const Gox = rGet(o,x);\n    const Gpx = rGet(p,x);\n    // const i1=-Math.min(Gpo*Gox*Gpx-Gpp,0);\n    const i1=-Math.min(Gpo*Gox*Gpx-threshold,0);\n    const dGpo = 0.01;\n    let i2 = 0;\n    const Gpo2 = Gpo+dGpo;\n    if (x==o)\n    {\n      if (p==x)\n      {\n        // -min(Gpo*Gpo*Gpo-Gpo,0)\n        i2=Gpo2*Gpo2*Gpo2;\n      }\n      else\n      {\n        //-min(Gox*Gpo^2-Gpp,0)\n        i2=Gox*Gpo2*Gpo2;\n      }\n    }\n    else\n    {\n      if (p==o)\n      {\n        //-min(Gox*Gpx*Gpo-Gpo,0)\n        i2=Gox*Gpx*Gpo2;\n      }\n      else\n      {\n        //-min(Gox*Gpx*Gpo-Gpp,0)\n        i2=Gox*Gpx*Gpo2;\n      }\n    }\n    i2=-Math.min(i2-threshold,0);\n    d+=(i2-i1)/dGpo;\n  }\n  return d;\n}\n\nexport async function pushMsgToUser(msg:Message, user:number)\n{\n  if (user==msg.a) return;\n  progress.userMemory[msg.i] = msg.j;\n  progress.userMemory[msg.j] = msg.i;\n  const oldGij = rGet(msg.i,msg.j);\n  const oldInstability = instability(user);\n  rSet(msg.i,msg.j,msg.v);\n  const newInstability = instability(user);\n  rSet(msg.i,msg.j,oldGij);\n  const d = newInstability - oldInstability;\n  changeAttitude(user,user,Math.abs(d)*0.01);\n  const views = Math.abs(d);\n  const likes = d>0?d:(Math.random()*Math.abs(d)*0.5);\n  emit('viewedMessage', views);\n  emit('likedMessage', likes);\n  if (views > 0.1)\n  {\n    emit('messageResponsed',user,getResponse(user, msg, d))\n  }\n  emit('messageGainedScore',Math.ceil((Math.abs(d)+Math.max(d,0)))*5);\n}\n\nexport function userAvaliable(user:number)\n{\n  return progress.userLife[user]!=0;\n}\n\nexport function updateUsers(delta:number)\n{\n  for(let p=0;p<progress.userCount;p++)\n  {\n    if(!userAvaliable(p)) continue;\n    if (progress.userLife[p]>0)\n    {\n      progress.userLife[p] = Math.max(progress.userLife[p]-delta,0);\n    }\n    if(progress.userType[p]!=0) continue;\n    let maxIpo = -1;\n    let maxIpo_o = -1;\n    for(let o=p+1;o<progress.userCount;o++)\n    {\n      if(!userAvaliable(o)) continue;\n      // if(progress.userType[o]==1)\n      // {\n      //   if (Math.abs(rGet(p,o))<0.6)\n      //   {\n      //     changeAttitude(p,o,rGet(p,o)*(1-delta));\n      //     continue;\n      //   }\n      // }\n      const ipo = -instabilityPartialD(p,o) * (progress.userMemory[p]==o?0.5:1);\n      if (Math.abs(ipo) > Math.abs(maxIpo))\n      {\n        maxIpo = ipo;\n        maxIpo_o = o;\n      }\n    }\n    if (maxIpo_o >= 0)\n    {\n      changeAttitude(p,maxIpo_o,delta*maxIpo);\n    }\n    // updateUser(i,delta);\n  }\n  // applyChange();\n}\n\nexport function getRepulsion(i:number, j:number):boolean\n{\n    const rij=(a:number,b:number)=>Math.abs(rGet(a,b))<0.5;\n    let repulsion = rij(i,j);\n    if (!repulsion)\n    {\n        let innerRepulsion = false;\n        for(let d=1;d<j-i&&!innerRepulsion;d++)\n        {\n            innerRepulsion = !rij(i,i+d)&&!rij(i+d,j);\n        }\n        let outterRepulsion = false;\n        for(let d=1;d<i-j+progress.userCount&&!outterRepulsion;d++)\n        {\n            let o = j+d;\n            if (o >= progress.userCount)\n            {\n                o -= progress.userCount;\n            }\n            outterRepulsion = !rij(o,i)&&!rij(j,o);\n        }\n        repulsion = innerRepulsion && outterRepulsion;\n    }\n    return repulsion;\n}\n\nexport function createUser(type:number,name:string='',prompt:string='',randomRelationship:boolean=false,life:number=-1)\n{\n    const id = progress.userCount;\n    progress.userCount += 1;\n    progress.userType.push(type);\n    progress.userLife.push(life);\n    if(name=='')\n    {\n      text.userTexts.push({\n        name: type==0?userNames[id]:topicNames[id%topicNames.length],\n        prompt: ''\n      });\n    }\n    else\n    {\n      text.userTexts.push({name,prompt})\n    }\n    if(randomRelationship)\n    {\n      for(let i=0;i<progress.userCount;i++)\n      {\n        if (progress.userType[i]==0)\n        {\n          const r = Math.random();\n          if (r < 0.33)\n          {\n            rSet(i,id,0.6);\n            emit('userBubbleText',i,'');\n          }\n          else if (r > 0.66)\n          {\n            rSet(i,id,-0.6);\n            emit('userBubbleText',i,'');\n          }\n          else\n          {\n            emit('userBubbleText',i,'');\n          }\n        }\n      }\n    }\n    emit(\"createdUser\",id);\n}\n\nexport function removeUser()\n{\n  progress.userCount -= 1;\n  progress.userType.pop();\n  emit(\"removedUser\");\n}\n\nexport default {}\n\nexport function executeCommand(cmd:string[])\n{\n  if (cmd[0]=='debug')\n  {\n    debugMode = !debugMode;\n  }\n}\n\nexport function hasRelationship(a:number,b:number):boolean\n{\n  if (Math.abs(rGet(a,b))>=0.5) return true;\n  for(let x=0;x<progress.userCount;x++)\n  {\n    if(!userAvaliable(x)) continue;\n    if (Math.abs(rGet(a,x))>=0.5&&Math.abs(rGet(b,x))>=0.5) return true;\n  }\n  return false;\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"username\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"bubble\"\n}\n\nimport { desubscribe, emit, subscribe } from '@/event';\nimport { onBeforeUnmount, onMounted, ref } from 'vue'\nimport { getUserName } from '@/text';\nimport { User } from './GameCanvas.vue';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'CanvasUser',\n  props: {\n    user: {},\n    selected: { type: Boolean },\n    focused: { type: Boolean }\n  },\n  setup(__props: any) {\n\nconst props = __props;\nfunction onClick()\n{\n  emit('userPressed', props.user.id);\n}\nconst bubbleText = ref('hello world');\nconst bubbleTextLife = ref(0);\nlet bubbleEvent = 0;\n// const userInstability = ref(0);\nonMounted(()=>{\n  setInterval(()=>{\n    if (bubbleTextLife.value>0)\n    {\n      bubbleTextLife.value-=10/1000;\n    }\n    // userInstability.value = instability(props.user.id);\n  },10)\n  bubbleEvent = subscribe('userBubbleText',(id,bubbleTextContent)=>\n  {\n    if(id!=props.user.id||bubbleTextLife.value>0)return;\n    bubbleTextLife.value=3+Math.random()*3;\n    bubbleText.value=bubbleTextContent;\n  });\n})\nonBeforeUnmount(()=>{\n  desubscribe('userBubbleText',bubbleEvent);\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"canvas-user\",\n    onClick: onClick\n  }, [\n    _createElementVNode(\"span\", _hoisted_1, _toDisplayString(_unref(getUserName)(__props.user.id)), 1),\n    (bubbleTextLife.value>=0)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(bubbleText.value), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"canvas-user\" @click=\"onClick\">\n    <span class=\"username\"> {{ getUserName(user.id) }} </span>\n    <!-- <n-tag class=\"username\"> {{ userInstability }} </n-tag> -->\n    <div v-if=\"bubbleTextLife>=0\" class=\"bubble\">\n      {{ bubbleText }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { desubscribe, emit, subscribe } from '@/event';\nimport { defineProps, onBeforeUnmount, onMounted, ref } from 'vue'\nimport { getUserName } from '@/text';\nimport { User } from './GameCanvas.vue';\nconst props = defineProps<{\n  user: User,\n  selected: boolean,\n  focused: boolean\n}>();\nfunction onClick()\n{\n  emit('userPressed', props.user.id);\n}\nconst bubbleText = ref('hello world');\nconst bubbleTextLife = ref(0);\nlet bubbleEvent = 0;\n// const userInstability = ref(0);\nonMounted(()=>{\n  setInterval(()=>{\n    if (bubbleTextLife.value>0)\n    {\n      bubbleTextLife.value-=10/1000;\n    }\n    // userInstability.value = instability(props.user.id);\n  },10)\n  bubbleEvent = subscribe('userBubbleText',(id,bubbleTextContent)=>\n  {\n    if(id!=props.user.id||bubbleTextLife.value>0)return;\n    bubbleTextLife.value=3+Math.random()*3;\n    bubbleText.value=bubbleTextContent;\n  });\n})\nonBeforeUnmount(()=>{\n  desubscribe('userBubbleText',bubbleEvent);\n})\n</script>\n\n<style scoped>\n.canvas-user\n{\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.username\n{\n  margin: auto;\n  white-space: nowrap;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  cursor: pointer;\n  background-image: url(\"../assets/NameTag.png\");\n  background-size: cover;\n  color: white;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.bubble\n{\n  font-weight: 300;\n  position: absolute;\n  top: -80%;\n  white-space: nowrap;\n  text-align: center;\n  width: min-content;\n  background: #000;\n  color: white;\n  padding: 10px;\n  z-index: 998;\n  clip-path: polygon(0% 0%, 100% 0%, 100% 90%, 54% 90%, 50% 100%, 46% 90%, 0% 90%);\n}\n</style>","import script from \"./CanvasUser.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CanvasUser.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CanvasUser.vue?vue&type=style&index=0&id=aa1925ac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-aa1925ac\"]])\n\nexport default __exports__","<template>\n<div class=\"canvas\"\n:style=\"{'background-size': 20*s+'px '+20*s+'px', 'background-position': x*s+'px '+y*s+'px'}\">\n<!-- outline: (appState?.selectedUsers.includes(user.id)?'3px':'2px') + ' solid '+ (appState?.focusedUser==user.id?'#ff0':`#000`),\n            'border-radius': ((progress.userType[user.id]==0)?50:0)+'%', -->\n    <div class=\"canvas-bg2\" :style=\"{'background-size': 80*s+'px '+80*s+'px', 'background-position': x*s+'px '+y*s+'px'}\"\n    ></div>\n    <div class=\"mouse-input-handler\"\n        @mousedown=\"onMousedown\"\n        @mouseup=\"onMouseup\"\n        @mousemove=\"onMousemove\"\n        @touchstart=\"onTouchStart\"\n        @touchmove=\"onTouchMove\"\n        @touchend=\"onTouchEnd\"\n        @pointermove=\"(e)=>pointerMoved(e.movementX,e.movementY)\"\n        @wheel=\"onWheel\">\n    </div>\n    <CanvasUser v-for=\"user in users.filter(user=>userAvaliable(user.id)&&isUserInWindow(user))\" :key=\"user.id\"\n        @pointerdown=\"draggingUser=user.id\"\n        @mousemove=\"(e:MouseEvent)=>pointerMoved(e.movementX,e.movementY)\"\n        @pointerup=\"draggingUser=-1\"\n        @touchstart=\"(e:TouchEvent)=>{\n            const touch = e.touches[0];\n            mouseX = touch.clientX;\n            mouseY = touch.clientY;\n        }\"\n        @touchmove=\"(e:TouchEvent)=>{\n            const touch = e.touches[0];\n            const dx = touch.clientX-mouseX;\n            const dy = touch.clientY-mouseY;\n            pointerMoved(dx,dy);\n            mouseX=touch.clientX;\n            mouseY=touch.clientY;\n        }\"\n        @touchend=\"draggingUser=-1\"\n        :user=\"user\" :selected=\"appState?.selectedUsers.includes(user.id)??false\" :focused=\"appState?.focusedUser==user.id\"\n        :style=\"{left: calcX(user) + 'px', top: calcY(user) + 'px',\n            'font-weight': appState?.selectedUsers.includes(user.id)?'600':'300',\n            'opacity': progress.userLife[user.id]<0?1:progress.userLife[user.id],\n            width:user.radius+'px', height:user.radius+'px', 'transform': `rotate(${user.a}deg)`}\"\n    />\n    <canvas id=\"lines\"/>\n</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { getRepulsion, instability, progress, rGet, userAvaliable } from '../game'\nimport { defineModel, onMounted, Ref, ref } from 'vue'\nimport CanvasUser from './CanvasUser.vue'\nimport { emit, subscribe } from '../event'\nimport { AppState } from '@/App.vue';\nfunction calcX(user:User)\n{\n    return (x.value + user.x) * s.value - user.radius*0.5 + user.dx;\n}\nfunction calcY(user:User)\n{\n    return (y.value + user.y) * s.value - user.radius*0.5 + user.dy;\n}\nfunction isUserInWindow(user:User)\n{\n    const scrX = calcX(user);\n    const scrY = calcY(user);\n    return scrX > -100 && scrX < window.innerWidth + 100 && scrY > -100 && scrY < window.innerHeight + 100;\n}\nexport interface User {\n    id: number;\n    x: number;\n    y: number;\n    dx: number;\n    dy: number;\n    vx: number;\n    vy: number;\n    va: number;\n    a: number;\n    radius: number;\n}\nconst users:Ref<Array<User>> = ref([]);\n\nsubscribe('resetProgress',()=>{\n    users.value = [];\n})\n\nconst appState = defineModel<AppState>();\n\nconst x = ref(window.innerWidth*0.5);\nconst y = ref(window.innerHeight*0.5);\nconst s = ref(1);\nsubscribe('userPressed', (id)=>\n{\n    // if (appState.value?.mode == 'user-edit') return;\n    if (appState.value == undefined) return;\n    if (progress.userType[id]!=0) return;\n    let selectedUsers = appState.value.selectedUsers;\n    if (appState.value?.mode == 'select-relationship')\n    {\n        if (selectedUsers.includes(id))\n        {\n            if (appState.value.focusedUser != id)\n            {\n                appState.value.focusedUser = id;\n            }\n            else\n            {\n                appState.value.selectedUsers = selectedUsers.filter(i=>i!=id);\n                appState.value.focusedUser = -1;\n            }\n        }\n        else{\n            appState.value.focusedUser = id;\n            selectedUsers.push(id);\n            if (selectedUsers.length==2)\n            {\n                const i=selectedUsers[0];\n                const j=selectedUsers[1];\n                if(appState.value.focusedUser==i)\n                {\n                    emit('relationSelected',i,j);\n                }\n                else\n                {\n                    emit('relationSelected',j,i);\n                }\n                appState.value.focusedUser = -1;\n                appState.value.selectedUsers = [];\n            }\n        }\n    }\n    else\n    {\n        if (selectedUsers.includes(id))\n        {\n            appState.value.selectedUsers = selectedUsers.filter(i=>i!=id);\n        }\n        else\n        {\n            appState.value.selectedUsers.push(id);\n        }\n    }\n})\n\nlet multiSelecting = false;\nlet multiSelectStartX = 0;\nlet multiSelectStartY = 0;\nlet mouseX = 0;\nlet mouseY = 0;\nlet touchStartX = 0;\nlet touchStartY = 0;\nlet touchStartCanvasX = 0;\nlet touchStartCanvasY = 0;\nlet touchesDistance = -1;\n\nfunction onTouchStart(e: TouchEvent)\n{\n    e.preventDefault();\n    if (e.touches.length == 1)\n    {\n        const touch = e.touches[0];\n        touchStartX = touch.clientX;\n        touchStartY = touch.clientY;\n        touchStartCanvasX = x.value;\n        touchStartCanvasY = y.value;\n    }\n}\n\nfunction onTouchEnd(e: TouchEvent)\n{\n    draggingUser = -1;\n    e.preventDefault();\n    if (e.touches.length == 0)\n    {\n        touchesDistance = -1;\n    }\n}\n\nfunction onTouchMove(e: TouchEvent)\n{\n    e.preventDefault();\n    if (e.touches.length == 1 && touchesDistance == -1)\n    {\n        const touch = e.touches[0];\n        mouseX = touch.clientX;\n        mouseY = touch.clientY;\n        x.value = mouseX - touchStartX + touchStartCanvasX;\n        y.value = mouseY - touchStartY + touchStartCanvasY;\n    }\n    else if (e.touches.length == 2)\n    {\n        const x1 = e.touches[0].clientX;\n        const y1 = e.touches[0].clientY;\n        const x2 = e.touches[1].clientX;\n        const y2 = e.touches[1].clientY;\n        const d = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        if (touchesDistance>0)\n        {\n            let delta = (d - touchesDistance) * 0.01;\n            if (delta < -1)\n            {\n                delta = -1;\n            }\n            if (delta > 1)\n            {\n                delta = 1;\n            }\n            delta += 1;\n            // if (delta < 0)\n            // {\n            //     delta += 1;\n            // }\n            changeScale((x1+x2)/2, (y1+y2)/2, delta);\n        }\n        touchesDistance = d;\n    }\n}\n\nfunction onMousemove(e:any)\n{\n    if (e.buttons==4) {\n        x.value += e.movementX / s.value;\n        y.value += e.movementY / s.value;\n    }\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n    multiSelecting = appState.value?.mode==\"broadcast\" && e.buttons==1;\n}\n\nfunction onMousedown(e:any)\n{\n    if (e.buttons==1)\n    {\n        multiSelecting = appState.value?.mode==\"broadcast\";\n        multiSelectStartX=e.clientX;\n        multiSelectStartY=e.clientY;\n    }\n    bgDownButtons = e.buttons;\n}\n\nlet bgDownButtons = 0;\n\n\nfunction onMouseup(e:any)\n{\n    draggingUser = -1;\n    if (appState.value == undefined) return;\n    if (bgDownButtons == 1)\n    {\n        appState.value.selectedUsers = [];\n        appState.value.focusedUser = -1;\n    }\n    if (multiSelecting && Math.abs(mouseX - multiSelectStartX) > 10 && Math.abs(mouseY - multiSelectStartY) > 10)\n    {\n        appState.value.selectedUsers = users.value.filter(user=>\n        {\n            if (appState.value == undefined) return;\n            const ux = (user.x + x.value) * s.value;\n            const uy = (user.y + y.value) * s.value;\n            let newSelecteState = e.shiftKey?appState.value.selectedUsers.includes(user.id):false;\n            if (((ux > multiSelectStartX && ux < mouseX) || (ux > mouseX && ux < multiSelectStartX))\n            && ((uy > multiSelectStartY && uy < mouseY) || (uy > mouseY && uy < multiSelectStartY)))\n            {\n                newSelecteState = true;\n            }\n            return newSelecteState;\n        }).map(user=>user.id);\n    }\n    multiSelecting = false;\n}\n\nfunction changeScale(mx:number, my:number, delta:number)\n{\n\n    let s1 = s.value;\n    let mx1 = mx / s1 - x.value;\n    let my1 = my / s1 - y.value;\n    s.value *= delta;\n    let s2 = s.value;\n    let mx2 = mx / s2 - x.value;\n    let my2 = my / s2 - y.value;\n    x.value += mx2 - mx1;\n    y.value += my2 - my1;\n}\n\nfunction onWheel(e:any)\n{\n    let delta = e.wheelDelta * 0.01;\n    if (delta < 0)\n    {\n        delta += 2.0;\n    }\n    if (delta < 0 || delta > 2.0) return;\n    changeScale(e.clientX, e.clientY, delta);\n}\n\nlet linesCanvas:any;\nlet linesCtx:any;\n\nconst idealDist = 150;\nconst delta = 1/60;\nconst stepLength = 100;\nconst d = delta * stepLength;\n\nfunction getForce(ax:number, ay:number, bx:number, by:number, repulsion:boolean, idealDistScale:number, strengthScale:number) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ls = dx * dx + dy * dy;\n    const l = Math.sqrt(ls);\n    const tl = idealDist * idealDistScale;\n    const s = 15 * strengthScale;\n    let f = s * (l - tl) / ls * d;\n    if (repulsion && l >= tl)\n    {\n        f = 0;\n    }\n    return {\n        x: dx * f,\n        y: dy * f\n    }\n}\n\nonMounted(()=>{\n    linesCanvas = document.getElementById('lines');\n    linesCtx = linesCanvas.getContext(\"2d\");\n    setInterval(physicsProcess,delta*1000);\n    subscribe(\"createdUser\", (id:number)=>{\n        users.value.push({\n            id,\n            x: (id % 2) * 100,\n            y: Math.floor(id / 2) * 100,\n            dx: 0,\n            dy: 0,\n            vx: 0,\n            vy: 0,\n            va: 0,\n            a: 0,\n            radius: 40\n        });\n    });\n    subscribe(\"removedUser\", ()=>{\n        users.value.pop();\n    });\n    subscribe(\"tryGetBroadcastCollectedMessageTargets\", ()=>{\n        if (appState.value == undefined) return;\n        emit('getBroadcastCollectedMessageTargets',appState.value.selectedUsers);\n        appState.value.selectedUsers = [];\n        appState.value.focusedUser = -1;\n    });\n    window.addEventListener('keydown', (e)=>{\n        if(e.key=='a')\n        {\n            x.value += 30;\n            e.preventDefault();\n        }\n        else if(e.key=='d')\n        {\n            x.value -= 30;\n            e.preventDefault();\n        }\n        else if(e.key=='w')\n        {\n            y.value += 30;\n            e.preventDefault();\n        }\n        else if(e.key=='s')\n        {\n            y.value -= 30;\n            e.preventDefault();\n        }\n        else if(e.key=='q')\n        {\n            changeScale(window.innerWidth*0.5,window.innerHeight*0.5,0.9);\n            e.preventDefault();\n        }\n        else if(e.key=='e')\n        {\n            changeScale(window.innerWidth*0.5,window.innerHeight*0.5,1.1);\n            e.preventDefault();\n        }\n    })\n});\n\nfunction physicsProcess()\n{\n    redraw();\n    for (let i = 0; i < users.value.length; i++) {\n        const a = users.value[i];\n        a.radius = 40 + 10 * rGet(a.id, a.id);\n        if (isNaN(a.radius)) a.radius = 40;\n        if (a.radius > 50) a.radius = 50;\n        if (a.radius < 30) a.radius = 30;\n        if (progress.userType[a.id]==0)\n        {\n            const userInstability = instability(i,false);\n            if (!isNaN(userInstability))\n            {\n                a.dx = userInstability*Math.random()*2;\n                a.dy = userInstability*Math.random()*2;\n                if (a.dx > 10)\n                {\n                    a.dx = 10;\n                }\n                else if (a.dx < 0)\n                {\n                    a.dx = 0;\n                }\n                if (a.dy > 10)\n                {\n                    a.dy = 10;\n                }\n                else if (a.dy < 0)\n                {\n                    a.dy = 0;\n                }\n            }\n            else\n            {\n                a.dx = Math.random() * 10;\n                a.dy = Math.random() * 10;\n            }\n        }\n        for (let j = i + 1; j < users.value.length; j++) {\n            const b = users.value[j];\n            const repulsion = getRepulsion(i,j);\n            let f = getForce(a.x, a.y, b.x, b.y, repulsion, repulsion?1:0.5, repulsion?0.5:0.5);\n            a.vx += f.x;\n            a.vy += f.y;\n            b.vx -= f.x;\n            b.vy -= f.y;\n        }\n    }\n    Object.values(users.value).forEach(user=>\n    {\n        user.vx *= 1 - (0.2 * d);\n        user.vy *= 1 - (0.2 * d);\n        // user.vx -= user.x * 0.01 * d;\n        // user.vy -= user.y * 0.01 * d;\n        user.va -= user.vx * 0.05 * d;\n        user.a += user.va * d;\n        user.va *= 1-0.5*d;\n        if (Math.abs(user.a) > 5)\n        {\n            user.a *= 1-0.1*d;\n        }\n        if (draggingUser == user.id) return;\n        user.x += user.vx * d;\n        user.y += user.vy * d;\n    }\n    )\n}\n\nfunction redraw()\n{\n    if (appState.value==undefined) return;\n    linesCanvas.width = window.innerWidth;\n    linesCanvas.height = window.innerHeight;\n    for (let fromId=0;fromId<progress.userCount;fromId++)\n    {\n        if(!userAvaliable(fromId)) continue;\n        const from = users.value[fromId];\n        if (from==undefined) continue;\n        for (let toId=fromId+1;toId<progress.userCount;toId++){\n            if(!userAvaliable(toId)) continue;\n            const to = users.value[toId];\n            const rFT = rGet(fromId, toId);\n            const rTF = rGet(fromId, toId);\n            const opacity = (progress.userLife[fromId]<0?1:Math.min(progress.userLife[fromId],1)) * (progress.userLife[toId]<0?1:Math.min(progress.userLife[toId],1));\n            let aFT = Math.abs(rFT);\n            if (aFT > 1) aFT = 1;\n            if (aFT < 0) aFT = 0;\n            if (aFT > 0.5) {aFT = 1} else {aFT=0}\n            aFT *= opacity;\n            const minColorValue = '22';\n            const styleFT = `#${(rFT<0)?'ff':'00'}${minColorValue}${(rFT>=0)?'ff':'00'}${Math.floor(aFT*255).toString(16).padStart(2,'0')}`;\n            let aTF = Math.abs(rTF);\n            if (aTF > 1) aTF = 1;\n            if (aTF < 0) aTF = 0;\n            if (aTF > 0.5) {aTF = 1} else {aTF=0}\n            aTF *= opacity;\n            const styleTF = `#${(rTF<0)?'ff':'00'}${minColorValue}${(rTF>=0)?'ff':'00'}${Math.floor(aTF*255).toString(16).padStart(2,'0')}`;\n            const x1 = (from.x+x.value)*s.value;\n            const y1 = (from.y+y.value)*s.value;\n            const x2 = (to.x+x.value)*s.value;\n            const y2 = (to.y+y.value)*s.value;\n            const grd=linesCtx.createLinearGradient(x1, y1, x2, y2);\n            grd.addColorStop(0,styleFT);\n            grd.addColorStop(1,styleTF);\n            linesCtx.strokeStyle = grd;\n            linesCtx.beginPath();\n            linesCtx.setLineDash([10, 3]);\n            linesCtx.moveTo(x1, y1);\n            linesCtx.lineTo(x2, y2);\n            linesCtx.stroke();\n        }\n    }\n    // for(let i=0;i<progress.userCount;i++)\n    // {\n    //     for(let j=i+1;j<progress.userCount;j++)\n    //     {\n    //         const from = state.value.users[i];\n    //         const to = state.value.users[j];\n    //         const repulsion = getRepulsion(i,j);\n    //         const style = `#00ff00${(!repulsion)?'ff':'00'}`;\n    //         linesCtx.strokeStyle = style;\n    //         linesCtx.beginPath();\n    //         linesCtx.moveTo((from.x+x.value)*s.value, (from.y+y.value)*s.value);\n    //         linesCtx.lineTo((to.x+x.value)*s.value, (to.y+y.value)*s.value);\n    //         linesCtx.stroke();\n    //     }\n    // }\n    const w = mouseX-multiSelectStartX;\n    const h = mouseY-multiSelectStartY;\n    if (multiSelecting && Math.abs(w) > 10 && Math.abs(h) > 10)\n    {\n        linesCtx.rect(multiSelectStartX, multiSelectStartY, w, h);\n        linesCtx.fillStyle = '#00000033';\n        linesCtx.fill();\n    }\n}\nlet draggingUser = -1;\nfunction pointerMoved(ex:number, ey:number)\n{\n    if (draggingUser != -1)\n    {\n        const user = users.value[draggingUser];\n        user.x += ex / s.value;\n        user.y += ey / s.value;\n    }\n}\n</script>\n\n<style scoped>\n.canvas\n{\n    position: absolute;\n    width: 100dvw;\n    height: 100dvh;\n    scroll-behavior:unset;\n    background-image:\n        linear-gradient(to right, #eeeeee, 1px, transparent 1px),\n        linear-gradient(to bottom, #eeeeee, 1px, transparent 1px);\n}\n.canvas-bg2\n{\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background-image:\n        linear-gradient(to right, gainsboro 1px, transparent 1px),\n        linear-gradient(to bottom, gainsboro 1px, transparent 1px);\n}\n.mouse-input-handler\n{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n</style>","import { useModel as _useModel, defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, isRef as _isRef, createBlock as _createBlock } from \"vue\"\n\nimport { getRepulsion, instability, progress, rGet, userAvaliable } from '../game'\nimport { onMounted, Ref, ref } from 'vue'\nimport CanvasUser from './CanvasUser.vue'\nimport { emit, subscribe } from '../event'\nimport { AppState } from '@/App.vue';\nexport interface User {\n    id: number;\n    x: number;\n    y: number;\n    dx: number;\n    dy: number;\n    vx: number;\n    vy: number;\n    va: number;\n    a: number;\n    radius: number;\n}\nconst idealDist = 150;\nconst delta = 1/60;\nconst stepLength = 100;\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'GameCanvas',\n  props: {\n    \"modelValue\": {},\n    \"modelModifiers\": {},\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props) {\n\nfunction calcX(user:User)\n{\n    return (x.value + user.x) * s.value - user.radius*0.5 + user.dx;\n}\nfunction calcY(user:User)\n{\n    return (y.value + user.y) * s.value - user.radius*0.5 + user.dy;\n}\nfunction isUserInWindow(user:User)\n{\n    const scrX = calcX(user);\n    const scrY = calcY(user);\n    return scrX > -100 && scrX < window.innerWidth + 100 && scrY > -100 && scrY < window.innerHeight + 100;\n}\nconst users:Ref<Array<User>> = ref([]);\n\nsubscribe('resetProgress',()=>{\n    users.value = [];\n})\n\nconst appState = _useModel<AppState>(__props, \"modelValue\");\n\nconst x = ref(window.innerWidth*0.5);\nconst y = ref(window.innerHeight*0.5);\nconst s = ref(1);\nsubscribe('userPressed', (id)=>\n{\n    // if (appState.value?.mode == 'user-edit') return;\n    if (appState.value == undefined) return;\n    if (progress.userType[id]!=0) return;\n    let selectedUsers = appState.value.selectedUsers;\n    if (appState.value?.mode == 'select-relationship')\n    {\n        if (selectedUsers.includes(id))\n        {\n            if (appState.value.focusedUser != id)\n            {\n                appState.value.focusedUser = id;\n            }\n            else\n            {\n                appState.value.selectedUsers = selectedUsers.filter(i=>i!=id);\n                appState.value.focusedUser = -1;\n            }\n        }\n        else{\n            appState.value.focusedUser = id;\n            selectedUsers.push(id);\n            if (selectedUsers.length==2)\n            {\n                const i=selectedUsers[0];\n                const j=selectedUsers[1];\n                if(appState.value.focusedUser==i)\n                {\n                    emit('relationSelected',i,j);\n                }\n                else\n                {\n                    emit('relationSelected',j,i);\n                }\n                appState.value.focusedUser = -1;\n                appState.value.selectedUsers = [];\n            }\n        }\n    }\n    else\n    {\n        if (selectedUsers.includes(id))\n        {\n            appState.value.selectedUsers = selectedUsers.filter(i=>i!=id);\n        }\n        else\n        {\n            appState.value.selectedUsers.push(id);\n        }\n    }\n})\n\nlet multiSelecting = false;\nlet multiSelectStartX = 0;\nlet multiSelectStartY = 0;\nlet mouseX = 0;\nlet mouseY = 0;\nlet touchStartX = 0;\nlet touchStartY = 0;\nlet touchStartCanvasX = 0;\nlet touchStartCanvasY = 0;\nlet touchesDistance = -1;\n\nfunction onTouchStart(e: TouchEvent)\n{\n    e.preventDefault();\n    if (e.touches.length == 1)\n    {\n        const touch = e.touches[0];\n        touchStartX = touch.clientX;\n        touchStartY = touch.clientY;\n        touchStartCanvasX = x.value;\n        touchStartCanvasY = y.value;\n    }\n}\n\nfunction onTouchEnd(e: TouchEvent)\n{\n    draggingUser = -1;\n    e.preventDefault();\n    if (e.touches.length == 0)\n    {\n        touchesDistance = -1;\n    }\n}\n\nfunction onTouchMove(e: TouchEvent)\n{\n    e.preventDefault();\n    if (e.touches.length == 1 && touchesDistance == -1)\n    {\n        const touch = e.touches[0];\n        mouseX = touch.clientX;\n        mouseY = touch.clientY;\n        x.value = mouseX - touchStartX + touchStartCanvasX;\n        y.value = mouseY - touchStartY + touchStartCanvasY;\n    }\n    else if (e.touches.length == 2)\n    {\n        const x1 = e.touches[0].clientX;\n        const y1 = e.touches[0].clientY;\n        const x2 = e.touches[1].clientX;\n        const y2 = e.touches[1].clientY;\n        const d = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        if (touchesDistance>0)\n        {\n            let delta = (d - touchesDistance) * 0.01;\n            if (delta < -1)\n            {\n                delta = -1;\n            }\n            if (delta > 1)\n            {\n                delta = 1;\n            }\n            delta += 1;\n            // if (delta < 0)\n            // {\n            //     delta += 1;\n            // }\n            changeScale((x1+x2)/2, (y1+y2)/2, delta);\n        }\n        touchesDistance = d;\n    }\n}\n\nfunction onMousemove(e:any)\n{\n    if (e.buttons==4) {\n        x.value += e.movementX / s.value;\n        y.value += e.movementY / s.value;\n    }\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n    multiSelecting = appState.value?.mode==\"broadcast\" && e.buttons==1;\n}\n\nfunction onMousedown(e:any)\n{\n    if (e.buttons==1)\n    {\n        multiSelecting = appState.value?.mode==\"broadcast\";\n        multiSelectStartX=e.clientX;\n        multiSelectStartY=e.clientY;\n    }\n    bgDownButtons = e.buttons;\n}\n\nlet bgDownButtons = 0;\n\n\nfunction onMouseup(e:any)\n{\n    draggingUser = -1;\n    if (appState.value == undefined) return;\n    if (bgDownButtons == 1)\n    {\n        appState.value.selectedUsers = [];\n        appState.value.focusedUser = -1;\n    }\n    if (multiSelecting && Math.abs(mouseX - multiSelectStartX) > 10 && Math.abs(mouseY - multiSelectStartY) > 10)\n    {\n        appState.value.selectedUsers = users.value.filter(user=>\n        {\n            if (appState.value == undefined) return;\n            const ux = (user.x + x.value) * s.value;\n            const uy = (user.y + y.value) * s.value;\n            let newSelecteState = e.shiftKey?appState.value.selectedUsers.includes(user.id):false;\n            if (((ux > multiSelectStartX && ux < mouseX) || (ux > mouseX && ux < multiSelectStartX))\n            && ((uy > multiSelectStartY && uy < mouseY) || (uy > mouseY && uy < multiSelectStartY)))\n            {\n                newSelecteState = true;\n            }\n            return newSelecteState;\n        }).map(user=>user.id);\n    }\n    multiSelecting = false;\n}\n\nfunction changeScale(mx:number, my:number, delta:number)\n{\n\n    let s1 = s.value;\n    let mx1 = mx / s1 - x.value;\n    let my1 = my / s1 - y.value;\n    s.value *= delta;\n    let s2 = s.value;\n    let mx2 = mx / s2 - x.value;\n    let my2 = my / s2 - y.value;\n    x.value += mx2 - mx1;\n    y.value += my2 - my1;\n}\n\nfunction onWheel(e:any)\n{\n    let delta = e.wheelDelta * 0.01;\n    if (delta < 0)\n    {\n        delta += 2.0;\n    }\n    if (delta < 0 || delta > 2.0) return;\n    changeScale(e.clientX, e.clientY, delta);\n}\n\nlet linesCanvas:any;\nlet linesCtx:any;\n\nconst d = delta * stepLength;\n\nfunction getForce(ax:number, ay:number, bx:number, by:number, repulsion:boolean, idealDistScale:number, strengthScale:number) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ls = dx * dx + dy * dy;\n    const l = Math.sqrt(ls);\n    const tl = idealDist * idealDistScale;\n    const s = 15 * strengthScale;\n    let f = s * (l - tl) / ls * d;\n    if (repulsion && l >= tl)\n    {\n        f = 0;\n    }\n    return {\n        x: dx * f,\n        y: dy * f\n    }\n}\n\nonMounted(()=>{\n    linesCanvas = document.getElementById('lines');\n    linesCtx = linesCanvas.getContext(\"2d\");\n    setInterval(physicsProcess,delta*1000);\n    subscribe(\"createdUser\", (id:number)=>{\n        users.value.push({\n            id,\n            x: (id % 2) * 100,\n            y: Math.floor(id / 2) * 100,\n            dx: 0,\n            dy: 0,\n            vx: 0,\n            vy: 0,\n            va: 0,\n            a: 0,\n            radius: 40\n        });\n    });\n    subscribe(\"removedUser\", ()=>{\n        users.value.pop();\n    });\n    subscribe(\"tryGetBroadcastCollectedMessageTargets\", ()=>{\n        if (appState.value == undefined) return;\n        emit('getBroadcastCollectedMessageTargets',appState.value.selectedUsers);\n        appState.value.selectedUsers = [];\n        appState.value.focusedUser = -1;\n    });\n    window.addEventListener('keydown', (e)=>{\n        if(e.key=='a')\n        {\n            x.value += 30;\n            e.preventDefault();\n        }\n        else if(e.key=='d')\n        {\n            x.value -= 30;\n            e.preventDefault();\n        }\n        else if(e.key=='w')\n        {\n            y.value += 30;\n            e.preventDefault();\n        }\n        else if(e.key=='s')\n        {\n            y.value -= 30;\n            e.preventDefault();\n        }\n        else if(e.key=='q')\n        {\n            changeScale(window.innerWidth*0.5,window.innerHeight*0.5,0.9);\n            e.preventDefault();\n        }\n        else if(e.key=='e')\n        {\n            changeScale(window.innerWidth*0.5,window.innerHeight*0.5,1.1);\n            e.preventDefault();\n        }\n    })\n});\n\nfunction physicsProcess()\n{\n    redraw();\n    for (let i = 0; i < users.value.length; i++) {\n        const a = users.value[i];\n        a.radius = 40 + 10 * rGet(a.id, a.id);\n        if (isNaN(a.radius)) a.radius = 40;\n        if (a.radius > 50) a.radius = 50;\n        if (a.radius < 30) a.radius = 30;\n        if (progress.userType[a.id]==0)\n        {\n            const userInstability = instability(i,false);\n            if (!isNaN(userInstability))\n            {\n                a.dx = userInstability*Math.random()*2;\n                a.dy = userInstability*Math.random()*2;\n                if (a.dx > 10)\n                {\n                    a.dx = 10;\n                }\n                else if (a.dx < 0)\n                {\n                    a.dx = 0;\n                }\n                if (a.dy > 10)\n                {\n                    a.dy = 10;\n                }\n                else if (a.dy < 0)\n                {\n                    a.dy = 0;\n                }\n            }\n            else\n            {\n                a.dx = Math.random() * 10;\n                a.dy = Math.random() * 10;\n            }\n        }\n        for (let j = i + 1; j < users.value.length; j++) {\n            const b = users.value[j];\n            const repulsion = getRepulsion(i,j);\n            let f = getForce(a.x, a.y, b.x, b.y, repulsion, repulsion?1:0.5, repulsion?0.5:0.5);\n            a.vx += f.x;\n            a.vy += f.y;\n            b.vx -= f.x;\n            b.vy -= f.y;\n        }\n    }\n    Object.values(users.value).forEach(user=>\n    {\n        user.vx *= 1 - (0.2 * d);\n        user.vy *= 1 - (0.2 * d);\n        // user.vx -= user.x * 0.01 * d;\n        // user.vy -= user.y * 0.01 * d;\n        user.va -= user.vx * 0.05 * d;\n        user.a += user.va * d;\n        user.va *= 1-0.5*d;\n        if (Math.abs(user.a) > 5)\n        {\n            user.a *= 1-0.1*d;\n        }\n        if (draggingUser == user.id) return;\n        user.x += user.vx * d;\n        user.y += user.vy * d;\n    }\n    )\n}\n\nfunction redraw()\n{\n    if (appState.value==undefined) return;\n    linesCanvas.width = window.innerWidth;\n    linesCanvas.height = window.innerHeight;\n    for (let fromId=0;fromId<progress.userCount;fromId++)\n    {\n        if(!userAvaliable(fromId)) continue;\n        const from = users.value[fromId];\n        if (from==undefined) continue;\n        for (let toId=fromId+1;toId<progress.userCount;toId++){\n            if(!userAvaliable(toId)) continue;\n            const to = users.value[toId];\n            const rFT = rGet(fromId, toId);\n            const rTF = rGet(fromId, toId);\n            const opacity = (progress.userLife[fromId]<0?1:Math.min(progress.userLife[fromId],1)) * (progress.userLife[toId]<0?1:Math.min(progress.userLife[toId],1));\n            let aFT = Math.abs(rFT);\n            if (aFT > 1) aFT = 1;\n            if (aFT < 0) aFT = 0;\n            if (aFT > 0.5) {aFT = 1} else {aFT=0}\n            aFT *= opacity;\n            const minColorValue = '22';\n            const styleFT = `#${(rFT<0)?'ff':'00'}${minColorValue}${(rFT>=0)?'ff':'00'}${Math.floor(aFT*255).toString(16).padStart(2,'0')}`;\n            let aTF = Math.abs(rTF);\n            if (aTF > 1) aTF = 1;\n            if (aTF < 0) aTF = 0;\n            if (aTF > 0.5) {aTF = 1} else {aTF=0}\n            aTF *= opacity;\n            const styleTF = `#${(rTF<0)?'ff':'00'}${minColorValue}${(rTF>=0)?'ff':'00'}${Math.floor(aTF*255).toString(16).padStart(2,'0')}`;\n            const x1 = (from.x+x.value)*s.value;\n            const y1 = (from.y+y.value)*s.value;\n            const x2 = (to.x+x.value)*s.value;\n            const y2 = (to.y+y.value)*s.value;\n            const grd=linesCtx.createLinearGradient(x1, y1, x2, y2);\n            grd.addColorStop(0,styleFT);\n            grd.addColorStop(1,styleTF);\n            linesCtx.strokeStyle = grd;\n            linesCtx.beginPath();\n            linesCtx.setLineDash([10, 3]);\n            linesCtx.moveTo(x1, y1);\n            linesCtx.lineTo(x2, y2);\n            linesCtx.stroke();\n        }\n    }\n    // for(let i=0;i<progress.userCount;i++)\n    // {\n    //     for(let j=i+1;j<progress.userCount;j++)\n    //     {\n    //         const from = state.value.users[i];\n    //         const to = state.value.users[j];\n    //         const repulsion = getRepulsion(i,j);\n    //         const style = `#00ff00${(!repulsion)?'ff':'00'}`;\n    //         linesCtx.strokeStyle = style;\n    //         linesCtx.beginPath();\n    //         linesCtx.moveTo((from.x+x.value)*s.value, (from.y+y.value)*s.value);\n    //         linesCtx.lineTo((to.x+x.value)*s.value, (to.y+y.value)*s.value);\n    //         linesCtx.stroke();\n    //     }\n    // }\n    const w = mouseX-multiSelectStartX;\n    const h = mouseY-multiSelectStartY;\n    if (multiSelecting && Math.abs(w) > 10 && Math.abs(h) > 10)\n    {\n        linesCtx.rect(multiSelectStartX, multiSelectStartY, w, h);\n        linesCtx.fillStyle = '#00000033';\n        linesCtx.fill();\n    }\n}\nlet draggingUser = -1;\nfunction pointerMoved(ex:number, ey:number)\n{\n    if (draggingUser != -1)\n    {\n        const user = users.value[draggingUser];\n        user.x += ex / s.value;\n        user.y += ey / s.value;\n    }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"canvas\",\n    style: _normalizeStyle({'background-size': 20*s.value+'px '+20*s.value+'px', 'background-position': x.value*s.value+'px '+y.value*s.value+'px'})\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"canvas-bg2\",\n      style: _normalizeStyle({'background-size': 80*s.value+'px '+80*s.value+'px', 'background-position': x.value*s.value+'px '+y.value*s.value+'px'})\n    }, null, 4),\n    _createElementVNode(\"div\", {\n      class: \"mouse-input-handler\",\n      onMousedown: onMousedown,\n      onMouseup: onMouseup,\n      onMousemove: onMousemove,\n      onTouchstart: onTouchStart,\n      onTouchmove: onTouchMove,\n      onTouchend: onTouchEnd,\n      onPointermove: _cache[0] || (_cache[0] = (e)=>pointerMoved(e.movementX,e.movementY)),\n      onWheel: onWheel\n    }, null, 32),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(users.value.filter(user=>_unref(userAvaliable)(user.id)&&isUserInWindow(user)), (user) => {\n      return (_openBlock(), _createBlock(CanvasUser, {\n        key: user.id,\n        onPointerdown: ($event: any) => (_isRef(draggingUser) //@ts-ignore\n ? draggingUser.value = user.id : draggingUser=user.id),\n        onMousemove: _cache[1] || (_cache[1] = (e)=>pointerMoved(e.movementX,e.movementY)),\n        onPointerup: _cache[2] || (_cache[2] = ($event: any) => (_isRef(draggingUser) //@ts-ignore\n ? draggingUser.value = -1 : draggingUser=-1)),\n        onTouchstart: _cache[3] || (_cache[3] = (e)=>{\n            const touch = e.touches[0];\n            _isRef(mouseX) //@ts-ignore\n ? mouseX.value = touch.clientX : mouseX = touch.clientX;\n            _isRef(mouseY) //@ts-ignore\n ? mouseY.value = touch.clientY : mouseY = touch.clientY;\n        }),\n        onTouchmove: _cache[4] || (_cache[4] = (e)=>{\n            const touch = e.touches[0];\n            const dx = touch.clientX-_unref(mouseX);\n            const dy = touch.clientY-_unref(mouseY);\n            pointerMoved(dx,dy);\n            _isRef(mouseX) //@ts-ignore\n ? mouseX.value = touch.clientX : mouseX=touch.clientX;\n            _isRef(mouseY) //@ts-ignore\n ? mouseY.value = touch.clientY : mouseY=touch.clientY;\n        }),\n        onTouchend: _cache[5] || (_cache[5] = ($event: any) => (_isRef(draggingUser) //@ts-ignore\n ? draggingUser.value = -1 : draggingUser=-1)),\n        user: user,\n        selected: appState.value?.selectedUsers.includes(user.id)??false,\n        focused: appState.value?.focusedUser==user.id,\n        style: _normalizeStyle({left: calcX(user) + 'px', top: calcY(user) + 'px',\n            'font-weight': appState.value?.selectedUsers.includes(user.id)?'600':'300',\n            'opacity': _unref(progress).userLife[user.id]<0?1:_unref(progress).userLife[user.id],\n            width:user.radius+'px', height:user.radius+'px', 'transform': `rotate(${user.a}deg)`})\n      }, null, 8, [\"onPointerdown\", \"user\", \"selected\", \"focused\", \"style\"]))\n    }), 128)),\n    _cache[6] || (_cache[6] = _createElementVNode(\"canvas\", { id: \"lines\" }, null, -1))\n  ], 4))\n}\n}\n\n})","import script from \"./GameCanvas.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GameCanvas.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GameCanvas.vue?vue&type=style&index=0&id=1b0640e6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b0640e6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"author\" }\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = { class: \"time\" }\n\nimport { Message } from '@/game';\nimport { onMounted, ref, watch } from 'vue';\nimport { NCard, NSkeleton, NEllipsis } from 'naive-ui';\nimport { getUserName, text } from '@/text';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'MessageCard',\n  props: {\n    msg: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\nlet content = ref(\"\");\nlet timestr = ref(\"\");\nconst intervalId = setInterval(()=>{\n    const messageText = text.messageTexts[props.msg.id];\n    if (typeof(messageText)!=\"undefined\" && messageText.content != '')\n    {\n        content.value = messageText.content;\n        // clearInterval(intervalId);\n    }\n}, 1);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NCard), {\n    class: \"message-card\",\n    \"content-class\": 'message-content',\n    \"header-style\": 'padding: 5px',\n    \"footer-style\": 'padding-bottom: 5px',\n    hoverable: \"\"\n  }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, \"@\" + _toDisplayString(_unref(getUserName)(__props.msg.a)), 1)\n    ]),\n    \"header-extra\": _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"header-extra\")\n    ]),\n    footer: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"action\")\n    ]),\n    default: _withCtx(() => [\n      (_unref(content)=='')\n        ? (_openBlock(), _createBlock(_unref(NSkeleton), {\n            key: 0,\n            text: \"\",\n            repeat: 2\n          }))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n            _createElementVNode(\"p\", _hoisted_3, [\n              _createVNode(_unref(NEllipsis), { \"line-clamp\": 2 }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_unref(content)), 1)\n                ]),\n                _: 1\n              })\n            ])\n          ])),\n      _renderSlot(_ctx.$slots, \"suffix\"),\n      _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_unref(timestr)), 1)\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","<template>\n<n-card class=\"message-card\" :content-class=\"'message-content'\" :header-style=\"'padding: 5px'\" :footer-style=\"'padding-bottom: 5px'\" hoverable>\n    <template #header>\n        <div class=\"author\">@{{ getUserName(msg.a) }}</div>\n    </template>\n    <template #header-extra>\n        <slot name=\"header-extra\"></slot>\n    </template>\n    <n-skeleton v-if=\"content==''\" text :repeat=\"2\"/>\n    <div v-else>\n        <p class=\"content\"><n-ellipsis :line-clamp=\"2\">{{ content }}</n-ellipsis></p>\n    </div>\n    <slot name=\"suffix\"></slot>\n     <div class=\"time\">{{ timestr }}</div>\n    <template #footer>\n        <slot name=\"action\"></slot>\n    </template>\n</n-card>\n</template>\n\n<script setup lang=\"ts\">\nimport { Message } from '@/game';\nimport { defineProps, onMounted, ref, watch } from 'vue';\nimport { NCard, NSkeleton, NEllipsis } from 'naive-ui';\nimport { getUserName, text } from '@/text';\n\nconst props = defineProps<{msg:Message}>();\nlet content = ref(\"\");\nlet timestr = ref(\"\");\nconst intervalId = setInterval(()=>{\n    const messageText = text.messageTexts[props.msg.id];\n    if (typeof(messageText)!=\"undefined\" && messageText.content != '')\n    {\n        content.value = messageText.content;\n        // clearInterval(intervalId);\n    }\n}, 1);\n</script>\n\n<style scoped>\n.message-card\n{\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 0;\n    margin-bottom: 20px;\n    padding: 10px;\n    border-radius: 20px;\n    border: 1px dashed lightgray;\n}\n.author\n{\n    font-weight: bold;\n    font-size: 16px;\n}\n.content\n{\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n}\n.time\n{\n    color: gray;\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n}\n.message-content\n{\n    padding: 0;\n}\n/* @media screen and (max-width:600px) {\n    .message-card\n    {\n        width: 200px;\n        margin-top: auto;\n        margin-bottom: 20px;\n        margin-left: 0;\n        margin-right: 20px;\n    }\n} */\n</style>","import script from \"./MessageCard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MessageCard.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MessageCard.vue?vue&type=style&index=0&id=1689678b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1689678b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createVNode as _createVNode, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"status-bar\" }\nconst _hoisted_2 = { class: \"time\" }\nconst _hoisted_3 = { class: \"status-icons\" }\nconst _hoisted_4 = { class: \"network-info\" }\nconst _hoisted_5 = { class: \"signal\" }\nconst _hoisted_6 = { class: \"battery-info\" }\n\nimport { NIcon } from 'naive-ui';\nimport { Wifi, BatteryFull } from '@vicons/carbon';\nimport { onMounted, ref } from 'vue';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'StatusBar',\n  setup(__props) {\n\nconst time = ref('');\nconst now = new Date();\nfunction updateTime()\n{\n  let hours = now.getHours().toString().padStart(2, '0'); // \n  let minutes = now.getMinutes().toString().padStart(2, '0'); // \n  time.value = `${hours}:${minutes}`;\n}\nupdateTime();\nonMounted(()=>{\n    setInterval(()=>{\n      updateTime();\n    },10000);\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(time.value), 1),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"div\", _hoisted_5, [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(4, (i) => {\n            return _createElementVNode(\"div\", {\n              key: i,\n              class: \"signal-bar\"\n            })\n          }), 64))\n        ]),\n        _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"network-type\" }, \"WIRED\", -1))\n      ]),\n      _createVNode(_unref(NIcon), { size: 20 }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Wifi))\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"battery-percent\" }, \"100%\", -1)),\n        _createVNode(_unref(NIcon), { size: 24 }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(BatteryFull))\n          ]),\n          _: 1\n        })\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"status-bar\">\n    <div class=\"time\">{{ time }}</div>\n    <div class=\"status-icons\">\n      <!--  -->\n      <div class=\"network-info\">\n        <div class=\"signal\">\n          <div \n            v-for=\"i in 4\" \n            :key=\"i\" \n            class=\"signal-bar\"\n          ></div>\n        </div>\n        <span class=\"network-type\">WIRED</span>\n      </div>\n      \n      <!-- Wi-Fi -->\n      <n-icon :size=\"20\"><Wifi/></n-icon>\n      \n      <!--  -->\n      <div class=\"battery-info\">\n        <span class=\"battery-percent\">100%</span>\n        <n-icon :size=\"24\"><BatteryFull/></n-icon>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { NIcon } from 'naive-ui';\nimport { Wifi, BatteryFull } from '@vicons/carbon';\nimport { onMounted, ref } from 'vue';\nconst time = ref('');\nconst now = new Date();\nfunction updateTime()\n{\n  let hours = now.getHours().toString().padStart(2, '0'); // \n  let minutes = now.getMinutes().toString().padStart(2, '0'); // \n  time.value = `${hours}:${minutes}`;\n}\nupdateTime();\nonMounted(()=>{\n    setInterval(()=>{\n      updateTime();\n    },10000);\n})\n</script>\n\n<style scoped>\n.status-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 44px;\n  padding: 0 16px;\n  color: black;\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.time {\n  font-weight: 700;\n  font-size: 15px;\n}\n\n.status-icons {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.network-info {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.signal {\n  display: flex;\n  align-items: flex-end;\n  gap: 1px;\n  height: 12px;\n}\n\n.signal-bar {\n  width: 3px;\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 1px;\n  transition: background-color 0.2s;\n}\n\n.network-type {\n  font-size: 12px;\n  margin-left: 2px;\n}\n\n.wifi-icon {\n  position: relative;\n  width: 16px;\n  height: 12px;\n  opacity: 0.3;\n  transition: opacity 0.2s;\n}\n\n.wifi-icon.active {\n  opacity: 1;\n}\n\n.wifi-arc {\n  position: absolute;\n  border: 1.5px solid black;\n  border-top: none;\n  border-right: none;\n  border-radius: 0 0 0 100%;\n}\n\n.wifi-arc.outer {\n  width: 14px;\n  height: 14px;\n  bottom: 0;\n  left: 0;\n  transform: rotate(-45deg);\n}\n\n.wifi-arc.middle {\n  width: 10px;\n  height: 10px;\n  bottom: 2px;\n  left: 2px;\n  transform: rotate(-45deg);\n}\n\n.wifi-arc.inner {\n  width: 6px;\n  height: 6px;\n  bottom: 4px;\n  left: 4px;\n  transform: rotate(-45deg);\n}\n\n.wifi-dot {\n  position: absolute;\n  width: 2px;\n  height: 2px;\n  background-color: black;\n  border-radius: 50%;\n  bottom: 6px;\n  left: 6px;\n}\n\n.battery-info {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.battery-percent {\n  font-size: 12px;\n}\n\n.battery-container {\n  position: relative;\n  width: 22px;\n  height: 12px;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n\n.battery-level {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  height: 8px;\n  background-color: black;\n  border-radius: 1px;\n  transition: width 0.3s;\n}\n\n.battery-tip {\n  position: absolute;\n  top: 3px;\n  right: -2px;\n  width: 1px;\n  height: 4px;\n  background-color: black;\n  border-radius: 0 1px 1px 0;\n}\n\n.charging-icon {\n  font-size: 12px;\n  margin-left: 2px;\n}\n\n/*  */\n.status-bar.charging .battery-level {\n  background-color: #4cd964; /* iOS  */\n}\n</style>","import script from \"./StatusBar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./StatusBar.vue?vue&type=style&index=0&id=2e8e4f5a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e8e4f5a\"]])\n\nexport default __exports__","import { emit, subscribe } from \"./event\"\n\nexport interface Mission {\n    maxProgress: number,\n    reward:()=>void,\n    title:string,\n    desc:string\n}\n\nexport const missions:Record<string,Mission> = {\n    'start1': {\n        maxProgress: 1,\n        reward:()=>{\n            emit('addMission', 'start2');\n        },\n        title: \"\",\n        desc: \"\"\n    },\n    'start2': {\n        maxProgress: 20,\n        reward:()=>{\n            emit('addMission', 'start3');\n        },\n        title: \"\",\n        desc: \"20\"\n    },\n    'start3': {\n        maxProgress: 1,\n        reward:()=>{\n            emit('addStoreItem', {\n                name:'',\n                desc:'',\n                effectdesc:'',\n                cost:0,\n                effect: 'start',\n                count:1\n            });\n            emit('addMission', 'start4');\n        },\n        title: \"\",\n        desc: \"\"\n    },\n    'start4': {\n        maxProgress: 1,\n        reward:()=>{\n            \n        },\n        title: \"\",\n        desc: \"\"\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent } from \"vue\"\n\nconst _hoisted_1 = { class: \"app\" }\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = {\n  class: \"pageside\",\n  style: {\"top\":\"0\",\"left\":\"0\",\"right\":\"0\"}\n}\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { key: 1 }\nconst _hoisted_7 = { class: \"buttons\" }\nconst _hoisted_8 = {\n  class: \"pageside\",\n  style: {\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"background\":\"white\",\"color\":\"black\",\"margin\":\"0\",\"box-shadow\":\"0 0 3px rgba(1,1,1,0.3)\",\"padding\":\"0.5em\"}\n}\nconst _hoisted_9 = {\n  class: \"buttons\",\n  style: {\"margin-top\":\"auto\"}\n}\nconst _hoisted_10 = { style: {\"margin\":\"auto\"} }\nconst _hoisted_11 = { key: 0 }\nconst _hoisted_12 = { key: 1 }\n\nimport { nextTick, onMounted, Ref, ref, watch } from 'vue';\nimport GameCanvas from './components/GameCanvas.vue';\nimport MessageCard from './components/MessageCard.vue';\nimport { createUser, Message, progress, rSet, updateUsers, resetProgress, loadProgress, pushMsgToUser, rGet, createMessage, score, time, saveProgress, hasRelationship } from './game';\nimport { emit, subscribe } from './event';\nimport { NPageHeader, NTag, NSpace, NDrawer, NDrawerContent, NButton, NModal, NIcon, NRow, NCol, NNumberAnimation, NStatistic, useMessage, NFlex, NCard, NDivider, NThing, NProgress, NConfigProvider, darkTheme } from 'naive-ui';\nimport { getUserName, loadText, processGenerateQueue, resetText, text } from './text';\nimport { startGenerateMessage } from './text';\nimport { View, ThumbsUp, AnalyticsReference, AiResultsHigh, Time, Network1 } from '@vicons/carbon'\nimport StatusBar from './components/StatusBar.vue';\nimport { missions } from './mission';\n\nconst searchCost = 10;\n\nexport interface AppState {\n    mode: \"select-relationship\" | \"broadcast\";\n    editingRelationship: {i:number,j:number};\n    paused: boolean;\n    selectedUsers: Array<number>;\n    focusedUser: number;\n    collectedCost: Record<string, number>;\n    missionProgress: Record<string, number>;\n    missionCount: number;\n}\n\ninterface MessageStatistic {views:number,likes:number,score:number,responses:Record<number,string>}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst naiveMessage = useMessage();\n\nconst showHelp = ref(localStorage.getItem(\"help\")==null);\nconst showStore = ref(false);\n\nfunction load()\n{\n    loadProgress();\n    loadText();\n    const appstateSource = localStorage.getItem('appstate');\n    if (appstateSource != null)\n    {\n        appState.value = JSON.parse(appstateSource);\n    }\n    naiveMessage.success(\"\");\n    const storeSource = localStorage.getItem('store');\n    if (storeSource != null)\n    {\n        store = JSON.parse(storeSource);\n    }\n}\n\nfunction save()\n{\n    localStorage.setItem('appstate', JSON.stringify(appState.value))\n    saveProgress();\n    localStorage.setItem('text', JSON.stringify(text));\n    naiveMessage.success(\"\");\n    localStorage.setItem('store',JSON.stringify(store));\n}\n\nonMounted(()=>{\n    localStorage.setItem(\"help\",\"\");\n    window.addEventListener('keydown', (e)=>{\n        if(e.key==' ')\n        {\n            appState.value.paused = !appState.value.paused;\n            emit('missionProceed','start3',1);\n            naiveMessage.info(appState.value.paused?\"\":\"\");\n            e.preventDefault();\n        }\n    })\n    gameInit();\n    const delta = 10;\n    setInterval(()=>{\n        if (appState.value.paused||showStatistic.value) return;\n        gameProcess(delta/1000);\n    },delta);\n    window.setScore = (newScore)=>{\n        score.value = newScore;\n    }\n    subscribe('missionProceed', (mission, progress)=>{\n        if (appState.value.missionProgress[mission]==-1) return;\n        if (mission in appState.value.missionProgress && appState.value.missionProgress[mission]>=0)\n        {\n            appState.value.missionProgress[mission] += progress;\n        }\n    });\n    subscribe('addMission', (mission)=>{\n        if (!(mission in appState.value.missionProgress))\n        {\n            appState.value.missionProgress[mission] = 0;\n            appState.value.missionCount += 1;\n        }\n    });\n    subscribe('addStoreItem', (storeItem)=>{\n        store.push(storeItem);\n    });\n    subscribe('addScore', (score)=>{\n\n    })\n});\n\nconst appState:Ref<AppState> = ref({\n    mode:'select-relationship',\n    editingRelationship:{i:-1,j:-1},\n    paused:true,\n    selectedUsers: [],\n    focusedUser: -1,\n    collectedCost: {},\n    missionProgress: {'start1':0},\n    missionCount: 1\n});\n\nconst collectedMessage: Ref<Message|undefined> = ref(undefined);\n\nconst showEditorDrawer = ref(false);\nconst showStatistic = ref(false);\n\nfunction createDefaultMessageStatistic()\n{\n    return {views:0,likes:0,score:0,responses:{}};\n}\nlet collectedMessageStatistic:Ref<MessageStatistic> = ref(createDefaultMessageStatistic());\nsubscribe('relationSelected', (i,j)=>\n{\n    if (appState.value.mode==\"select-relationship\")\n    {\n        showEditorDrawer.value = true;\n        collectedMessage.value = undefined;\n        appState.value.editingRelationship = {i,j};\n        emit('missionProceed','start1',1);\n        if (appState.value.missionProgress['start1']==1)\n        {\n            showEditorDrawer.value = false;\n        }\n    }\n});\nfunction collectMessage(i:number,j:number,v:number)\n{\n    collectedMessage.value = undefined;\n    collectedMessage.value=createMessage(i,i,j,v)\n    score.value -= searchCost*getCollectedMessageCost(i,j)\n}\nfunction getCollectedMessageCost(i:number,j:number):number\n{\n    const k = `${Math.min(i,j)}_${Math.max(i,j)}`;\n    if (!(k in appState.value.collectedCost)) return 1;\n    return appState.value.collectedCost[k];\n}\nwatch(score,(newScore)=>{\n    if (newScore <= searchCost)\n    {\n        gameEnded.value = true;\n    }\n})\n\nconst timedEvents:Record<number,()=>string> = {\n    10: ()=>{\n        createUser(1,'','',true,5);\n        return 'TGB';\n    }\n}\n\nconst storeItemEffects: Record<string, ()=>void> = {\n    'start': ()=>{\n        for (let g=0;g<3;g++)\n        {\n            randomCreateTopic();\n        }\n        emit('missionProceed','start4',1)\n        naiveMessage.warning(\"\");\n    },\n    'add-user': ()=>{\n        randomCreateUser();\n    },\n    'add-topic': ()=>{\n        randomCreateTopic();\n    },\n    'argue': ()=>{\n        for(let i=0;i<progress.userCount;i++)\n        {\n            if(progress.userType[i]!=0) continue;\n            for(let j=0;j<progress.userCount;j++)\n            {\n                if(progress.userType[i]!=1) continue;\n                if (Math.random()<0.25)\n                {\n                    rSet(i,j,-rGet(i,j));\n                }\n            }\n        }\n    }\n}\n\nlet store:Array<{cost:number,name:string,desc:string,effectdesc:string,effect:string,count:number}> = [\n    {\n        name:'',\n        desc:'',\n        effectdesc:'2-5',\n        cost:200,\n        effect: 'add-topic',\n        count:-1\n    },\n    {\n        name:'',\n        desc:'',\n        effectdesc:'1',\n        cost:50,\n        effect: 'add-user',\n        count:-1\n    },\n    {\n        name:'',\n        desc:'',\n        effectdesc:'25%',\n        cost:100,\n        effect: 'argue',\n        count:-1\n    }\n]\n\nfunction gameProcess(delta:number)\n{\n    const lastTime = Math.floor(time.value);\n    time.value += delta;\n    if (Math.floor(time.value)-lastTime>0)\n    {\n        score.value -= 1;\n        for(let eTime in timedEvents)\n        {\n            if (eTime == time.value.toFixed())\n            {\n                naiveMessage.warning(timedEvents[eTime]());\n            }\n        }\n    }\n    updateUsers(delta);\n}\n// function startBroadcastCollectedMessage()\n// {\n//     appState.value.mode = 'broadcast';\n//     appState.value.paused = true;\n//     showEditorDrawer.value = false;\n// }\n// function endBroadcastCollectedMessage()\n// {\n//     emit('tryGetBroadcastCollectedMessageTargets');\n// }\n// function exitBroadcastCollectedMessage()\n// {\n//     appState.value.mode = 'select-relationship';\n// }\n// subscribe('getBroadcastCollectedMessageTargets', (targets:Array<number>)=>\n// {\n\n// })\nfunction broadcastCollectedMessage()\n{\n    showEditorDrawer.value = false;\n    if (collectedMessage.value == undefined) return;\n    collectedMessageStatistic.value={views:0,likes:0,score:0,responses:{}};\n    for (let user=0;user<progress.userCount;user++)\n    {\n        if (progress.userType[user]!=0) continue;\n        pushMsgToUser(collectedMessage.value,user);\n    }\n    rSet(collectedMessage.value.i,collectedMessage.value.j,collectedMessage.value.v);\n    showStatistic.value = true;\n    appState.value.paused = true;\n    appState.value.mode = 'select-relationship';\n    const i = collectedMessage.value.i;\n    const j = collectedMessage.value.j;\n    const k = `${Math.min(i,j)}_${Math.max(i,j)}`;\n    if (!(k in appState.value.collectedCost))\n    {\n        appState.value.collectedCost[k] = 1;\n    }\n    appState.value.collectedCost[k] += 1;\n\n}\nsubscribe('addedMessage', (msg:Message)=>startGenerateMessage(msg));\nsetInterval(() => {\n    processGenerateQueue();\n}, 100);\nsetInterval(() => {\n    windowWidth.value = window.innerWidth;\n}, 1);\nconst windowWidth = ref(0);\nsubscribe('viewedMessage',(view)=>{\n    collectedMessageStatistic.value.views += view;\n});\nsubscribe('likedMessage',(like)=>{\n    collectedMessageStatistic.value.likes += like;\n});\nsubscribe('messageGainedScore',(msgscore)=>{\n    collectedMessageStatistic.value.score += msgscore;\n    score.value += msgscore;\n    emit('missionProceed', 'start2', msgscore);\n});\nsubscribe('messageResponsed',(author,response)=>{\n    collectedMessageStatistic.value.responses[author]=response;\n});\nconst gameEnded = ref(false);\nsubscribe('resetProgress', ()=>{\n    appState.value={\n        mode:'select-relationship',\n        editingRelationship:{i:0,j:0},\n        paused:true,\n        selectedUsers: [],\n        focusedUser: -1,\n        collectedCost: {},\n        missionProgress: {'start1':0},\n        missionCount: 1,\n    };\n    collectedMessageStatistic.value=createDefaultMessageStatistic();\n    showStore.value = false;\n    resetText();\n});\nfunction gameInit()\n{\n    createUser(0);\n    createUser(0);\n    createUser(0);\n    rSet(0,1,1);\n    rSet(0,2,1);\n    rSet(1,2,1);\n}\nfunction randomCreateUser()\n{\n    createUser(0);\n    let userId = progress.userCount-1;\n    rSet(userId,Math.floor(userId*Math.random()),1);\n    rSet(userId, userId, 0);\n}\nfunction randomCreateTopic()\n{\n    createUser(1);\n    const s = progress.userCount;\n    const size = 2+Math.ceil(Math.random()*3);\n    for(let i=0;i<size;i++)\n    {\n        createUser(0);\n        for (let j=0;j<s-1;j++)\n        {\n            if (progress.userType[j]==1)\n            {\n                rSet(s+i,j,(Math.floor(Math.random()*3)-1)*0.2);\n            }\n        }\n        rSet(s+i,s-1,1);\n    }\n    for(let i=0;i<size;i++)\n    {\n        for(let j=0;j<size;j++)\n        {\n            rSet(s+i,s+j,Math.floor(Math.random()*3)-1);\n        }\n    }\n    for (let i=0;i<size;i++)\n    {\n        rSet(s+i,s+i,0);\n    }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_center = _resolveComponent(\"center\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(GameCanvas, {\n      modelValue: appState.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((appState).value = $event)),\n      ref: \"canvas\"\n    }, null, 8, [\"modelValue\"]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(appState.value.paused?'vintage vintage-paused':'vintage')\n    }, null, 2),\n    _createVNode(_unref(NModal), {\n      show: showStatistic.value,\n      \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => ((showStatistic).value = $event)),\n      preset: \"card\",\n      style: {\"max-width\":\"375px\",\"min-height\":\"667px\"},\n      size: \"huge\",\n      bordered: false,\n      onUpdateShow: _cache[3] || (_cache[3] = (show)=>{if(!show){}}),\n      closable: false,\n      \"header-style\": {padding:0},\n      \"content-style\": {display:'flex'}\n    }, {\n      header: _withCtx(() => [\n        _createVNode(StatusBar)\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_unref(NSpace), {\n          vertical: \"\",\n          justify: \"space-between\",\n          style: {\"width\":\"100%\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NPageHeader), {\n              subtitle: \"\",\n              onBack: _cache[1] || (_cache[1] = ($event: any) => (showStatistic.value=false))\n            }),\n            (collectedMessage.value!=undefined)\n              ? (_openBlock(), _createBlock(MessageCard, {\n                  key: 0,\n                  msg: collectedMessage.value\n                }, {\n                  suffix: _withCtx(() => [\n                    _createVNode(_unref(NSpace), { style: {\"margin\":\"0\"} }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(collectedMessageStatistic).responses, (response, author) => {\n                          return (_openBlock(), _createBlock(_unref(NTag), {\n                            key: author,\n                            round: \"\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(_unref(getUserName)(author)) + \" \" + _toDisplayString(response), 1)\n                            ]),\n                            _: 2\n                          }, 1024))\n                        }), 128))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"msg\"]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_unref(NRow), null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NCol), { span: 12 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NStatistic), {\n                      label: \"\",\n                      value: (_unref(collectedMessageStatistic).views*1000).toFixed()\n                    }, {\n                      prefix: _withCtx(() => [\n                        _createVNode(_unref(NIcon), null, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(View))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCol), { span: 12 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NStatistic), {\n                      label: \"\",\n                      value: (_unref(collectedMessageStatistic).likes*Math.max(Math.random(),0.5)*1000).toFixed()\n                    }, {\n                      prefix: _withCtx(() => [\n                        _createVNode(_unref(NIcon), null, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(ThumbsUp))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCol), { span: 24 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NStatistic), {\n                      label: \"\",\n                      value: _unref(collectedMessageStatistic).score.toFixed()\n                    }, {\n                      prefix: _withCtx(() => [\n                        _createVNode(_unref(NIcon), null, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(Network1))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"value\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createVNode(_unref(NDrawer), {\n      to: \"#app\",\n      show: showEditorDrawer.value,\n      \"onUpdate:show\": _cache[8] || (_cache[8] = ($event: any) => ((showEditorDrawer).value = $event)),\n      width: windowWidth.value>500?500:windowWidth.value\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NDrawerContent), { \"native-scrollbar\": false }, {\n          header: _withCtx(() => [\n            _createVNode(_unref(NPageHeader), {\n              subtitle: \"\",\n              onBack: _cache[4] || (_cache[4] = ($event: any) => (showEditorDrawer.value=false))\n            }),\n            _createElementVNode(\"h1\", null, _toDisplayString(_unref(getUserName)(appState.value.editingRelationship.i)) + \"\" + _toDisplayString(_unref(getUserName)(appState.value.editingRelationship.j)), 1)\n          ]),\n          default: _withCtx(() => [\n            (_unref(hasRelationship)(appState.value.editingRelationship.i,appState.value.editingRelationship.j))\n              ? (_openBlock(), _createBlock(_unref(NFlex), {\n                  key: 0,\n                  vertical: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    (collectedMessage.value==undefined)\n                      ? (_openBlock(), _createBlock(_unref(NButton), {\n                          key: 0,\n                          onClick: _cache[5] || (_cache[5] = ($event: any) => (collectMessage(appState.value.editingRelationship.i,appState.value.editingRelationship.j,1)))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\"(-\" + _toDisplayString(searchCost*getCollectedMessageCost(appState.value.editingRelationship.i,appState.value.editingRelationship.j)), 1),\n                            _createVNode(_unref(NIcon), null, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(Network1)),\n                                _cache[16] || (_cache[16] = _createTextVNode(\")\", -1))\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (collectedMessage.value==undefined)\n                      ? (_openBlock(), _createBlock(_unref(NButton), {\n                          key: 1,\n                          onClick: _cache[6] || (_cache[6] = ($event: any) => (collectMessage(appState.value.editingRelationship.i,appState.value.editingRelationship.j,-1)))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\"(-\" + _toDisplayString(searchCost*getCollectedMessageCost(appState.value.editingRelationship.i,appState.value.editingRelationship.j)), 1),\n                            _createVNode(_unref(NIcon), null, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(Network1)),\n                                _cache[17] || (_cache[17] = _createTextVNode(\")\", -1))\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (collectedMessage.value!=undefined)\n                      ? (_openBlock(), _createBlock(_unref(NButton), {\n                          key: 2,\n                          onClick: broadcastCollectedMessage,\n                          type: 'primary'\n                        }, {\n                          default: _withCtx(() => [...(_cache[18] || (_cache[18] = [\n                            _createTextVNode(\"\", -1)\n                          ]))]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (collectedMessage.value!=undefined)\n                      ? (_openBlock(), _createBlock(_unref(NButton), {\n                          key: 3,\n                          onClick: _cache[7] || (_cache[7] = ($event: any) => (collectedMessage.value=undefined)),\n                          type: 'primary'\n                        }, {\n                          default: _withCtx(() => [...(_cache[19] || (_cache[19] = [\n                            _createTextVNode(\"\", -1)\n                          ]))]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (collectedMessage.value!=undefined)\n                      ? (_openBlock(), _createBlock(MessageCard, {\n                          key: 4,\n                          msg: collectedMessage.value\n                        }, {\n                          action: _withCtx(() => [...(_cache[20] || (_cache[20] = []))]),\n                          _: 1\n                        }, 8, [\"msg\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"  \"))\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\", \"width\"]),\n    _createVNode(_unref(NModal), {\n      show: gameEnded.value,\n      \"onUpdate:show\": _cache[10] || (_cache[10] = ($event: any) => ((gameEnded).value = $event)),\n      preset: \"card\",\n      style: {\"width\":\"500px\"},\n      title: ``,\n      size: \"huge\",\n      bordered: false,\n      \"mask-closable\": false\n    }, {\n      action: _withCtx(() => [\n        _createVNode(_component_center, null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NButton), {\n              onClick: _cache[9] || (_cache[9] = ($event: any) => {gameEnded.value=false;_unref(resetProgress)();gameInit();})\n            }, {\n              default: _withCtx(() => [...(_cache[24] || (_cache[24] = [\n                _createTextVNode(\"\", -1)\n              ]))]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"h3\", null, [\n          _cache[21] || (_cache[21] = _createTextVNode(\"\", -1)),\n          _createVNode(_unref(NIcon), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Network1))\n            ]),\n            _: 1\n          }),\n          _cache[22] || (_cache[22] = _createTextVNode(\"\", -1)),\n          _createVNode(_unref(NNumberAnimation), {\n            to: _unref(progress).userCount\n          }, null, 8, [\"to\"]),\n          _cache[23] || (_cache[23] = _createTextVNode(\"\", -1))\n        ])\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(NSpace), {\n        class: \"missions\",\n        style: {\"margin-bottom\":\"auto\"},\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => [\n          _cache[26] || (_cache[26] = _createElementVNode(\"b\", null, \"\", -1)),\n          (appState.value.missionCount>0)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(appState.value.missionProgress, (missionProgress, mission) => {\n                  return (_openBlock(), _createBlock(_unref(NSpace), { key: mission }, {\n                    default: _withCtx(() => [\n                      (missionProgress!=-1)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            _createElementVNode(\"p\", null, [\n                              _createElementVNode(\"b\", null, _toDisplayString(_unref(missions)[mission].title), 1),\n                              _createTextVNode(\" \" + _toDisplayString(_unref(missions)[mission].desc) + \" \", 1),\n                              (missionProgress>=_unref(missions)[mission].maxProgress)\n                                ? (_openBlock(), _createBlock(_unref(NButton), {\n                                    key: 0,\n                                    type: \"warning\",\n                                    onClick: ($event: any) => {appState.value.missionProgress[mission]=-1;appState.value.missionCount-=1;_unref(missions)[mission].reward()}\n                                  }, {\n                                    default: _withCtx(() => [...(_cache[25] || (_cache[25] = [\n                                      _createTextVNode(\"\", -1)\n                                    ]))]),\n                                    _: 1\n                                  }, 8, [\"onClick\"]))\n                                : _createCommentVNode(\"\", true)\n                            ]),\n                            _createVNode(_unref(NProgress), {\n                              type: \"line\",\n                              percentage: Math.floor((missionProgress/_unref(missions)[mission].maxProgress)*100)\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(missionProgress) + \"/\" + _toDisplayString(_unref(missions)[mission].maxProgress), 1)\n                              ]),\n                              _: 2\n                            }, 1032, [\"percentage\"])\n                          ]))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 2\n                  }, 1024))\n                }), 128))\n              ]))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"  \"))\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(_unref(NButton), {\n          onClick: save,\n          type: 'primary'\n        }, {\n          default: _withCtx(() => [...(_cache[27] || (_cache[27] = [\n            _createTextVNode(\"\", -1)\n          ]))]),\n          _: 1\n        }),\n        _createVNode(_unref(NButton), {\n          onClick: load,\n          type: 'primary'\n        }, {\n          default: _withCtx(() => [...(_cache[28] || (_cache[28] = [\n            _createTextVNode(\"\", -1)\n          ]))]),\n          _: 1\n        }),\n        _createVNode(_unref(NButton), {\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (showHelp.value=!showHelp.value)),\n          type: 'info'\n        }, {\n          default: _withCtx(() => [...(_cache[29] || (_cache[29] = [\n            _createTextVNode(\"\", -1)\n          ]))]),\n          _: 1\n        })\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(_unref(NFlex), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NButton), {\n              size: \"large\",\n              onClick: _cache[12] || (_cache[12] = ($event: any) => (showStore.value=true))\n            }, {\n              default: _withCtx(() => [...(_cache[30] || (_cache[30] = [\n                _createTextVNode(\"\", -1)\n              ]))]),\n              _: 1\n            }),\n            _createElementVNode(\"div\", _hoisted_10, [\n              _createVNode(_unref(NIcon), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Time))\n                ]),\n                _: 1\n              }),\n              _createTextVNode(\" \" + _toDisplayString(_unref(time).toFixed()) + \" \", 1),\n              _createVNode(_unref(NIcon), null, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Network1))\n                ]),\n                _: 1\n              }),\n              _createTextVNode(\" \" + _toDisplayString(_unref(score)), 1)\n            ])\n          ]),\n          _: 1\n        })\n      ]),\n      _cache[31] || (_cache[31] = _createElementVNode(\"div\", { style: {\"margin\":\"auto\",\"color\":\"gainsboro\"} }, [\n        _createElementVNode(\"a\", {\n          style: {\"color\":\"gainsboro\",\"text-decoration\":\"none\"},\n          href: \"https://github.com/init-zey/socialmediasimulator\"\n        }, \"\"),\n        _createTextVNode(\"@ \")\n      ], -1)),\n      _createVNode(_unref(NButton), {\n        style: {\"margin-top\":\"auto\",\"margin-bottom\":\"auto\"},\n        size: \"large\",\n        onClick: _cache[13] || (_cache[13] = ($event: any) => {appState.value.paused=!appState.value.paused;_unref(emit)('missionProceed','start3',1)})\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(appState.value.paused?'':'') + \" Space\", 1)\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(NModal), {\n      show: showHelp.value,\n      \"onUpdate:show\": _cache[14] || (_cache[14] = ($event: any) => ((showHelp).value = $event)),\n      style: {\"width\":\"auto\",\"margin\":\"auto\"},\n      title: \"\",\n      preset: \"card\"\n    }, {\n      default: _withCtx(() => [\n        _cache[46] || (_cache[46] = _createElementVNode(\"p\", null, \"\", -1)),\n        _createElementVNode(\"p\", null, [\n          _createVNode(_unref(NIcon), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Network1))\n            ]),\n            _: 1\n          }),\n          _cache[32] || (_cache[32] = _createTextVNode(\"\", -1)),\n          _cache[33] || (_cache[33] = _createElementVNode(\"b\", null, \"\", -1)),\n          _cache[34] || (_cache[34] = _createTextVNode(\"\", -1))\n        ]),\n        _createElementVNode(\"p\", null, [\n          _createVNode(_unref(NIcon), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Network1))\n            ]),\n            _: 1\n          }),\n          _cache[35] || (_cache[35] = _createTextVNode(\"\", -1))\n        ]),\n        _createVNode(_unref(NDivider)),\n        _cache[47] || (_cache[47] = _createElementVNode(\"p\", null, [\n          _createTextVNode(\"\"),\n          _createElementVNode(\"b\", null, \"\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"b\", null, \"#\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"b\", null, \"\"),\n          _createTextVNode(\"\")\n        ], -1)),\n        _cache[48] || (_cache[48] = _createElementVNode(\"p\", null, [\n          _createElementVNode(\"span\", { style: {\"color\":\"red\"} }, \"\"),\n          _createTextVNode(\"=\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"blue\"} }, \"\"),\n          _createTextVNode(\"=\")\n        ], -1)),\n        _createElementVNode(\"p\", null, [\n          _cache[36] || (_cache[36] = _createTextVNode(\"\", -1)),\n          _createVNode(_unref(NIcon), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Network1))\n            ]),\n            _: 1\n          }),\n          _cache[37] || (_cache[37] = _createTextVNode(\"\", -1)),\n          _cache[38] || (_cache[38] = _createElementVNode(\"b\", null, \"\", -1)),\n          _cache[39] || (_cache[39] = _createTextVNode(\"\", -1)),\n          _cache[40] || (_cache[40] = _createElementVNode(\"b\", null, \"\", -1)),\n          _cache[41] || (_cache[41] = _createTextVNode(\"\", -1))\n        ]),\n        _createVNode(_unref(NDivider)),\n        _cache[49] || (_cache[49] = _createElementVNode(\"p\", null, \"\", -1)),\n        _cache[50] || (_cache[50] = _createElementVNode(\"p\", null, [\n          _createTextVNode(\"\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"red\"} }, \"\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"red\"} }, \"\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"\"} }, \"\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"blue\"} }, \"\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"blue\"} }, \"\"),\n          _createTextVNode(\"\"),\n          _createElementVNode(\"span\", { style: {\"color\":\"blue\"} }, \"\"),\n          _createTextVNode(\"\")\n        ], -1)),\n        _cache[51] || (_cache[51] = _createElementVNode(\"p\", null, \"\", -1)),\n        _cache[52] || (_cache[52] = _createElementVNode(\"p\", null, \"\", -1)),\n        _createElementVNode(\"p\", null, [\n          _cache[42] || (_cache[42] = _createTextVNode(\"\", -1)),\n          _createVNode(_unref(NIcon), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Network1))\n            ]),\n            _: 1\n          }),\n          _cache[43] || (_cache[43] = _createTextVNode(\"\", -1))\n        ]),\n        _createElementVNode(\"p\", null, [\n          _cache[44] || (_cache[44] = _createTextVNode(\"\", -1)),\n          _createVNode(_unref(NIcon), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Network1))\n            ]),\n            _: 1\n          }),\n          _cache[45] || (_cache[45] = _createTextVNode(\"\", -1))\n        ]),\n        _cache[53] || (_cache[53] = _createElementVNode(\"p\", null, \"\", -1))\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createVNode(_unref(NModal), {\n      show: showStore.value,\n      \"onUpdate:show\": _cache[15] || (_cache[15] = ($event: any) => ((showStore).value = $event)),\n      style: {\"margin\":\"50px\"},\n      title: \"\",\n      preset: \"card\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NFlex), { wrap: true }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).filter(s=>s.count!=0), (storeItem, index) => {\n              return (_openBlock(), _createBlock(_unref(NCard), {\n                style: {\"width\":\"auto\",\"height\":\"auto\"},\n                key: index\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(NThing), null, {\n                    header: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(storeItem.name), 1)\n                    ]),\n                    \"header-extra\": _withCtx(() => [\n                      (storeItem.cost>0)\n                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, [\n                            _createTextVNode(_toDisplayString(storeItem.cost) + \" \", 1),\n                            _createVNode(_unref(NIcon), null, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(Network1))\n                              ]),\n                              _: 1\n                            })\n                          ]))\n                        : _createCommentVNode(\"\", true),\n                      (storeItem.count>0)\n                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, [\n                            _cache[54] || (_cache[54] = _createTextVNode(\"\", -1)),\n                            _createElementVNode(\"b\", null, _toDisplayString(storeItem.count), 1)\n                          ]))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    description: _withCtx(() => [\n                      _createElementVNode(\"i\", null, _toDisplayString(storeItem.effectdesc), 1)\n                    ]),\n                    action: _withCtx(() => [\n                      _createVNode(_unref(NButton), {\n                        onClick: ($event: any) => {score.value-=storeItem.cost;storeItemEffects[storeItem.effect]();showStore.value=false;storeItem.count-=1;}\n                      }, {\n                        default: _withCtx(() => [...(_cache[55] || (_cache[55] = [\n                          _createTextVNode(\"\", -1)\n                        ]))]),\n                        _: 1\n                      }, 8, [\"onClick\"])\n                    ]),\n                    default: _withCtx(() => [\n                      _createTextVNode(\" \" + _toDisplayString(storeItem.desc) + \" \", 1)\n                    ]),\n                    _: 2\n                  }, 1024)\n                ]),\n                _: 2\n              }, 1024))\n            }), 128))\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { nextTick, onMounted, Ref, ref, watch } from 'vue';\nimport GameCanvas from './components/GameCanvas.vue';\nimport MessageCard from './components/MessageCard.vue';\nimport { createUser, Message, progress, rSet, updateUsers, resetProgress, loadProgress, pushMsgToUser, rGet, createMessage, score, time, saveProgress, hasRelationship } from './game';\nimport { emit, subscribe } from './event';\nimport { NPageHeader, NTag, NSpace, NDrawer, NDrawerContent, NButton, NModal, NIcon, NRow, NCol, NNumberAnimation, NStatistic, useMessage, NFlex, NCard, NDivider, NThing, NProgress, NConfigProvider, darkTheme } from 'naive-ui';\nimport { getUserName, loadText, processGenerateQueue, resetText, text } from './text';\nimport { startGenerateMessage } from './text';\nimport { View, ThumbsUp, AnalyticsReference, AiResultsHigh, Time, Network1 } from '@vicons/carbon'\nimport StatusBar from './components/StatusBar.vue';\nimport { missions } from './mission';\n\nconst naiveMessage = useMessage();\n\nconst searchCost = 10;\n\nconst showHelp = ref(localStorage.getItem(\"help\")==null);\nconst showStore = ref(false);\n\nfunction load()\n{\n    loadProgress();\n    loadText();\n    const appstateSource = localStorage.getItem('appstate');\n    if (appstateSource != null)\n    {\n        appState.value = JSON.parse(appstateSource);\n    }\n    naiveMessage.success(\"\");\n    const storeSource = localStorage.getItem('store');\n    if (storeSource != null)\n    {\n        store = JSON.parse(storeSource);\n    }\n}\n\nfunction save()\n{\n    localStorage.setItem('appstate', JSON.stringify(appState.value))\n    saveProgress();\n    localStorage.setItem('text', JSON.stringify(text));\n    naiveMessage.success(\"\");\n    localStorage.setItem('store',JSON.stringify(store));\n}\n\nonMounted(()=>{\n    localStorage.setItem(\"help\",\"\");\n    window.addEventListener('keydown', (e)=>{\n        if(e.key==' ')\n        {\n            appState.value.paused = !appState.value.paused;\n            emit('missionProceed','start3',1);\n            naiveMessage.info(appState.value.paused?\"\":\"\");\n            e.preventDefault();\n        }\n    })\n    gameInit();\n    const delta = 10;\n    setInterval(()=>{\n        if (appState.value.paused||showStatistic.value) return;\n        gameProcess(delta/1000);\n    },delta);\n    window.setScore = (newScore)=>{\n        score.value = newScore;\n    }\n    subscribe('missionProceed', (mission, progress)=>{\n        if (appState.value.missionProgress[mission]==-1) return;\n        if (mission in appState.value.missionProgress && appState.value.missionProgress[mission]>=0)\n        {\n            appState.value.missionProgress[mission] += progress;\n        }\n    });\n    subscribe('addMission', (mission)=>{\n        if (!(mission in appState.value.missionProgress))\n        {\n            appState.value.missionProgress[mission] = 0;\n            appState.value.missionCount += 1;\n        }\n    });\n    subscribe('addStoreItem', (storeItem)=>{\n        store.push(storeItem);\n    });\n    subscribe('addScore', (score)=>{\n\n    })\n});\n\nexport interface AppState {\n    mode: \"select-relationship\" | \"broadcast\";\n    editingRelationship: {i:number,j:number};\n    paused: boolean;\n    selectedUsers: Array<number>;\n    focusedUser: number;\n    collectedCost: Record<string, number>;\n    missionProgress: Record<string, number>;\n    missionCount: number;\n}\n\nconst appState:Ref<AppState> = ref({\n    mode:'select-relationship',\n    editingRelationship:{i:-1,j:-1},\n    paused:true,\n    selectedUsers: [],\n    focusedUser: -1,\n    collectedCost: {},\n    missionProgress: {'start1':0},\n    missionCount: 1\n});\n\nconst collectedMessage: Ref<Message|undefined> = ref(undefined);\n\nconst showEditorDrawer = ref(false);\nconst showStatistic = ref(false);\n\ninterface MessageStatistic {views:number,likes:number,score:number,responses:Record<number,string>}\n\nfunction createDefaultMessageStatistic()\n{\n    return {views:0,likes:0,score:0,responses:{}};\n}\nlet collectedMessageStatistic:Ref<MessageStatistic> = ref(createDefaultMessageStatistic());\nsubscribe('relationSelected', (i,j)=>\n{\n    if (appState.value.mode==\"select-relationship\")\n    {\n        showEditorDrawer.value = true;\n        collectedMessage.value = undefined;\n        appState.value.editingRelationship = {i,j};\n        emit('missionProceed','start1',1);\n        if (appState.value.missionProgress['start1']==1)\n        {\n            showEditorDrawer.value = false;\n        }\n    }\n});\nfunction collectMessage(i:number,j:number,v:number)\n{\n    collectedMessage.value = undefined;\n    collectedMessage.value=createMessage(i,i,j,v)\n    score.value -= searchCost*getCollectedMessageCost(i,j)\n}\nfunction getCollectedMessageCost(i:number,j:number):number\n{\n    const k = `${Math.min(i,j)}_${Math.max(i,j)}`;\n    if (!(k in appState.value.collectedCost)) return 1;\n    return appState.value.collectedCost[k];\n}\nwatch(score,(newScore)=>{\n    if (newScore <= searchCost)\n    {\n        gameEnded.value = true;\n    }\n})\n\nconst timedEvents:Record<number,()=>string> = {\n    10: ()=>{\n        createUser(1,'','',true,5);\n        return 'TGB';\n    }\n}\n\nconst storeItemEffects: Record<string, ()=>void> = {\n    'start': ()=>{\n        for (let g=0;g<3;g++)\n        {\n            randomCreateTopic();\n        }\n        emit('missionProceed','start4',1)\n        naiveMessage.warning(\"\");\n    },\n    'add-user': ()=>{\n        randomCreateUser();\n    },\n    'add-topic': ()=>{\n        randomCreateTopic();\n    },\n    'argue': ()=>{\n        for(let i=0;i<progress.userCount;i++)\n        {\n            if(progress.userType[i]!=0) continue;\n            for(let j=0;j<progress.userCount;j++)\n            {\n                if(progress.userType[i]!=1) continue;\n                if (Math.random()<0.25)\n                {\n                    rSet(i,j,-rGet(i,j));\n                }\n            }\n        }\n    }\n}\n\nlet store:Array<{cost:number,name:string,desc:string,effectdesc:string,effect:string,count:number}> = [\n    {\n        name:'',\n        desc:'',\n        effectdesc:'2-5',\n        cost:200,\n        effect: 'add-topic',\n        count:-1\n    },\n    {\n        name:'',\n        desc:'',\n        effectdesc:'1',\n        cost:50,\n        effect: 'add-user',\n        count:-1\n    },\n    {\n        name:'',\n        desc:'',\n        effectdesc:'25%',\n        cost:100,\n        effect: 'argue',\n        count:-1\n    }\n]\n\nfunction gameProcess(delta:number)\n{\n    const lastTime = Math.floor(time.value);\n    time.value += delta;\n    if (Math.floor(time.value)-lastTime>0)\n    {\n        score.value -= 1;\n        for(let eTime in timedEvents)\n        {\n            if (eTime == time.value.toFixed())\n            {\n                naiveMessage.warning(timedEvents[eTime]());\n            }\n        }\n    }\n    updateUsers(delta);\n}\n// function startBroadcastCollectedMessage()\n// {\n//     appState.value.mode = 'broadcast';\n//     appState.value.paused = true;\n//     showEditorDrawer.value = false;\n// }\n// function endBroadcastCollectedMessage()\n// {\n//     emit('tryGetBroadcastCollectedMessageTargets');\n// }\n// function exitBroadcastCollectedMessage()\n// {\n//     appState.value.mode = 'select-relationship';\n// }\n// subscribe('getBroadcastCollectedMessageTargets', (targets:Array<number>)=>\n// {\n\n// })\nfunction broadcastCollectedMessage()\n{\n    showEditorDrawer.value = false;\n    if (collectedMessage.value == undefined) return;\n    collectedMessageStatistic.value={views:0,likes:0,score:0,responses:{}};\n    for (let user=0;user<progress.userCount;user++)\n    {\n        if (progress.userType[user]!=0) continue;\n        pushMsgToUser(collectedMessage.value,user);\n    }\n    rSet(collectedMessage.value.i,collectedMessage.value.j,collectedMessage.value.v);\n    showStatistic.value = true;\n    appState.value.paused = true;\n    appState.value.mode = 'select-relationship';\n    const i = collectedMessage.value.i;\n    const j = collectedMessage.value.j;\n    const k = `${Math.min(i,j)}_${Math.max(i,j)}`;\n    if (!(k in appState.value.collectedCost))\n    {\n        appState.value.collectedCost[k] = 1;\n    }\n    appState.value.collectedCost[k] += 1;\n\n}\nsubscribe('addedMessage', (msg:Message)=>startGenerateMessage(msg));\nsetInterval(() => {\n    processGenerateQueue();\n}, 100);\nsetInterval(() => {\n    windowWidth.value = window.innerWidth;\n}, 1);\nconst windowWidth = ref(0);\nsubscribe('viewedMessage',(view)=>{\n    collectedMessageStatistic.value.views += view;\n});\nsubscribe('likedMessage',(like)=>{\n    collectedMessageStatistic.value.likes += like;\n});\nsubscribe('messageGainedScore',(msgscore)=>{\n    collectedMessageStatistic.value.score += msgscore;\n    score.value += msgscore;\n    emit('missionProceed', 'start2', msgscore);\n});\nsubscribe('messageResponsed',(author,response)=>{\n    collectedMessageStatistic.value.responses[author]=response;\n});\nconst gameEnded = ref(false);\nsubscribe('resetProgress', ()=>{\n    appState.value={\n        mode:'select-relationship',\n        editingRelationship:{i:0,j:0},\n        paused:true,\n        selectedUsers: [],\n        focusedUser: -1,\n        collectedCost: {},\n        missionProgress: {'start1':0},\n        missionCount: 1,\n    };\n    collectedMessageStatistic.value=createDefaultMessageStatistic();\n    showStore.value = false;\n    resetText();\n});\nfunction gameInit()\n{\n    createUser(0);\n    createUser(0);\n    createUser(0);\n    rSet(0,1,1);\n    rSet(0,2,1);\n    rSet(1,2,1);\n}\nfunction randomCreateUser()\n{\n    createUser(0);\n    let userId = progress.userCount-1;\n    rSet(userId,Math.floor(userId*Math.random()),1);\n    rSet(userId, userId, 0);\n}\nfunction randomCreateTopic()\n{\n    createUser(1);\n    const s = progress.userCount;\n    const size = 2+Math.ceil(Math.random()*3);\n    for(let i=0;i<size;i++)\n    {\n        createUser(0);\n        for (let j=0;j<s-1;j++)\n        {\n            if (progress.userType[j]==1)\n            {\n                rSet(s+i,j,(Math.floor(Math.random()*3)-1)*0.2);\n            }\n        }\n        rSet(s+i,s-1,1);\n    }\n    for(let i=0;i<size;i++)\n    {\n        for(let j=0;j<size;j++)\n        {\n            rSet(s+i,s+j,Math.floor(Math.random()*3)-1);\n        }\n    }\n    for (let i=0;i<size;i++)\n    {\n        rSet(s+i,s+i,0);\n    }\n}\n</script>\n\n<template>\n<div class=\"app\">\n    <GameCanvas v-model=\"appState\" ref=\"canvas\"/>\n    <div :class=\"appState.paused?'vintage vintage-paused':'vintage'\"></div>\n    <n-modal v-model:show=\"showStatistic\" preset=\"card\" style=\"max-width: 375px;min-height: 667px;\" size=\"huge\" :bordered=\"false\"\n        @update-show=\"(show)=>{if(!show){}}\"\n        :closable=\"false\"\n        :header-style=\"{padding:0}\"\n        :content-style=\"{display:'flex'}\"\n    >\n        <template #header>\n            <StatusBar/>\n        </template>\n        <n-space vertical justify=\"space-between\" style=\"width: 100%;\">\n            <n-page-header subtitle=\"\" @back=\"showStatistic=false\"></n-page-header>\n            <MessageCard v-if=\"collectedMessage!=undefined\" :msg=\"collectedMessage\">\n                <template #suffix>\n                    <n-space style=\"margin: 0\">\n                        <n-tag v-for=\"response,author in collectedMessageStatistic.responses\" :key=\"author\" round>\n                                {{getUserName(author)}} {{ response }}\n                        </n-tag>\n                    </n-space>\n                </template>\n            </MessageCard>\n            <n-row>\n                <n-col :span=\"12\">\n                    <n-statistic label=\"\" :value=\"(collectedMessageStatistic.views*1000).toFixed()\">\n                        <template #prefix><n-icon><View/></n-icon></template>\n                    </n-statistic>\n                </n-col>\n                <n-col :span=\"12\">\n                    <n-statistic label=\"\" :value=\"(collectedMessageStatistic.likes*Math.max(Math.random(),0.5)*1000).toFixed()\">\n                        <template #prefix><n-icon><ThumbsUp/></n-icon></template>\n                    </n-statistic>\n                </n-col>\n                <n-col :span=\"24\">\n                    <n-statistic label=\"\" :value=\"collectedMessageStatistic.score.toFixed()\">\n                        <template #prefix><n-icon><Network1/></n-icon></template>\n                    </n-statistic>\n                </n-col>\n            </n-row>\n        </n-space>\n    </n-modal>\n    <!-- <MessageList class=\"mainFlow\" v-model:label=\"text.flowLabel[0]\" :source=\"\" :flow=\"0\">\n        <template #prefix>\n            <StatusBar/>\n        </template>\n        <template #suffix>\n        </template>\n    </MessageList>-->\n        <n-drawer to=\"#app\" v-model:show=\"showEditorDrawer\" :width=\"windowWidth>500?500:windowWidth\">\n            <n-drawer-content :native-scrollbar=\"false\">\n                <template #header>\n                    <n-page-header subtitle=\"\" @back=\"showEditorDrawer=false\"></n-page-header>\n                    <h1>{{ getUserName(appState.editingRelationship.i) }}{{ getUserName(appState.editingRelationship.j) }}</h1>\n                </template>\n                <n-flex v-if=\"hasRelationship(appState.editingRelationship.i,appState.editingRelationship.j)\" vertical>\n                    <n-button v-if=\"collectedMessage==undefined\" @click=\"collectMessage(appState.editingRelationship.i,appState.editingRelationship.j,1)\">(-{{ searchCost*getCollectedMessageCost(appState.editingRelationship.i,appState.editingRelationship.j) }}<n-icon><Network1/>)</n-icon></n-button>\n                    <n-button v-if=\"collectedMessage==undefined\" @click=\"collectMessage(appState.editingRelationship.i,appState.editingRelationship.j,-1)\">(-{{ searchCost*getCollectedMessageCost(appState.editingRelationship.i,appState.editingRelationship.j) }}<n-icon><Network1/>)</n-icon></n-button>\n                    <n-button v-if=\"collectedMessage!=undefined\" @click=\"broadcastCollectedMessage\" :type=\"'primary'\"></n-button>\n                    <n-button v-if=\"collectedMessage!=undefined\" @click=\"collectedMessage=undefined\" :type=\"'primary'\"></n-button>\n                    <MessageCard v-if=\"collectedMessage!=undefined\" :msg=\"collectedMessage\">\n                        <template #action>\n                        </template>\n                    </MessageCard>\n                </n-flex>\n                <div v-else>\n                    \n                </div>\n            </n-drawer-content>\n        </n-drawer>\n        <n-modal v-model:show=\"gameEnded\" preset=\"card\" style=\"width: 500px;\" :title=\"``\" size=\"huge\" :bordered=\"false\" :mask-closable=false>\n            <h3><n-icon><Network1/></n-icon><n-number-animation :to=\"progress.userCount\"/></h3>\n            <template #action>\n                <center><n-button @click=\"gameEnded=false;resetProgress();gameInit();\"></n-button></center>\n            </template>\n        </n-modal>\n        <div class=\"pageside\" style=\"top: 0;left: 0;right: 0;\">\n            <n-space class=\"missions\" style=\"margin-bottom: auto;\" vertical>\n                <b></b>\n                <div v-if=\"appState.missionCount>0\">\n                    <n-space v-for=\"missionProgress,mission in appState.missionProgress\" :key=\"mission\">\n                        <div v-if=\"missionProgress!=-1\">\n                            <p>\n                                <b>{{ missions[mission].title }}</b>\n                                {{ missions[mission].desc }}\n                                <n-button type=\"warning\" @click=\"appState.missionProgress[mission]=-1;appState.missionCount-=1;missions[mission].reward()\" v-if=\"missionProgress>=missions[mission].maxProgress\"></n-button>\n                            </p>\n                            <n-progress type=\"line\" :percentage=\"Math.floor((missionProgress/missions[mission].maxProgress)*100)\">\n                                {{ missionProgress }}/{{ missions[mission].maxProgress }}\n                            </n-progress>\n                        </div>\n                    </n-space>\n                </div>\n                <div v-else>\n                    \n                </div>\n            </n-space>\n            <div class=\"buttons\">\n                <n-button @click=\"save\" :type=\"'primary'\"></n-button>\n                <n-button @click=\"load\" :type=\"'primary'\"></n-button>\n                <n-button @click=\"showHelp=!showHelp\" :type=\"'info'\"></n-button>\n            </div>\n        </div>\n        <div class=\"pageside\" style=\"bottom: 0;left: 0;right: 0;background: white; color:black; margin:0; box-shadow: 0 0 3px rgba(1,1,1,0.3);padding: 0.5em;\">\n            <div class=\"buttons\" style=\"margin-top:auto\">\n                <n-flex>\n                    <n-button size=\"large\" @click=\"showStore=true\"></n-button>\n                    <div style=\"margin: auto;\">\n                        <n-icon><Time/></n-icon> {{ time.toFixed() }} <n-icon><Network1/></n-icon> {{score }}\n                    </div>\n                </n-flex>\n            </div>\n            <div style=\"margin:auto;color:gainsboro\">\n                <a style=\"color:gainsboro;text-decoration: none;\" href=\"https://github.com/init-zey/socialmediasimulator\"></a>@\n            </div>\n            <n-button style=\"margin-top: auto;margin-bottom: auto;\" size=\"large\" @click=\"appState.paused=!appState.paused;emit('missionProceed','start3',1)\">{{appState.paused?'':''}} Space</n-button>\n        </div>\n        <n-modal v-model:show=\"showHelp\" style=\"width: auto; margin: auto;\" title=\"\" preset=\"card\">\n            <p></p>\n            <p><n-icon><Network1/></n-icon><b></b></p>\n            <p><n-icon><Network1/></n-icon></p>\n            <n-divider/>\n            <p><b></b><b>#</b><b></b></p>\n            <p><span style=\"color:red\"></span>=<span style=\"color:blue\"></span>=</p>\n            <p><n-icon><Network1/></n-icon><b></b><b></b></p>\n            <n-divider/>\n            <p></p>\n            <p><span style=\"color:red\"></span><span style=\"color:red\"></span><span style=\"color:\"></span><span style=\"color:blue\"></span><span style=\"color:blue\"></span><span style=\"color:blue\"></span></p>\n            <p></p>\n            <p></p>\n            <p><n-icon><Network1/></n-icon></p>\n            <p><n-icon><Network1/></n-icon></p>\n            <p></p>\n        </n-modal>\n        <n-modal v-model:show=\"showStore\" style=\"margin: 50px;\" title=\"\" preset=\"card\">\n            <n-flex :wrap=\"true\">\n                <n-card v-for=\"storeItem,index in store.filter(s=>s.count!=0)\" style=\"width: auto; height: auto;\" :key=\"index\">\n                    <n-thing>\n                        <template #header>\n                            {{ storeItem.name }}\n                        </template>\n                        <template #header-extra>\n                            <p v-if=\"storeItem.cost>0\">{{ storeItem.cost }} <n-icon><Network1/></n-icon></p>\n                            <p v-if=\"storeItem.count>0\"><b>{{ storeItem.count }}</b></p>\n                        </template>\n                        <template #description>\n                            <i>{{ storeItem.effectdesc }}</i>\n                        </template>\n                        {{ storeItem.desc }}\n                        <template #action>\n                            <n-button @click=\"score-=storeItem.cost;storeItemEffects[storeItem.effect]();showStore=false;storeItem.count-=1;\"></n-button>\n                        </template>\n                    </n-thing>\n                </n-card>\n            </n-flex>\n        </n-modal>\n</div>\n</template>\n\n<style>\nhtml, body\n{\n    margin: 0;\n    overflow: hidden;\n    user-select: none;\n}\n\n.app\n{\n    display: flex;\n    width: 100dvw;\n    height: 100dvh;\n}\n.buttons\n{\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n.flows\n{\n    overflow: hidden;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n.noscroll::-webkit-scrollbar {\n    display: none;\n}\n.flow\n{\n    width: 300px;\n    margin: 8px;\n    box-shadow: 0 0 5px 0px rgba(0,0,0,0.5);\n}\n.flow::-webkit-scrollbar {\n    display: none;\n}\n.flowControl\n{\n    width: 300px;\n    margin: 8px;\n    height: min-content;\n    display: flex;\n    flex-direction: column;\n}\n.pageside\n{\n    position: fixed;\n    pointer-events: none;\n    flex: 0;\n    display:flex;\n    justify-content:space-between;\n    margin: 8px;\n}\n.pageside > *\n{\n    pointer-events: auto;\n}\n.score\n{\n    top:auto;\n    bottom:0;\n    background: white;\n    box-shadow: 0 0 3px rgba(0,0,0,0.5);\n    border-radius: 20px;\n    color:black;\n    padding: 8px;\n    text-wrap-mode: nowrap;\n    text-align: center;\n}\n.mainFlow\n{\n    z-index:999;\n    position:fixed;\n    left:8px;\n    top:8px;\n    bottom: 8px;\n    z-index:999;\n}\n@media screen and (max-width:600px) {\n    .mainFlow\n    {\n        width: auto;\n        top:auto;\n        right: 8px;\n        height: 30%;\n    }\n    .user-editor-message-list\n    {\n        display: flex;\n        flex-direction: row;\n        height: 100%;\n        flex-wrap: wrap;\n    }\n}\n.missions\n{\n    background: white;\n    box-shadow: 0 0 3px rgba(0,0,0,0.5);\n    border-radius: 20px;\n    color:black;\n    padding: 1em;\n    margin-right: 1em;\n}\n#app\n{\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n}\n.vintage {\n    transition-property: opacity;\n    transition-duration: 500ms;\n    background-image:\n    radial-gradient(\n      circle at center,\n      transparent 70%,\n      rgba(0, 0, 0, 0.1) 100%\n    );\n    box-shadow: \n    inset 0 0 30px rgba(0, 0, 0, 0.05);\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    pointer-events: none;\n    opacity: 0.5;\n}\n.vintage-paused {\n    opacity: 1.0;\n}\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0760ae38&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <n-message-provider>\n        <App/>\n    </n-message-provider>\n</template>\n\n<script setup>\nimport App from './App.vue';\nimport { NMessageProvider, NConfigProvider, darkTheme } from 'naive-ui';\n</script>","import script from \"./AppContainer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppContainer.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport AppContainer from './AppContainer.vue'\nimport {} from 'typing'\n\ncreateApp(AppContainer).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksocial_media_sim\"] = self[\"webpackChunksocial_media_sim\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2964); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["events","subscribe","event","action","key","Object","keys","length","desubscribe","emit","args","values","forEach","OpenAI","apiKey","baseURL","dangerouslyAllowBrowser","async","chat","msg","topicNames","text","userTexts","messageTexts","generateQueue","flowLabel","loadText","textSource","localStorage","getItem","JSON","parse","resetText","getUserName","id","userNames","name","progress","userType","traits","randomPick","arr","Math","floor","random","getMessageMinimumVersionPrompt","content","generating","processGenerateQueue","undefined","console","log","push","minimumVersion","time","msgObj","messages","v","replace","j","getTimeText","t","shift","startGenerateMessage","weekdays","day","year","toFixed","month","weekday","getResponse","user","dInstability","d","getBubbleText","target","newValue","oldValue","userMemory","userGraph","userLife","userCount","userFlowTags","ref","score","resetProgress","value","loadProgress","progressSource","setProgress","parseInt","saveProgress","setItem","stringify","toString","newProgress","i","rGet","a","b","rGetIn","G","k","rSet","rSetIn","createMessage","changeAttitude","bubbleText","threshold","instability","p","s","x","userAvaliable","Gpx","o","Gpo","Gox","min","instabilityPartialD","i1","dGpo","i2","Gpo2","pushMsgToUser","oldGij","oldInstability","newInstability","abs","views","likes","ceil","max","updateUsers","delta","maxIpo","maxIpo_o","ipo","getRepulsion","rij","repulsion","innerRepulsion","outterRepulsion","createUser","type","prompt","randomRelationship","life","r","hasRelationship","_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","selected","Boolean","focused","setup","__props","onClick","bubbleTextLife","bubbleEvent","onMounted","setInterval","bubbleTextContent","onBeforeUnmount","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_unref","_createCommentVNode","__exports__","idealDist","stepLength","emits","calcX","radius","dx","calcY","y","dy","isUserInWindow","scrX","scrY","window","innerWidth","innerHeight","users","appState","_useModel","selectedUsers","mode","includes","focusedUser","filter","multiSelecting","multiSelectStartX","multiSelectStartY","mouseX","mouseY","touchStartX","touchStartY","touchStartCanvasX","touchStartCanvasY","touchesDistance","onTouchStart","e","preventDefault","touches","touch","clientX","clientY","onTouchEnd","draggingUser","onTouchMove","x1","y1","x2","y2","sqrt","changeScale","onMousemove","buttons","movementX","movementY","onMousedown","bgDownButtons","linesCanvas","linesCtx","onMouseup","ux","uy","newSelecteState","shiftKey","map","mx","my","s1","mx1","my1","s2","mx2","my2","onWheel","wheelDelta","getForce","ax","ay","bx","by","idealDistScale","strengthScale","ls","l","tl","f","physicsProcess","redraw","isNaN","userInstability","vx","vy","va","width","height","fromId","from","toId","to","rFT","rTF","opacity","aFT","minColorValue","styleFT","padStart","aTF","styleTF","grd","createLinearGradient","addColorStop","strokeStyle","beginPath","setLineDash","moveTo","lineTo","stroke","w","h","rect","fillStyle","fill","document","getElementById","getContext","pop","addEventListener","pointerMoved","ex","ey","style","_normalizeStyle","onTouchstart","onTouchmove","onTouchend","onPointermove","_Fragment","_renderList","_createBlock","CanvasUser","onPointerdown","$event","_isRef","onPointerup","left","top","_hoisted_3","_hoisted_4","timestr","messageText","NCard","hoverable","header","_withCtx","_renderSlot","$slots","footer","default","NSkeleton","repeat","_createVNode","NEllipsis","_createTextVNode","_","_hoisted_5","_hoisted_6","now","Date","updateTime","hours","getHours","minutes","getMinutes","NIcon","size","Wifi","BatteryFull","missions","maxProgress","reward","title","desc","effectdesc","cost","effect","count","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","searchCost","naiveMessage","useMessage","showHelp","showStore","load","appstateSource","success","storeSource","store","save","paused","info","gameInit","showStatistic","gameProcess","setScore","newScore","mission","missionProgress","missionCount","storeItem","editingRelationship","collectedCost","collectedMessage","showEditorDrawer","createDefaultMessageStatistic","responses","collectedMessageStatistic","collectMessage","getCollectedMessageCost","watch","gameEnded","timedEvents","storeItemEffects","start","g","randomCreateTopic","warning","add-user","randomCreateUser","add-topic","argue","lastTime","eTime","broadcastCollectedMessage","windowWidth","view","like","msgscore","author","response","userId","_component_center","_resolveComponent","GameCanvas","modelValue","_normalizeClass","NModal","show","preset","bordered","onUpdateShow","closable","padding","display","StatusBar","NSpace","vertical","justify","NPageHeader","subtitle","onBack","MessageCard","suffix","NTag","round","NRow","NCol","span","NStatistic","label","prefix","View","ThumbsUp","Network1","NDrawer","NDrawerContent","NFlex","NButton","NNumberAnimation","NProgress","percentage","Time","href","NDivider","wrap","index","NThing","description","NMessageProvider","App","createApp","AppContainer","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","n","getter","__esModule","definition","defineProperty","enumerable","get","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}