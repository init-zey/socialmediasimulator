(function(){"use strict";var e={7191:function(e,t,s){var l=s(5130),u=(s(4114),s(8111),s(2489),s(1701),s(3110),s(6768)),a=s(144),n=s(4232);s(7588);const o={};function r(e,t){e in o||(o[e]={});const s=Object.keys(o[e]).length-1;return o[e][s]=t,s}function i(e,...t){e in o&&Object.values(o[e]).forEach(e=>{e(...t)})}let c=!1,d={userMemory:{},subjectiveUserGraph:{},messages:[],userType:[],userLearnRate:[],userCount:0,userFlowTags:[],time:0,score:0};function v(){d={userMemory:{},subjectiveUserGraph:{},messages:[],userType:[],userLearnRate:[],userCount:0,userFlowTags:[],time:0,score:0},i("resetProgress")}function f(e){return e in d.subjectiveUserGraph||(d.subjectiveUserGraph[e]={}),d.subjectiveUserGraph[e]}function g(e,t,s){if(e>t)return g(t,e,s);const l=e.toString(32)+"_"+t.toString(32);return l in s?s[l]:0}function p(e,t,s,l){if(e>t)return void p(t,e,s,l);const u=e.toString(32)+"_"+t.toString(32);l[u]=s}function h(e,t){for(let s=0;s<d.userCount;s++){if(0!=d.userType[s])continue;const l=d.userFlowTags[s];if(0==t||void 0!=l&&l.includes(t))for(let t=0;t<e.length;t++)R(d.messages[e[t]],s,e.length-t)}}function b(e,t,s,l){const u={id:d.messages.length,a:e,i:t,j:s,v:l,t:d.time};d.messages.push(u),i("addedMessage",u)}function m(e,t,s,l){const u=f(e),a=g(t,s,u)+l;return p(t,s,a,u),Math.abs(l)>.2&&b(e,t,s,a),l}function y(e){console.log(`update ${e}`);let t=0,s=-1,l=-1;const u=f(e);for(let a=0;a<d.userCount;a++)for(let n=0;n<d.userCount;n++){let o=x(a,n,u);a!=e&&(o*=1-d.userLearnRate[e]),Math.abs(o)>Math.abs(t)&&(t=o,s=a,l=n)}if(s>=0){const u=-Math.atan(t)/3.14;console.log(`Dmax|dG(${s},${l})=${t},dAttitude=${u}`),m(e,s,l,u)}}function k(e){const t=f(e);let s=0;for(let l=0;l<d.userCount;l++){const u=g(e,l,t);for(let a=l;a<d.userCount;a++){const n=g(e,a,t),o=g(a,l,t),r=n*o-u;s+=r*r}}return s}function x(e,t,s){let l=0;const u=g(e,t,s);for(let n=0;n<d.userCount;n++){const a=g(t,n,s),o=g(e,n,s);l+=a*(u*a-o),l-=o*a-u}const a=g(t,t,s)-1;return l-=u*a*a,l}function R(e,t,s){t in d.userMemory||(d.userMemory[t]=[]),d.userMemory[t].push(e.id);const l=f(t),u=k(t),a=g(e.i,e.j,l),n=d.userLearnRate[t];p(e.i,e.j,a+n*g(t,e.a,l)*(e.v-a),l);const o=k(t),r=u-o,c=Math.abs(r),v=r>0?r:Math.random()*Math.abs(r)*.5;i("viewedMessage",e.id,c),i("likedMessage",e.id,v),i("messageKnownExposure",e.id,s),i("messageGainedScore",e.id,Math.floor((c+v)*s))}function w(){for(let e=0;e<d.userCount;e++)0==d.userType[e]&&y(e)}function _(e,t){const s=(e,t)=>Math.abs(g(e,t,f(e)))<.5;let l=s(e,t);if(!l){let u=!1;for(let l=1;l<t-e&&!u;l++)u=!s(e,e+l)&&!s(e+l,t);let a=!1;for(let l=1;l<e-t+d.userCount&&!a;l++){let u=t+l;u>=d.userCount&&(u-=d.userCount),a=!s(u,e)&&!s(t,u)}l=u&&a}return l}function M(e,t=.5){const s=d.userCount;d.userCount+=1,d.userType.push(e),d.userLearnRate.push(t),i("createdUser",s)}var F=s(9034),S=(s(8335),s(6051));new S.Ay({apiKey:"sk-uFDUPAriuBg6l84rhrFxcRect2V0gpH59KVXj8dxG6wblr5p",baseURL:"http://localhost:8080/llmapi",dangerouslyAllowBrowser:!0});function U(e){return new Promise(t=>{setTimeout(t,e)})}async function A(e){return await U(100),e}let T={userTexts:[],messageTexts:[],generateQueue:[],flowLabel:["主推送流"]};function C(){T={userTexts:[],messageTexts:[],generateQueue:[],flowLabel:["主推送流"]}}function L(e){return e<0||e>=T.userTexts.length?e.toString():T.userTexts[e].name}function j(e){return`[${e}]一句话总结这篇社媒博文。`}let K=!1;async function W(){if(K||void 0==T.generateQueue||0==T.generateQueue.length)return;const e=T.generateQueue[0];if(void 0==e)return;console.log("生成新消息"),K=!0,T.messageTexts.length-1<e&&T.messageTexts.push({title:"",content:"",minimumVersion:""});const t=d.messages[e];if(void 0!=t){let s="不感兴趣";t.v>.5&&(s="认同"),t.v<-.5&&(s="反对");const l=`${L(t.i)}对${L(t.j)}${s}。`,u="消息"+e.toString(),a=await A(j(l));T.messageTexts[e]={title:u,content:l,minimumVersion:a},localStorage.setItem("text",JSON.stringify(T)),i("generatedMessage",e,u,l),T.generateQueue.shift()}K=!1,console.log("消息生成完毕")}async function X(e){void 0!=T.generateQueue&&(e.id>=T.messageTexts.length||""==T.messageTexts[e.id].title)&&T.generateQueue.push(e.id)}const O={class:"username"};var $=(0,u.pM)({__name:"CanvasUser",props:{id:{},x:{},y:{},selected:{type:Boolean},focused:{type:Boolean},px:{},py:{},ps:{},badgeDefault:{},badgeInfo:{}},setup(e){const t=e;function s(){i("userPressed",t.id)}const l=d.userType[t.id];return(t,o)=>((0,u.uX)(),(0,u.CE)("div",{class:"canvas-user",style:(0,n.Tr)({left:(e.px+e.x)*e.ps-20+"px",top:(e.py+e.y)*e.ps-20+"px",outline:(e.selected?"2px":"1px")+" solid "+(e.focused?"#ff0":"#000"),"border-radius":(0==(0,a.R1)(l)?50:0)+"%"}),onClick:s},[(0,u.bF)((0,a.R1)(F.A),{value:e.badgeDefault,offset:[10,-5]},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(F.A),{value:e.badgeInfo,type:"info",offset:[10,30]},{default:(0,u.k6)(()=>[(0,u.Lk)("div",O,(0,n.v_)((0,a.R1)(L)(e.id)),1)]),_:1},8,["value"])]),_:1},8,["value"])],4))}}),I=s(1241);const E=(0,I.A)($,[["__scopeId","data-v-3ecaf952"]]);var G=E;const V=150,P=1/60,Q=100;var Y=(0,u.pM)({__name:"GameCanvas",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=(0,a.KR)({users:[],selectedUsers:[],focusedUser:-1});r("resetProgress",()=>{t.value={users:[],selectedUsers:[],focusedUser:-1}});const s=(0,u.fn)(e,"modelValue"),l=(0,a.KR)(0),o=(0,a.KR)(0),i=(0,a.KR)(1);r("userPressed",e=>{if("user-edit"==s.value?.mode)return;let l=t.value.selectedUsers;l.includes(e)?t.value.focusedUser!=e?t.value.focusedUser=e:(t.value.selectedUsers=l.filter(t=>t!=e),t.value.focusedUser=-1):(t.value.focusedUser=e,l.push(e))});let v=!1,p=0,h=0,b=0,m=0,y=0,k=0,x=0,R=0,w=-1;function M(e){if(e.preventDefault(),1==e.touches.length){const t=e.touches[0];y=t.clientX,k=t.clientY,x=l.value,R=o.value}}function F(e){e.preventDefault(),0==e.touches.length&&(w=-1)}function S(e){if(e.preventDefault(),1==e.touches.length&&-1==w){const t=e.touches[0];b=t.clientX,m=t.clientY,l.value=b-y+x,o.value=m-k+R}else if(2==e.touches.length){const t=e.touches[0].clientX,s=e.touches[0].clientY,l=e.touches[1].clientX,u=e.touches[1].clientY,a=Math.sqrt((t-l)*(t-l)+(s-u)*(s-u));if(w>0){let e=.01*(a-w);e<-1&&(e=-1),e>1&&(e=1),e+=1,K((t+l)/2,(s+u)/2,e)}w=a}}function U(e){4==e.buttons&&(l.value+=e.movementX/i.value,o.value+=e.movementY/i.value),b=e.clientX,m=e.clientY,v=1==e.buttons}function A(e){1==e.buttons&&(v=!0,p=e.clientX,h=e.clientY),L=e.buttons}let T,C,L=0;function j(e){1==L&&(t.value.selectedUsers=[],t.value.focusedUser=-1),v&&Math.abs(b-p)>10&&Math.abs(m-h)>10&&(t.value.selectedUsers=t.value.users.filter(s=>{const u=(s.x+l.value)*i.value,a=(s.y+o.value)*i.value;let n=!!e.shiftKey&&t.value.selectedUsers.includes(s.id);return(u>p&&u<b||u>b&&u<p)&&(a>h&&a<m||a>m&&a<h)&&(n=!0),n}).map(e=>e.id)),v=!1}function K(e,t,s){let u=i.value,a=e/u-l.value,n=t/u-o.value;i.value*=s;let r=i.value,c=e/r-l.value,d=t/r-o.value;l.value+=c-a,o.value+=d-n}function W(e){let t=.01*e.wheelDelta;t<0&&(t+=2),t<0||t>2||K(e.clientX,e.clientY,t)}const X=P*Q;function O(e,t,s,l,u,a,n){const o=s-e,r=l-t,i=o*o+r*r,c=Math.sqrt(i),d=V*a,v=15*n;let f=v*(c-d)/i*X;return u&&c>=d&&(f=0),{x:o*f,y:r*f}}function $(){const e=t.value.users;for(let t=0;t<d.userCount-1;t++){const s=e[t];for(let l=t+1;l<d.userCount;l++){const u=e[l],a=_(t,l);let n=O(s.x,s.y,u.x,u.y,a,a?1:.5,.5);s.vx+=n.x,s.vy+=n.y,u.vx-=n.x,u.vy-=n.y}}Object.values(t.value.users).forEach(e=>{e.vx*=1-.2*X,e.vy*=1-.2*X,e.vx-=.01*e.x*X,e.vy-=.01*e.y*X,e.x+=e.vx*X,e.y+=e.vy*X}),I()}function I(){if(void 0==s.value)return;if(T.width=window.innerWidth,T.height=window.innerHeight,s.value.editingUser>=0){const e=f(s.value.editingUser);Object.entries(e).forEach(([e,s])=>{const u=e.split("_"),a=parseInt(u[0],32),n=parseInt(u[1],32),r=t.value.users[a],d=t.value.users[n];let v=Math.abs(s);if(v>1&&(v=1),v<0)return;const f=(r.x+l.value)*i.value,g=(r.y+o.value)*i.value,p=(d.x+l.value)*i.value,h=(d.y+o.value)*i.value;c&&(C.strokeStyle="#000",C.font="16px Arial",C.fillText(s.toFixed(2).toString(),.5*(f+p),.5*(g+h)));const b=`#${s<0?"ff":"00"}00${s>=0?"ff":"00"}${Math.floor(255*v).toString(16).padStart(2,"0")}`;C.strokeStyle=b,C.beginPath(),C.moveTo(f,g),C.lineTo(p,h),C.stroke()})}else for(const s in d.subjectiveUserGraph){const e=parseInt(s),u=t.value.users[e];void 0!=u&&Object.entries(d.subjectiveUserGraph[e]).forEach(([s,a])=>{const n=s.split("_"),r=n[0];if(r!=e.toString())return;const c=parseInt(n[1],32),d=t.value.users[c];let v=Math.abs(a);v>1&&(v=1);const p=`#${a<0?"ff":"00"}00${a>=0?"ff":"00"}${Math.floor(255*v).toString(16).padStart(2,"0")}`,h=g(e,c,f(c));let b=Math.abs(h);b>1&&(b=1);const m=`#${h<0?"ff":"00"}00${h>=0?"ff":"00"}${Math.floor(255*b).toString(16).padStart(2,"0")}`,y=(u.x+l.value)*i.value,k=(u.y+o.value)*i.value,x=(d.x+l.value)*i.value,R=(d.y+o.value)*i.value,w=C.createLinearGradient(y,k,x,R);w.addColorStop(0,p),w.addColorStop(1,m),C.strokeStyle=w,C.beginPath(),C.moveTo(y,k),C.lineTo(x,R),C.stroke()})}const e=b-p,u=m-h;v&&Math.abs(e)>10&&Math.abs(u)>10&&(C.rect(p,h,e,u),C.fillStyle="#00000033",C.fill())}return(0,u.sV)(()=>{T=document.getElementById("lines"),C=T.getContext("2d"),setInterval($,1e3*P),r("createdUser",e=>{t.value.users.push({id:e,x:e%2*100,y:100*Math.floor(e/2),vx:0,vy:0})}),r("removedUser",()=>{t.value.users.pop()})}),(e,a)=>((0,u.uX)(),(0,u.CE)("div",{class:"canvas",style:(0,n.Tr)({"background-size":20*i.value+"px "+20*i.value+"px","background-position":l.value*i.value+"px "+o.value*i.value+"px"})},[(0,u.Lk)("div",{class:"mouse-input-handler",onMousedown:A,onMouseup:j,onMousemove:U,onTouchstart:M,onTouchend:F,onTouchmove:S,onWheel:W},null,32),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.value.users,e=>((0,u.uX)(),(0,u.Wv)(G,{key:e.id,id:e.id,x:e.x,y:e.y,px:l.value,py:o.value,ps:i.value,selected:t.value.selectedUsers.includes(e.id),focused:t.value.focusedUser==e.id,"badge-default":(e.id in(s.value?.uncollectedMessages??{})?s.value?.uncollectedMessages[e.id].length:0)??0,"badge-info":0},null,8,["id","x","y","px","py","ps","selected","focused","badge-default"]))),128)),a[0]||(a[0]=(0,u.Lk)("canvas",{id:"lines"},null,-1))],4))}});const z=(0,I.A)(Y,[["__scopeId","data-v-08cb9044"]]);var D=z,B=s(2517),J=s(2151),N=s(1373);const q={key:1},H={class:"author"},Z={key:1};var ee=(0,u.pM)({__name:"MessageCard",props:{msg:{}},setup(e){const t=e;let s=(0,a.KR)(""),l=(0,a.KR)("");setInterval(()=>{const e=T.messageTexts[t.msg.id];"undefined"!=typeof e&&""!=e.title&&(s.value=e.title,l.value=e.content)},1);return(t,o)=>((0,u.uX)(),(0,u.Wv)((0,a.R1)(B.Ay),{class:"message-card",hoverable:""},{header:(0,u.k6)(()=>[""==(0,a.R1)(s)?((0,u.uX)(),(0,u.Wv)((0,a.R1)(J.A),{key:0,width:100,round:""})):((0,u.uX)(),(0,u.CE)("div",q,[(0,u.Lk)("h3",null,[(0,u.bF)((0,a.R1)(N.Ay),{"line-clamp":2},{default:(0,u.k6)(()=>[(0,u.eW)((0,n.v_)((0,a.R1)(s)),1)]),_:1})])]))]),"header-extra":(0,u.k6)(()=>[(0,u.RG)(t.$slots,"header-extra")]),action:(0,u.k6)(()=>[(0,u.RG)(t.$slots,"action")]),default:(0,u.k6)(()=>[(0,u.Lk)("div",H,(0,n.v_)((0,a.R1)(L)(e.msg.a))+" 发布于 "+(0,n.v_)(e.msg.t),1),""==(0,a.R1)(l)?((0,u.uX)(),(0,u.Wv)((0,a.R1)(J.A),{key:0,text:"",repeat:2})):((0,u.uX)(),(0,u.CE)("div",Z,[(0,u.Lk)("p",null,[(0,u.bF)((0,a.R1)(N.Ay),{"line-clamp":2},{default:(0,u.k6)(()=>[(0,u.eW)((0,n.v_)((0,a.R1)(l)),1)]),_:1})])])),(0,u.RG)(t.$slots,"suffix")]),_:3}))}});const te=(0,I.A)(ee,[["__scopeId","data-v-a1734486"]]);var se=te,le=s(5036),ue=s(8285),ae=s(8819),ne=s(3981),oe=s(6815),re=s(7966),ie=s(6693),ce=s(9310),de=s(4526),ve=s(1097),fe=s(7732),ge=s(1527),pe=s.n(ge),he=s(8419),be=(0,u.pM)({__name:"MessageFlow",props:(0,u.zz)({flow:{}},{source:{},sourceModifiers:{},label:{},labelModifiers:{}}),emits:["update:source","update:label"],setup(e){const t=(0,u.fn)(e,"source"),s=(0,u.fn)(e,"label");return(l,o)=>{const r=(0,u.g2)("center");return(0,u.uX)(),(0,u.Wv)((0,a.R1)(B.Ay),{class:"flow noscroll"},{default:(0,u.k6)(()=>[(0,u.bF)(r,null,{default:(0,u.k6)(()=>[0!=e.flow?((0,u.uX)(),(0,u.Wv)((0,a.R1)(he.A),{key:0,value:s.value,"onUpdate:value":o[0]||(o[0]=e=>s.value=e),size:"small",type:"text",placeholder:"自定义推送流"},null,8,["value"])):(0,u.Q3)("",!0)]),_:1}),(0,u.bF)((0,a.R1)(pe()),{modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),animation:"200","item-key":"element",group:"flow",style:{height:"100%"}},{item:(0,u.k6)(e=>[(0,u.Lk)("div",null,[(0,u.bF)(se,{msg:(0,a.R1)(d).messages[e.element]},{"header-extra":(0,u.k6)(()=>[(0,u.Lk)("b",null,(0,n.v_)((t.value?.length??0)-e.index)+"x",1)]),_:2},1032,["msg"])])]),_:1},8,["modelValue"])]),_:1})}}});const me=be;var ye=me,ke=s(8802),xe=s(8051),Re=s(3998),we=s(1055),_e=s(3994),Me=s(7838);const Fe={class:"app"},Se={class:"pagebottom"},Ue={class:"score"},Ae={class:"buttons"};var Te=(0,u.pM)({__name:"App",setup(e){(0,u.sV)(()=>{window.addEventListener("beforeunload",()=>{localStorage.setItem("appstate",JSON.stringify(t.value)),localStorage.setItem("progress",JSON.stringify(d))}),S()});const t=(0,a.KR)({mode:"user-edit",editingUser:-1,uncollectedMessages:{},flows:[[]],messageStatistic:[]}),s=(0,a.KR)(!1);(0,a.KR)(!1),(0,a.KR)(d.messages);const l=(0,a.KR)([]);const o=(0,a.KR)(null);(0,u.wB)(o,e=>{e&&(0,u.dY)(()=>e.focus())});const i=(0,a.KR)("");(0,u.EW)(()=>null===i.value?[]:T.flowLabel.filter(e=>!l.value.includes(e)&&e.includes(i.value)).map(e=>({label:e,value:e})));function c(e){t.value.uncollectedMessages[e.a]=t.value.uncollectedMessages[e.a].filter(t=>t!=e.id)}function g(e){c(e),t.value.flows[0].push(e.id)}function b(){d.time+=1,_.value=d.time,t.value.uncollectedMessages={};for(let e=0;e<t.value.flows.length;e++)h(t.value.flows[e],e),t.value.flows[e]=[];w(),0==Object.keys(t.value.uncollectedMessages).length?F.value=!0:t.value.messageStatistic.length>0&&(t.value.messageStatistic=t.value.messageStatistic.sort((e,t)=>t.exposure-e.exposure),k.value=!0)}r("userPressed",e=>{if(0==d.userType[e]&&"user-edit"==t.value.mode){s.value=!0,t.value.editingUser=e;while(d.userFlowTags.length<=e)d.userFlowTags.push([]);l.value=d.userFlowTags[e].map(e=>T.flowLabel[e])}}),r("addedMessage",e=>{e.a in t.value.uncollectedMessages||(t.value.uncollectedMessages[e.a]=[]),t.value.uncollectedMessages[e.a].push(e.id)}),r("addedMessage",e=>X(e)),setInterval(()=>{W()},1e3),setInterval(()=>{m.value=window.innerWidth},1);const m=(0,a.KR)(0);function y(e){for(let s=0;s<t.value.messageStatistic.length;s++)if(t.value.messageStatistic[s].msg==e)return s;return t.value.messageStatistic.push({msg:e,views:0,likes:0,exposure:0,score:0}),t.value.messageStatistic.length-1}r("viewedMessage",(e,s)=>{t.value.messageStatistic[y(e)].views=s}),r("likedMessage",(e,s)=>{t.value.messageStatistic[y(e)].likes=s}),r("messageKnownExposure",(e,s)=>{t.value.messageStatistic[y(e)].exposure=s}),r("messageGainedScore",(e,s)=>{t.value.messageStatistic[y(e)].score=s,d.score+=s,R.value=d.score,x+=s});const k=(0,a.KR)(!1);let x=0;const R=(0,a.KR)(0),_=(0,a.KR)(0),F=(0,a.KR)(!1);function S(){for(let e=0;e<4*Math.random()+4;e++)M(0);for(let e=0;e<d.userCount;e++){const t=f(e);for(let s=0;s<d.userCount;s++)p(e,s,2*(2*Math.random()-1),t)}b()}return r("resetProgress",()=>{t.value={mode:"user-edit",editingUser:-1,uncollectedMessages:{},flows:[[]],messageStatistic:[]},_.value=0,R.value=0,C(),S()}),(e,o)=>{const r=(0,u.g2)("center");return(0,u.uX)(),(0,u.CE)("div",Fe,[(0,u.bF)(D,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),ref:"canvas"},null,8,["modelValue"]),(0,u.bF)((0,a.R1)(le.A),{show:k.value,"onUpdate:show":o[1]||(o[1]=e=>k.value=e),preset:"card",style:{width:"600px"},title:`第${(0,a.R1)(d).time}回合统计`,size:"huge",bordered:!1,onUpdateShow:o[2]||(o[2]=e=>{e||(t.value.messageStatistic=[],(0,a.i9)(x)?x.value=0:x=0)})},{default:(0,u.k6)(()=>[(0,u.bF)(r,null,{default:(0,u.k6)(()=>[o[10]||(o[10]=(0,u.Lk)("h3",null,"总得分",-1)),(0,u.Lk)("h1",null,[(0,u.bF)((0,a.R1)(ue.A),{to:Math.floor((0,a.R1)(x))},null,8,["to"])])]),_:1}),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.value.messageStatistic,e=>((0,u.uX)(),(0,u.Wv)(se,{key:e.msg,msg:(0,a.R1)(d).messages[e.msg]},{suffix:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(ae.Ay),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(ne.Ay),{span:12},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(oe.A),{label:"浏览",value:e.views.toFixed(3)},{prefix:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(re._),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(ke.A))]),_:1})]),suffix:(0,u.k6)(()=>[...o[11]||(o[11]=[(0,u.eW)("K",-1)])]),_:1},8,["value"])]),_:2},1024),(0,u.bF)((0,a.R1)(ne.Ay),{span:12},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(oe.A),{label:"点赞",value:(e.likes*(Math.abs(Math.random()-.8)+.8)).toFixed(3)},{prefix:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(re._),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(xe.A))]),_:1})]),suffix:(0,u.k6)(()=>[...o[12]||(o[12]=[(0,u.eW)("K",-1)])]),_:1},8,["value"])]),_:2},1024),(0,u.bF)((0,a.R1)(ne.Ay),{span:12},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(oe.A),{label:"曝光倍率",value:e.exposure},{prefix:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(re._),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(Re.A))]),_:1})]),suffix:(0,u.k6)(()=>[...o[13]||(o[13]=[(0,u.eW)("x",-1)])]),_:1},8,["value"])]),_:2},1024),(0,u.bF)((0,a.R1)(ne.Ay),{span:12},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(oe.A),{label:"得分",value:e.score.toFixed()},{prefix:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(re._),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(we.A))]),_:1})]),_:1},8,["value"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["msg"]))),128))]),_:1},8,["show","title"]),(0,u.bF)(ye,{style:{"box-shadow":"none",background:"none",border:"none",padding:"20px","z-index":"999",position:"fixed",left:"20px",top:"20px",bottom:"20px"},label:(0,a.R1)(T).flowLabel[0],"onUpdate:label":o[3]||(o[3]=e=>(0,a.R1)(T).flowLabel[0]=e),source:t.value.flows[0],"onUpdate:source":o[4]||(o[4]=e=>t.value.flows[0]=e),flow:0},null,8,["label","source"]),(0,u.bF)((0,a.R1)(ie.A),{class:"user-editor-container",show:s.value,"onUpdate:show":o[6]||(o[6]=e=>s.value=e),width:m.value>500?500:m.value,onUpdateShow:o[7]||(o[7]=e=>{e||((0,a.R1)(d).userFlowTags[t.value.editingUser]=l.value.map(e=>(0,a.R1)(T).flowLabel.indexOf(e)).filter(e=>e>0),console.log((0,a.R1)(d).userFlowTags[t.value.editingUser]),t.value.editingUser=-1)})},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(ce.A),{"native-scrollbar":!1},{header:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(de.A),{subtitle:"用户分析",onBack:o[5]||(o[5]=e=>s.value=!1)}),(0,u.Lk)("h1",null,"#"+(0,n.v_)((0,a.R1)(L)(t.value.editingUser)),1)]),default:(0,u.k6)(()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.value.uncollectedMessages[t.value.editingUser],e=>((0,u.uX)(),(0,u.Wv)(se,{msg:(0,a.R1)(d).messages[e],key:e},{action:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(ve.A),{justify:"space-between"},{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(fe.Ay),{onClick:t=>g((0,a.R1)(d).messages[e])},{default:(0,u.k6)(()=>[...o[14]||(o[14]=[(0,u.eW)("收集",-1)])]),_:1},8,["onClick"]),(0,u.bF)((0,a.R1)(fe.Ay),{onClick:t=>c((0,a.R1)(d).messages[e])},{default:(0,u.k6)(()=>[...o[15]||(o[15]=[(0,u.eW)("忽略",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["msg"]))),128))]),_:1})]),_:1},8,["show","width"]),(0,u.Lk)("div",Se,[o[18]||(o[18]=(0,u.Lk)("div",{class:"buttons"},null,-1)),(0,u.Lk)("div",Ue,[(0,u.bF)((0,a.R1)(re._),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(_e.A))]),_:1}),(0,u.eW)(" "+(0,n.v_)(_.value)+" ",1),(0,u.bF)((0,a.R1)(re._),null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(Me.A))]),_:1}),o[16]||(o[16]=(0,u.eW)()),(0,u.bF)((0,a.R1)(ue.A),{to:R.value},null,8,["to"])]),(0,u.Lk)("div",Ae,[(0,u.bF)((0,a.R1)(fe.Ay),{round:"",type:"primary",size:"large",onClick:b},{default:(0,u.k6)(()=>[...o[17]||(o[17]=[(0,u.eW)("结束回合",-1)])]),_:1})])]),(0,u.bF)((0,a.R1)(le.A),{show:F.value,"onUpdate:show":o[9]||(o[9]=e=>F.value=e),preset:"card",style:{width:"600px"},title:"游戏结束",size:"huge",bordered:!1,"mask-closable":!1},{default:(0,u.k6)(()=>[(0,u.Lk)("p",null,[o[19]||(o[19]=(0,u.eW)("你的网络在第",-1)),(0,u.Lk)("b",null,(0,n.v_)(_.value),1),o[20]||(o[20]=(0,u.eW)("回合安静下来了，你的得分是",-1)),(0,u.Lk)("b",null,(0,n.v_)(R.value),1),o[21]||(o[21]=(0,u.eW)("。",-1))]),(0,u.bF)(r,null,{default:(0,u.k6)(()=>[(0,u.bF)((0,a.R1)(fe.Ay),{onClick:o[8]||(o[8]=e=>{F.value=!1,(0,a.R1)(v)()})},{default:(0,u.k6)(()=>[...o[22]||(o[22]=[(0,u.eW)("重新开始",-1)])]),_:1})]),_:1})]),_:1},8,["show"])])}}});const Ce=Te;var Le=Ce;(0,l.Ef)(Le).mount("#app")}},t={};function s(l){var u=t[l];if(void 0!==u)return u.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,l,u,a){if(!l){var n=1/0;for(c=0;c<e.length;c++){l=e[c][0],u=e[c][1],a=e[c][2];for(var o=!0,r=0;r<l.length;r++)(!1&a||n>=a)&&Object.keys(s.O).every(function(e){return s.O[e](l[r])})?l.splice(r--,1):(o=!1,a<n&&(n=a));if(o){e.splice(c--,1);var i=u();void 0!==i&&(t=i)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,u,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var u,a,n=l[0],o=l[1],r=l[2],i=0;if(n.some(function(t){return 0!==e[t]})){for(u in o)s.o(o,u)&&(s.m[u]=o[u]);if(r)var c=r(s)}for(t&&t(l);i<n.length;i++)a=n[i],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},l=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[504],function(){return s(7191)});l=s.O(l)})();
//# sourceMappingURL=app.16c76c7b.js.map